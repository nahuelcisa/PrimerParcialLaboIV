var wA=Object.defineProperty,IA=Object.defineProperties,DA=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,bA=Object.prototype.hasOwnProperty,CA=Object.prototype.propertyIsEnumerable,oT=(bt,Me,G)=>Me in bt?wA(bt,Me,{enumerable:!0,configurable:!0,writable:!0,value:G}):bt[Me]=G,aT=(bt,Me)=>{for(var G in Me||(Me={}))bA.call(Me,G)&&oT(bt,G,Me[G]);if(sT)for(var G of sT(Me))CA.call(Me,G)&&oT(bt,G,Me[G]);return bt},uT=(bt,Me)=>IA(bt,DA(Me));(self.webpackChunkprimerParcialLaboIV=self.webpackChunkprimerParcialLaboIV||[]).push([[179],{3692:(bt,Me,G)=>{"use strict";G.d(Me,{Ot:()=>me,z6:()=>K,ZF:()=>Qe,hX:()=>it});var v=G(5867),N=G(1223),ue=G(8321);class me{constructor(mt){return mt}}class K{constructor(){return(0,v.C6)()}}const Ke=new N.OlP("angularfire2._apps"),Fe={provide:me,useFactory:function Ne(xe){return xe&&1===xe.length?xe[0]:new me((0,v.Mq)())},deps:[[new N.FiY,Ke]]},X={provide:K,deps:[[new N.FiY,Ke]]};function te(xe){return(mt,rt)=>{const $e=mt.runOutsideAngular(()=>xe(rt));return new me($e)}}let Ue=(()=>{class xe{constructor(rt){(0,v.KN)("angularfire",ue.q4.full,"core"),(0,v.KN)("angularfire",ue.q4.full,"app"),(0,v.KN)("angular",N.q4F.full,rt.toString())}}return xe.\u0275fac=function(rt){return new(rt||xe)(N.LFG(N.Lbi))},xe.\u0275mod=N.oAB({type:xe}),xe.\u0275inj=N.cJS({providers:[Fe,X]}),xe})();function it(xe,...mt){return{ngModule:Ue,providers:[{provide:Ke,useFactory:te(xe),multi:!0,deps:[N.R0b,N.zs3,ue.HU,...mt]}]}}const Qe=(0,ue.u3)(v.ZF,!0)},7e3:(bt,Me,G)=>{"use strict";G.d(Me,{gg:()=>tw,ET:()=>yA,hJ:()=>_A,BS:()=>mA,ad:()=>vA,Cm:()=>gA});var v=G(8321),N=G(1223),ue=G(3692),me=G(5867),K=G(5861),we=G(2090),Ne=G(9681),Ke=G(1877);function Ue(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]])}return t}var pt=G(4859);const on=function sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kt=new we.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hr=new Ke.Yd("@firebase/auth");function Lr(n,...e){hr.logLevel<=Ke.in.ERROR&&hr.error(`Auth (${Ne.Jn}): ${n}`,...e)}function Ht(n,...e){throw gr(n,...e)}function An(n,...e){return gr(n,...e)}function Vr(n,e,t){const r=Object.assign(Object.assign({},on()),{[e]:t});return new we.LL("auth","Firebase",r).create(e,{appName:n.name})}function gr(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kt.create(n,...e)}function je(n,e,...t){if(!n)throw gr(e,...t)}function dn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lr(e),new Error(e)}function mr(n,e){n||dn(e)}const ke=new Map;function re(n){mr(n instanceof Function,"Expected a class definition");let e=ke.get(n);return e?(mr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ke.set(n,e),e)}function nt(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hn{constructor(e,t){this.shortDelay=e,this.longDelay=t,mr(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,we.uI)()||(0,we.b$)()}get(){return function Le(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function st(){return"http:"===nt()||"https:"===nt()}()||(0,we.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Sn{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new hn(3e4,6e4);function Jt(n,e,t,r){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,K.Z)(function*(n,e,t,r,a={}){return Vn(n,a,(0,K.Z)(function*(){let l={},h={};r&&("GET"===e?h=r:l={body:JSON.stringify(r)});const p=(0,we.xO)(Object.assign({key:n.config.apiKey},h)).slice(1),I=yield n._getAdditionalHeaders();return I["Content-Type"]="application/json",n.languageCode&&(I["X-Firebase-Locale"]=n.languageCode),Sn.fetch()(xt(n,n.config.apiHost,t,p),Object.assign({method:e,headers:I,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function Vn(n,e,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,K.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jn),e);try{const a=new Bt(n),l=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw q(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const p=l.ok?h.errorMessage:h.error.message,[I,S]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===I)throw q(n,"credential-already-in-use",h);if("EMAIL_EXISTS"===I)throw q(n,"email-already-in-use",h);if("USER_DISABLED"===I)throw q(n,"user-disabled",h);const L=r[I]||I.toLowerCase().replace(/[_\s]+/g,"-");if(S)throw Vr(n,L,S);Ht(n,L)}}catch(a){if(a instanceof we.ZR)throw a;Ht(n,"network-request-failed")}})).apply(this,arguments)}function xt(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?function _n(n,e){mr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class Bt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function q(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=An(n,e,r);return a.customData._tokenResponse=t,a}function ae(){return(ae=(0,K.Z)(function*(n,e){return Jt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _t(n,e){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,K.Z)(function*(n,e){return Jt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function En(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Ft(){return(Ft=(0,K.Z)(function*(n,e=!1){const t=(0,we.m9)(n),r=yield t.getIdToken(e),a=$n(r);je(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l="object"==typeof a.firebase?a.firebase:void 0,h=null==l?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:En(Zt(a.auth_time)),issuedAtTime:En(Zt(a.iat)),expirationTime:En(Zt(a.exp)),signInProvider:h||null,signInSecondFactor:(null==l?void 0:l.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(n){return 1e3*Number(n)}function $n(n){var e;const[t,r,a]=n.split(".");if(void 0===t||void 0===r||void 0===a)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,we.tV)(r);return l?JSON.parse(l):(Lr("Failed to decode base64 JWT payload"),null)}catch(l){return Lr("Caught error parsing JWT payload as JSON",null===(e=l)||void 0===e?void 0:e.toString()),null}}function Yr(n,e){return _i.apply(this,arguments)}function _i(){return(_i=(0,K.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof we.ZR&&Oi(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Oi({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class oo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,K.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,K.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Hn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(n){return Er.apply(this,arguments)}function Er(){return(Er=(0,K.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),a=yield Yr(n,_t(t,{idToken:r}));je(null==a?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const h=(null===(e=l.providerUserInfo)||void 0===e?void 0:e.length)?Ur(l.providerUserInfo):[],p=Ni(n.providerData,h),L=!!n.isAnonymous&&!(n.email&&l.passwordHash||(null==p?void 0:p.length)),W={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Hn(l.createdAt,l.lastLoginAt),isAnonymous:L};Object.assign(n,W)})).apply(this,arguments)}function Qr(){return(Qr=(0,K.Z)(function*(n){const e=(0,we.m9)(n);yield Nn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ni(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Ur(n){return n.map(e=>{var{providerId:t}=e,r=Ue(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wr(){return(wr=(0,K.Z)(function*(n,e){const t=yield Vn(n,{},(0,K.Z)(function*(){const r=(0,we.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,h=xt(n,a,"/v1/token",`key=${l}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(h,{method:"POST",headers:p,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(void 0!==e.idToken,"internal-error"),je(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function sr(n){const e=$n(n);return je(e,"internal-error"),je(void 0!==e.exp,"internal-error"),je(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,K.Z)(function*(){return je(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,K.Z)(function*(){const{accessToken:a,refreshToken:l,expiresIn:h}=yield function ai(n,e){return wr.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(a,l,Number(h))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,h=new Un;return r&&(je("string"==typeof r,"internal-error",{appName:e}),h.refreshToken=r),a&&(je("string"==typeof a,"internal-error",{appName:e}),h.accessToken=a),l&&(je("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return dn("not implemented")}}function ie(n,e){je("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Q{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=Ue(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hn(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,K.Z)(function*(){const r=yield Yr(t,t.stsTokenManager.getToken(t.auth,e));return je(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function fn(n){return Ft.apply(this,arguments)}(this,e)}reload(){return function er(n){return Qr.apply(this,arguments)}(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Q(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,K.Z)(function*(){let a=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield Nn(r)),yield r.auth._persistUserIfCurrent(r),a&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,K.Z)(function*(){const t=yield e.getIdToken();return yield Yr(e,function Y(n,e){return ae.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,h,p,I,S,L;const W=null!==(r=t.displayName)&&void 0!==r?r:void 0,ce=null!==(a=t.email)&&void 0!==a?a:void 0,Ce=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,Ve=null!==(h=t.photoURL)&&void 0!==h?h:void 0,ft=null!==(p=t.tenantId)&&void 0!==p?p:void 0,Ot=null!==(I=t._redirectEventId)&&void 0!==I?I:void 0,jn=null!==(S=t.createdAt)&&void 0!==S?S:void 0,ar=null!==(L=t.lastLoginAt)&&void 0!==L?L:void 0,{uid:ur,emailVerified:oi,isAnonymous:dr,providerData:tr,stsTokenManager:Ri}=t;je(ur&&Ri,e,"internal-error");const _h=Un.fromJSON(this.name,Ri);je("string"==typeof ur,e,"internal-error"),ie(W,e.name),ie(ce,e.name),je("boolean"==typeof oi,e,"internal-error"),je("boolean"==typeof dr,e,"internal-error"),ie(Ce,e.name),ie(Ve,e.name),ie(ft,e.name),ie(Ot,e.name),ie(jn,e.name),ie(ar,e.name);const rb=new Q({uid:ur,auth:e,email:ce,emailVerified:oi,displayName:W,isAnonymous:dr,photoURL:Ve,phoneNumber:Ce,tenantId:ft,stsTokenManager:_h,createdAt:jn,lastLoginAt:ar});return tr&&Array.isArray(tr)&&(rb.providerData=tr.map(EA=>Object.assign({},EA))),Ot&&(rb._redirectEventId=Ot),rb}static _fromIdTokenResponse(e,t,r=!1){return(0,K.Z)(function*(){const a=new Un;a.updateFromServerResponse(t);const l=new Q({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return yield Nn(l),l})()}}const se=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,K.Z)(function*(){return!0})()}_set(t,r){var a=this;return(0,K.Z)(function*(){a.storage[t]=r})()}_get(t){var r=this;return(0,K.Z)(function*(){const a=r.storage[t];return void 0===a?null:a})()}_remove(t){var r=this;return(0,K.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ie(n,e,t){return`firebase:${n}:${e}:${t}`}class ct{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Ie(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ie("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,K.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Q._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,K.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,K.Z)(function*(){if(!t.length)return new ct(re(se),e,r);const a=(yield Promise.all(t.map(function(){var S=(0,K.Z)(function*(L){if(yield L._isAvailable())return L});return function(L){return S.apply(this,arguments)}}()))).filter(S=>S);let l=a[0]||re(se);const h=Ie(r,e.config.apiKey,e.name);let p=null;for(const S of t)try{const L=yield S._get(h);if(L){const W=Q._fromJSON(e,L);S!==l&&(p=W),l=S;break}}catch(L){}const I=a.filter(S=>S._shouldAllowMigration);return l._shouldAllowMigration&&I.length?(l=I[0],p&&(yield l._set(h,p.toJSON())),yield Promise.all(t.map(function(){var S=(0,K.Z)(function*(L){if(L!==l)try{yield L._remove(h)}catch(W){}});return function(L){return S.apply(this,arguments)}}())),new ct(l,e,r)):new ct(l,e,r)})()}}function Yt(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function zi(n=(0,we.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function cn(n=(0,we.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Lt(n=(0,we.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function ki(n=(0,we.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function xn(n=(0,we.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function wn(n=(0,we.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function pr(n=(0,we.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Br(n,e=[]){let t;switch(n){case"Browser":t=Yt((0,we.z$)());break;case"Worker":t=`${Yt((0,we.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ne.Jn}/${r}`}class bn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((h,p)=>{try{h(e(l))}catch(I){p(I)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,K.Z)(function*(){var r;if(t.auth.currentUser===e)return;const a=[];try{for(const l of t.queue)yield l(e),l.onAbort&&a.push(l.onAbort)}catch(l){a.reverse();for(const h of a)try{h()}catch(p){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=l)||void 0===r?void 0:r.message})}})()}}class ao{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zn(this),this.idTokenSubscription=new zn(this),this.beforeStateQueue=new bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=re(t)),this._initializationPromise=this.queue((0,K.Z)(function*(){var a,l;if(!r._deleted&&(r.persistenceManager=yield ct.create(r,e),!r._deleted)){if(null===(a=r._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(h){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(l=r.currentUser)||void 0===l?void 0:l.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,K.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,K.Z)(function*(){var r;const a=yield t.assertedPersistence.getCurrentUser();let l=a,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const p=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,I=null==l?void 0:l._redirectEventId,S=yield t.tryRedirectSignIn(e);(!p||p===I)&&(null==S?void 0:S.user)&&(l=S.user,h=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(l)}catch(p){l=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(p))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return je(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,K.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(a){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,K.Z)(function*(){var r;try{yield Nn(e)}catch(a){if("auth/network-request-failed"!==(null===(r=a)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Gt(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,K.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,K.Z)(function*(){const r=e?(0,we.m9)(e):null;return r&&je(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,K.Z)(function*(){if(!r._deleted)return e&&je(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,K.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,K.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,K.Z)(function*(){yield t.assertedPersistence.setPersistence(re(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new we.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,K.Z)(function*(){const a=yield r.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,K.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&re(e)||t._popupRedirectResolver;je(r,t,"argument-error"),t.redirectPersistenceManager=yield ct.create(t,[re(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,K.Z)(function*(){var r,a;return t._isInitialized&&(yield t.queue((0,K.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,K.Z)(function*(){if(e===t.currentUser)return t.queue((0,K.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return je(h,this,"internal-error"),h.then(()=>l(this.currentUser)),"function"==typeof t?e.addObserver(t,r,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,K.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,K.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return a&&(r["X-Firebase-Client"]=a),r})()}}class zn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,we.ne)(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function bs(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new hn(3e4,6e4),new hn(2e3,1e4),new hn(3e4,6e4),new hn(5e3,15e3);var I_="@firebase/auth";class yw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,K.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var a;e((null===(a=r)||void 0===a?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,we.Pz)("authIdTokenMaxAge"),function Lh(n){(0,Ne.Xd)(new pt.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:l,authDomain:h}=r.options;return((p,I)=>{je(l&&!l.includes(":"),"invalid-api-key",{appName:p.name}),je(!(null==h?void 0:h.includes(":")),"argument-error",{appName:p.name});const S={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(n)},L=new ao(p,I,S);return function ze(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(re);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(L,t),L})(r,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Ne.Xd)(new pt.wA("auth-internal",e=>{const t=function Ir(n){return(0,we.m9)(n)}(e.getProvider("auth").getImmediate());return new yw(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.KN)(I_,"0.20.8",function b_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ne.KN)(I_,"0.20.8","esm2017")}("Browser");class hg{constructor(){return(0,v.vb)("auth")}}const Nw=new Map,Al={activated:!1,tokenObservers:[]},pg={initialized:!1,enabled:!1};function hi(n){return Nw.get(n)||Al}function no(n,e){Nw.set(n,e)}function Sl(){return pg}class F_{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,K.Z)(function*(){t.stop();try{t.pending=new we.BH,yield function mg(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new we.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function V_(n){if(!hi(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function ga(n,e){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,K.Z)(function*({url:n,body:e},t){var r,a;const l={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const Ce=yield h.getHeartbeatsHeader();Ce&&(l["X-Firebase-Client"]=Ce)}const p={method:"POST",body:JSON.stringify(e),headers:l};let I,S;try{I=yield fetch(n,p)}catch(Ce){throw ji.create("fetch-network-error",{originalErrorMessage:null===(r=Ce)||void 0===r?void 0:r.message})}if(200!==I.status)throw ji.create("fetch-status-error",{httpStatus:I.status});try{S=yield I.json()}catch(Ce){throw ji.create("fetch-parse-error",{originalErrorMessage:null===(a=Ce)||void 0===a?void 0:a.message})}const L=S.ttl.match(/^([\d.]+)(s)$/);if(!L||!L[2]||isNaN(Number(L[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const W=1e3*Number(L[1]),ce=Date.now();return{token:S.token,expireTimeMillis:ce+W,issuedAtTimeMillis:ce}})).apply(this,arguments)}function zh(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const xl="firebase-app-check-store";let Ml=null;function _g(){return Ml||(Ml=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=a=>{n(a.target.result)},r.onerror=a=>{var l;e(ji.create("storage-open",{originalErrorMessage:null===(l=a.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(xl,{keyPath:"compositeKey"})}}catch(r){e(ji.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Ml)}function $c(){return($c=(0,K.Z)(function*(n,e){const r=(yield _g()).transaction(xl,"readwrite"),l=r.objectStore(xl).put({compositeKey:n,value:e});return new Promise((h,p)=>{l.onsuccess=I=>{h()},r.onerror=I=>{var S;p(ji.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Hc=new Ke.Yd("@firebase/app-check");function zc(n,e){return(0,we.hl)()?function Wh(n,e){return function Eg(n,e){return $c.apply(this,arguments)}(function Ig(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Dg(){return Sl().enabled}function H_(){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,K.Z)(function*(){const n=Sl();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gw={error:"UNKNOWN_ERROR"};function vo(n){return we.US.encodeString(JSON.stringify(n),!1)}function Yh(n){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,K.Z)(function*(n,e=!1){const t=n.app;V_(t);const r=hi(t);let l,a=r.token;if(a&&!Ol(a)&&(no(t,Object.assign(Object.assign({},r),{token:void 0})),a=void 0),!a){const I=yield r.cachedTokenPromise;I&&(Ol(I)?a=I:yield zc(t,void 0))}if(!e&&a&&Ol(a))return{token:a.token};let p,h=!1;if(Dg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ga(zh(t,yield H_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),h=!0);const I=yield r.exchangeTokenPromise;return yield zc(t,I),no(t,Object.assign(Object.assign({},r),{token:I})),{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),h=!0),a=yield r.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Hc.warn(I.message):Hc.error(I),l=I}return a?l?p=Ol(a)?{token:a.token,internalError:l}:q_(l):(p={token:a.token},no(t,Object.assign(Object.assign({},r),{token:a})),yield zc(t,a)):p=q_(l),h&&Tg(t,p),p})).apply(this,arguments)}function Cg(n,e){const t=hi(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),no(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function z_(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function $w(n){const{app:e}=n;return new F_((0,K.Z)(function*(){let r;if(r=hi(e).token?yield Yh(n,!0):yield Yh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),no(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Tg(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function Ol(n){return n.expireTimeMillis-Date.now()>0}function q_(n){return{token:vo(Gw),error:n}}class Hw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)Cg(this.app,t.next);return Promise.resolve()}}const Ww="app-check-internal";!function Kw(){(0,Ne.Xd)(new pt.wA("app-check",n=>function ln(n,e){return new Hw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ww).initialize()})),(0,Ne.Xd)(new pt.wA(Ww,n=>function W_(n){return{getToken:e=>Yh(n,e),addTokenListener:e=>function bg(n,e,t,r){const{app:a}=n,l=hi(a),h={next:t,error:r,type:e};if(no(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Ol(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),z_(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>z_(n))}(n,"INTERNAL",e),removeTokenListener:e=>Cg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.KN)("@firebase/app-check","0.5.13")}();class xg{constructor(){return(0,v.vb)("app-check")}}"undefined"!=typeof window&&window;var Pt,tv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wo={},Zc=Zc||{},rn=tv||self;function Io(){}function Yc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rg="closure_uid_"+(1e9*Math.random()>>>0),nv=0;function Yw(n,e,t){return n.call.apply(n.bind,arguments)}function Qw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ri(n,e,t){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yw:Qw).apply(null,arguments)}function ma(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[a].apply(r,h)}}function Gs(){this.s=this.s,this.o=this.o}var kl={};Gs.prototype.s=!1,Gs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Mg(n){return Object.prototype.hasOwnProperty.call(n,Rg)&&n[Rg]||(n[Rg]=++nv)}(this);delete kl[n]}},Gs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Og(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yc(r)){const a=n.length||0,l=r.length||0;n.length=a+l;for(let h=0;h<l;h++)n[a+h]=r[h]}else n.push(r)}}function Ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ii.prototype.h=function(){this.defaultPrevented=!0};var Ng=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",Io,e),rn.removeEventListener("test",Io,e)}catch(t){}return n}();function Xc(n){return/^[\s\xa0]*$/.test(n)}var ed=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kg(n,e){return n<e?-1:n>e?1:0}function td(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function ya(n){return-1!=td().indexOf(n)}function of(n){return of[" "](n),n}of[" "]=Io;var Fg,n,Jw=ya("Opera"),Mu=ya("Trident")||ya("MSIE"),sv=ya("Edge"),Pg=sv||Mu,Ts=ya("Gecko")&&!(-1!=td().toLowerCase().indexOf("webkit")&&!ya("Edge"))&&!(ya("Trident")||ya("MSIE"))&&!ya("Edge"),Xw=-1!=td().toLowerCase().indexOf("webkit")&&!ya("Edge");function ov(){var n=rn.document;return n?n.documentMode:void 0}e:{var av="",af=(n=td(),Ts?/rv:([^\);]+)(\)|;)/.exec(n):sv?/Edge\/([\d\.]+)/.exec(n):Mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xw?/WebKit\/(\S+)/.exec(n):Jw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(af&&(av=af?af[1]:""),Mu){var uv=ov();if(null!=uv&&uv>parseFloat(av)){Fg=String(uv);break e}}Fg=av}var eI={};var tI=rn.document&&Mu&&(ov()||parseInt(Fg,10))||void 0;function nd(n,e){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ts){e:{try{of(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nd.X.h.call(this)}}fi(nd,Ii);var cv={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rd="closure_listenable_"+(1e6*Math.random()|0),dv=0;function nI(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=a,this.key=++dv,this.ba=this.ea=!1}function lf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vg(n){const e={};for(const t in n)e[t]=n[t];return e}const hv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Do(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<hv.length;l++)t=hv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Pl(n){this.src=n,this.g={},this.h=0}function Ug(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=rv(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(lf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bg(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return a}return-1}Pl.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Bg(n,e,r,a);return-1<h?(e=n[h],t||(e.ea=!1)):((e=new nI(e,this.src,l,!!r,a)).ea=t,n.push(e)),e};var fv="closure_lm_"+(1e6*Math.random()|0),df={};function pv(n,e,t,r,a){if(r&&r.once)return hf(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)pv(n,e[l],t,r,a);return null}return t=od(t),n&&n[rd]?n.N(e,t,Qc(r)?!!r.capture:!!r,a):gv(n,e,t,!1,r,a)}function gv(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var h=Qc(a)?!!a.capture:!!a,p=$g(n);if(p||(n[fv]=p=new Pl(n)),(t=p.add(e,t,r,h,l)).proxy)return t;if(r=function rI(){const e=Gg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ng||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(id(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hf(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hf(n,e[l],t,r,a);return null}return t=od(t),n&&n[rd]?n.O(e,t,Qc(r)?!!r.capture:!!r,a):gv(n,e,t,!0,r,a)}function mv(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)mv(n,e[l],t,r,a);else r=Qc(r)?!!r.capture:!!r,t=od(t),n&&n[rd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bg(l=n.g[e],t,r,a))&&(lf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=$g(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bg(e,t,r,a)),(t=-1<n?e[n]:null)&&jg(t))}function jg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[rd])Ug(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(id(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$g(e))?(Ug(t,n),0==t.h&&(t.src=null,e[fv]=null)):lf(n)}}}function id(n){return n in df?df[n]:df[n]="on"+n}function Gg(n,e){if(n.ba)n=!0;else{e=new nd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&jg(n),n=t.call(r,e)}return n}function $g(n){return(n=n[fv])instanceof Pl?n:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(n){return"function"==typeof n?n:(n[sd]||(n[sd]=function(e){return n.handleEvent(e)}),n[sd])}function pi(){Gs.call(this),this.i=new Pl(this),this.P=this,this.I=null}function Gi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ii(e,n);else if(e instanceof Ii)e.target=e.target||n;else{var a=e;Do(e=new Ii(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=ff(h,r,!0,e)&&a}if(a=ff(h=e.g=n,r,!0,e)&&a,a=ff(h,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=ff(h=e.g=t[l],r,!1,e)&&a}function ff(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ba&&h.capture==t){var p=h.listener,I=h.ha||h.src;h.ea&&Ug(n.i,h),a=!1!==p.call(I,r)&&a}}return a&&!r.defaultPrevented}fi(pi,Gs),pi.prototype[rd]=!0,pi.prototype.removeEventListener=function(n,e,t,r){mv(this,n,e,t,r)},pi.prototype.M=function(){if(pi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lf(t[r]);delete n.g[e],n.h--}}this.I=null},pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ad=rn.JSON.stringify;function Qb(){var n=vv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pf,Hg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yv,n=>n.reset());class yv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _v(n){rn.setTimeout(()=>{throw n},0)}function zg(n,e){pf||function _a(){var n=rn.Promise.resolve(void 0);pf=function(){n.then(sI)}}(),Fl||(pf(),Fl=!0),vv.add(n,e)}var Fl=!1,vv=new class iI{constructor(){this.h=this.g=null}add(e,t){const r=Hg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sI(){for(var n;n=Qb();){try{n.h.call(n.g)}catch(t){_v(t)}var e=Hg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fl=!1}function qg(n,e){pi.call(this),this.h=n||1,this.g=e||rn,this.j=ri(this.kb,this),this.l=Date.now()}function ud(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function gf(n,e,t){if("function"==typeof n)t&&(n=ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:rn.setTimeout(n,e||0)}function mf(n){n.g=gf(()=>{n.g=null,n.i&&(n.i=!1,mf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fi(qg,pi),(Pt=qg.prototype).ca=!1,Pt.R=null,Pt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gi(this,"tick"),this.ca&&(ud(this),this.start()))}},Pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.M=function(){qg.X.M.call(this),ud(this),delete this.g};class ld extends Gs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mf(this)}M(){super.M(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cd(n){Gs.call(this),this.h=n,this.g={}}fi(cd,Gs);var yf=[];function Wg(n,e,t,r){Array.isArray(t)||(t&&(yf[0]=t.toString()),t=yf);for(var a=0;a<t.length;a++){var l=pv(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Kg(n){cf(n.g,function(e,t){this.g.hasOwnProperty(t)&&jg(e)},n),n.g={}}function dd(){this.g=!0}function Ll(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ev(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return ad(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}cd.prototype.M=function(){cd.X.M.call(this),Kg(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dd.prototype.Aa=function(){this.g=!1},dd.prototype.info=function(){};var ro={},Yg=null;function _f(){return Yg=Yg||new pi}function wv(n){Ii.call(this,ro.Oa,n)}function $o(n){const e=_f();Gi(e,new wv(e,n))}function Iv(n,e){Ii.call(this,ro.STAT_EVENT,n),this.stat=e}function hs(n){const e=_f();Gi(e,new Iv(e,n))}function Dv(n,e){Ii.call(this,ro.Pa,n),this.size=e}function hd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},e)}ro.Oa="serverreachability",fi(wv,Ii),ro.STAT_EVENT="statevent",fi(Iv,Ii),ro.Pa="timingevent",fi(Dv,Ii);var fs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},vf={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ef(){}function Jg(){}Ef.prototype.h=null;var tm,Vl={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Xg(){Ii.call(this,"d")}function em(){Ii.call(this,"c")}function wf(){}function Ul(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new cd(this),this.O=bv,this.T=new qg(n=Pg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uI}function uI(){this.i=null,this.g="",this.h=!1}fi(Xg,Ii),fi(em,Ii),fi(wf,Ef),wf.prototype.g=function(){return new XMLHttpRequest},wf.prototype.i=function(){return{}},tm=new wf;var bv=45e3,nm={},If={};function Cv(n,e,t){n.K=1,n.v=Af(Ea(e)),n.s=t,n.P=!0,lI(n,null)}function lI(n,e){n.F=Date.now(),Bl(n),n.A=Ea(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),za(t.i,"t",r),n.C=0,t=n.l.H,n.h=new uI,n.g=Zv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ld(ri(n.Ka,n,n.g),n.N)),Wg(n.S,n.g,"readystatechange",n.hb),e=n.H?Vg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),$o(1),function oI(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",p=l.split("&"),I=0;I<p.length;I++){var S=p[I].split("=");if(1<S.length){var L=S[0];S=S[1];var W=L.split("_");h=2<=W.length&&"type"==W[1]?h+(L+"=")+S+"&":h+(L+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Df(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Tv(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=Av(n,t),a==If){4==e&&(n.o=4,hs(14),r=!1),Ll(n.j,n.m,null,"[Incomplete Response]");break}if(a==nm){n.o=4,hs(15),Ll(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ll(n.j,n.m,a,null),Cf(n,a)}Df(n)&&a!=If&&a!=nm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Of(e),e.K=!0,hs(11))):(Ll(n.j,n.m,t,"[Invalid Chunked Response]"),jl(n),bf(n))}function Av(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?If:(t=Number(e.substring(t,r)),isNaN(t)?nm:(r+=1)+t>e.length?If:(e=e.substr(r,t),n.C=r+t,e))}function Bl(n){n.V=Date.now()+n.O,cI(n,n.O)}function cI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hd(ri(n.fb,n),e)}function As(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function bf(n){0==n.l.G||n.I||cm(n.l,n)}function jl(n){As(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ud(n.T),Kg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Cf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||qa(t.h,n)))if(!n.J&&qa(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=hd(ri(t.bb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Nf(t),am(t)}lm(t),hs(18)}if(1>=Pu(t.h)&&t.ja){try{t.ja()}catch(S){}t.ja=void 0}}else Vu(t,11)}else if((n.J||t.g==n)&&Nf(t),!Xc(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.T=S[0],S=S[1],2==t.G)if("c"==S[0]){t.I=S[1],t.ka=S[2];const L=S[3];null!=L&&(t.ma=L,t.j.info("VER="+t.ma));const W=S[4];null!=W&&(t.Ca=W,t.j.info("SVER="+t.Ca));const ce=S[5];null!=ce&&"number"==typeof ce&&0<ce&&(t.J=r=1.5*ce,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ce=n.g;if(Ce){const Ve=Ce.g?Ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ve){var l=r.h;l.g||-1==Ve.indexOf("spdy")&&-1==Ve.indexOf("quic")&&-1==Ve.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Wa(l,l.h),l.h=null))}if(r.D){const ft=Ce.g?Ce.g.getResponseHeader("X-HTTP-Session-Id"):null;ft&&(r.za=ft,br(r.F,r.D,ft))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var h=n;if((r=t).sa=Kv(r,r.H?r.ka:null,r.V),h.J){Fu(r.h,h);var p=h,I=r.J;I&&p.setTimeout(I),p.B&&(As(p),Bl(p)),r.g=h}else um(r);0<t.i.length&&wd(t)}else"stop"!=S[0]&&"close"!=S[0]||Vu(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Vu(t,7):Gv(t):"noop"!=S[0]&&t.l&&t.l.wa(S),t.A=0)}$o(4)}catch(S){}}function Mv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xv(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Yc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Sv(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}(Pt=Ul.prototype).setTimeout=function(n){this.O=n},Pt.hb=function(n){n=n.target;const e=this.L;e&&3==Za(n)?e.l():this.Ka(n)},Pt.Ka=function(n){try{if(n==this.g)e:{const L=Za(this.g);var e=this.g.Ea();const W=this.g.aa();if(!(3>L)&&(3!=L||Pg||this.g&&(this.h.h||this.g.fa()||jv(this.g)))){this.I||4!=L||7==e||$o(8==e||0>=W?3:2),As(this);var t=this.g.aa();this.Y=t;t:if(Df(this)){var r=jv(this.g);n="";var a=r.length,l=4==Za(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){jl(this),bf(this);var h="";break t}this.h.i=new rn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==t,function Zg(n,e,t,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.U,L,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,I=this.g;if((p=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xc(p)){var S=p;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,hs(12),jl(this),bf(this);break e}Ll(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cf(this,t)}this.P?(Tv(this,L,h),Pg&&this.i&&3==L&&(Wg(this.S,this.T,"tick",this.gb),this.T.start())):(Ll(this.j,this.m,h,null),Cf(this,h)),4==L&&jl(this),this.i&&!this.I&&(4==L?cm(this.l,this):(this.i=!1,Bl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,hs(12)):(this.o=0,hs(13)),jl(this),bf(this)}}}catch(L){}},Pt.gb=function(){if(this.g){var n=Za(this.g),e=this.g.fa();this.C<e.length&&(As(this),Tv(this,n,e),this.i&&4!=n&&Bl(this))}},Pt.cancel=function(){this.I=!0,jl(this)},Pt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($o(3),hs(17)),jl(this),this.o=2,bf(this)):cI(this,this.V-n)};var dI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof va){this.h=void 0!==e?e:n.h,Gl(this,n.j),this.s=n.s,this.g=n.g,Tf(this,n.m),this.l=n.l,e=n.i;var t=new Ou;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ov(this,t),this.o=n.o}else n&&(t=String(n).match(dI))?(this.h=!!e,Gl(this,t[1]||"",!0),this.s=fd(t[2]||""),this.g=fd(t[3]||"",!0),Tf(this,t[4]),this.l=fd(t[5]||"",!0),Ov(this,t[6]||"",!0),this.o=fd(t[7]||"")):(this.h=!!e,this.i=new Ou(null,this.h))}function Ea(n){return new va(n)}function Gl(n,e,t){n.j=t?fd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ov(n,e,t){e instanceof Ou?(n.i=e,function io(n,e){e&&!n.j&&($i(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&($l(this,r),za(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pd(e,fI)),n.i=new Ou(e,n.h))}function br(n,e,t){n.i.set(e,t)}function Af(n){return br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Sf),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Sf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}va.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pd(e,Ru,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pd(e,Ru,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pd(t,"/"==t.charAt(0)?gd:hI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pd(t,pI)),n.join("")};var Ru=/[#\/\?@]/g,hI=/[#\?:]/g,gd=/[#\?]/g,fI=/[#\?@]/g,pI=/#/g;function Ou(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $i(n){n.g||(n.g=new Map,n.h=0,n.i&&function Rv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $l(n,e){$i(n),e=wa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Hi(n,e){return $i(n),e=wa(n,e),n.g.has(e)}function za(n,e,t){$l(n,e),0<t.length&&(n.i=null,n.g.set(wa(n,e),sf(t)),n.h+=t.length)}function wa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Nu(n){this.l=n||Hl,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ga&&rn.g.Ga()&&rn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=Ou.prototype).add=function(n,e){$i(this),this.i=null,n=wa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Pt.forEach=function(n,e){$i(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},Pt.oa=function(){$i(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let l=0;l<a.length;l++)t.push(e[r])}return t},Pt.W=function(n){$i(this);let e=[];if("string"==typeof n)Hi(this,n)&&(e=e.concat(this.g.get(wa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Pt.set=function(n,e){return $i(this),this.i=null,Hi(this,n=wa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),h=this.W(r);for(r=0;r<h.length;r++){var a=l;""!==h[r]&&(a+="="+encodeURIComponent(String(h[r]))),n.push(a)}}return this.i=n.join("&")};var Hl=10;function ku(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Pu(n){return n.h?1:n.g?n.g.size:0}function qa(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wa(n,e){n.g?n.g.add(e):n.h=e}function Fu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Lu(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return sf(n.i)}function Ka(){}function Nv(){this.g=new Ka}function kv(n,e,t){const r=t||"";try{Mv(n,function(a,l){let h=a;Qc(a)&&(h=ad(a)),e.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function md(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function zl(n){this.l=n.$b||null,this.j=n.ib||!1}function yd(n,e){pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nu.prototype.cancel=function(){if(this.i=Lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ka.prototype.stringify=function(n){return rn.JSON.stringify(n,void 0)},Ka.prototype.parse=function(n){return rn.JSON.parse(n,void 0)},fi(zl,Ef),zl.prototype.g=function(){return new yd(this.l,this.j)},zl.prototype.i=function(n){return function(){return n}}({}),fi(yd,pi);var xf=0;function im(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function ql(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_d(n)}function _d(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pt=yd.prototype).open=function(n,e){if(this.readyState!=xf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_d(this)},Pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||rn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ql(this)),this.readyState=xf},Pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==rn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;im(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ql(this):_d(this),3==this.readyState&&im(this)}},Pt.Ua=function(n){this.g&&(this.response=this.responseText=n,ql(this))},Pt.Ta=function(n){this.g&&(this.response=n,ql(this))},Pt.ga=function(){this.g&&ql(this)},Pt.setRequestHeader=function(n,e){this.v.append(n,e)},Pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Fv=rn.JSON.parse;function ii(n){pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lv,this.K=this.L=!1}fi(ii,pi);var Lv="",Vv=/^https?$/i,gI=["POST","PUT"];function sm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Uv(n),Mf(n)}function Uv(n){n.D||(n.D=!0,Gi(n,"complete"),Gi(n,"error"))}function om(n){if(n.h&&void 0!==Zc&&(!n.C[1]||4!=Za(n)||2!=n.aa()))if(n.v&&4==Za(n))gf(n.Ha,0,n);else if(Gi(n,"readystatechange"),4==Za(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var a=String(n.H).match(dI)[1]||null;if(!a&&rn.self&&rn.self.location){var l=rn.self.location.protocol;a=l.substr(0,l.length-1)}r=!Vv.test(a?a.toLowerCase():"")}t=r}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var h=2<Za(n)?n.g.statusText:""}catch(I){h=""}n.j=h+" ["+n.aa()+"]",Uv(n)}}finally{Mf(n)}}}function Mf(n,e){if(n.g){Bv(n);const t=n.g,r=n.C[0]?Io:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function Bv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function Za(n){return n.g?n.g.readyState:0}function jv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Lv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rf(n){let e="";return cf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function vd(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Rf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):br(n,e,t))}function Ed(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yI(n){this.Ca=0,this.i=[],this.j=new dd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ed("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ed("baseRetryDelayMs",5e3,n),this.ab=Ed("retryDelaySeedMs",1e4,n),this.Za=Ed("forwardChannelMaxRetries",2,n),this.ta=Ed("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Nu(n&&n.concurrentRequestLimit),this.Fa=new Nv,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gv(n){if($v(n),3==n.G){var e=n.U++,t=Ea(n.F);br(t,"SID",n.I),br(t,"RID",e),br(t,"TYPE","terminate"),Ho(n,t),(e=new Ul(n,n.j,e,void 0)).K=2,e.v=Af(Ea(t)),t=!1,rn.navigator&&rn.navigator.sendBeacon&&(t=rn.navigator.sendBeacon(e.v.toString(),"")),!t&&rn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Zv(e.l,null),e.g.da(e.v)),e.F=Date.now(),Bl(e)}Wv(n)}function am(n){n.g&&(Of(n),n.g.cancel(),n.g=null)}function $v(n){am(n),n.u&&(rn.clearTimeout(n.u),n.u=null),Nf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function wd(n){ku(n.h)||n.m||(n.m=!0,zg(n.Ja,n),n.C=0)}function Hv(n,e){var t;t=e?e.m:n.U++;const r=Ea(n.F);br(r,"SID",n.I),br(r,"RID",t),br(r,"AID",n.T),Ho(n,r),n.o&&n.s&&vd(r,n.o,n.s),t=new Ul(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=zv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Wa(n.h,t),Cv(t,r,e)}function Ho(n,e){n.ia&&cf(n.ia,function(t,r){br(e,r,t)}),n.l&&Mv({},function(t,r){br(e,r,t)})}function zv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ri(n.l.Qa,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let p=!0;for(let I=0;I<t;I++){let S=a[I].h;const L=a[I].g;if(S-=l,0>S)l=Math.max(0,a[I].h-100),p=!1;else try{kv(L,h,"req"+S+"_")}catch(W){r&&r(L)}}if(p){r=h.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function um(n){n.g||n.u||(n.Z=1,zg(n.Ia,n),n.A=0)}function lm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=hd(ri(n.Ia,n),qv(n,n.A)),n.A++,0))}function Of(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function Id(n){n.g=new Ul(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ea(n.sa);br(e,"RID","rpc"),br(e,"SID",n.I),br(e,"CI",n.L?"0":"1"),br(e,"AID",n.T),br(e,"TYPE","xmlhttp"),Ho(n,e),n.o&&n.s&&vd(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Af(Ea(e)),t.s=null,t.P=!0,lI(t,n)}function Nf(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function cm(n,e){var t=null;if(n.g==e){Nf(n),Of(n),n.g=null;var r=2}else{if(!qa(n.h,e))return;t=e.D,Fu(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Gi(r=_f(),new Dv(r,t,e,a)),wd(n)}else um(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==r&&function Jb(n,e){return!(Pu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=hd(ri(n.Ja,n,e),qv(n,n.C)),n.C++,0)))}(n,e)||2==r&&lm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Vu(n,5);break;case 4:Vu(n,10);break;case 3:Vu(n,6);break;default:Vu(n,2)}}function qv(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Vu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ri(n.jb,n);t||(t=new va("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||Gl(t,"https"),Af(t)),function Pv(n,e){const t=new dd;if(rn.Image){const r=new Image;r.onload=ma(md,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ma(md,t,r,"TestLoadImage: error",!1,e),r.onabort=ma(md,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ma(md,t,r,"TestLoadImage: timeout",!1,e),rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hs(2);n.G=0,n.l&&n.l.va(e),Wv(n),$v(n)}function Wv(n){if(n.G=0,n.la=[],n.l){const e=Lu(n.h);(0!=e.length||0!=n.i.length)&&(Og(n.la,e),Og(n.la,n.i),n.h.i.length=0,sf(n.i),n.i.length=0),n.l.ua()}}function Kv(n,e,t){var r=t instanceof va?Ea(t):new va(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Tf(r,r.m);else{var a=rn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new va(null,void 0);r&&Gl(l,r),e&&(l.g=e),a&&Tf(l,a),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&br(r,t,e),br(r,"VER",n.ma),Ho(n,r),r}function Zv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&n.Da&&!n.ra?new zl({ib:!0}):n.ra)).L=n.H,e}function dm(){}function kf(){if(Mu&&!(10<=Number(tI)))throw Error("Environmental error: no available transport.")}function Ss(n,e){pi.call(this),this.g=new yI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Xc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dd(this)}function hm(n){Xg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Pf(){em.call(this),this.status=1}function Dd(n){this.g=n}(Pt=ii.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tm.g(),this.C=function Qg(n){return n.h||(n.h=n.i())}(this.u?this.u:tm),this.g.onreadystatechange=ri(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void sm(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=rn.FormData&&n instanceof rn.FormData,!(0<=rv(gI,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,h]of t)this.g.setRequestHeader(l,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bv(this),0<this.B&&((this.K=function mI(n){return Mu&&function Lg(){return function iv(n){var e=eI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ed(String(Fg)).split("."),t=ed("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=kg(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||kg(0==a[2].length,0==l[2].length)||kg(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.qa,this)):this.A=gf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){sm(this,l)}},Pt.qa=function(){void 0!==Zc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},Pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),Mf(this))},Pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mf(this,!0)),ii.X.M.call(this)},Pt.Ha=function(){this.s||(this.F||this.v||this.l?om(this):this.eb())},Pt.eb=function(){om(this)},Pt.aa=function(){try{return 2<Za(this)?this.g.status:-1}catch(n){return-1}},Pt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Pt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Fv(e)}},Pt.Ea=function(){return this.m},Pt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=yI.prototype).ma=8,Pt.G=1,Pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Ul(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Vg(l),Do(l,this.S)):l=this.S),null!==this.o||this.N||(a.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zv(this,a,e),br(t=Ea(this.F),"RID",n),br(t,"CVER",22),this.D&&br(t,"X-HTTP-Session-Id",this.D),Ho(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Rf(l)))+"&"+e:this.o&&vd(t,this.o,l)),Wa(this.h,a),this.Xa&&br(t,"TYPE","init"),this.O?(br(t,"$req",e),br(t,"SID","null"),a.Z=!0,Cv(a,t,null)):Cv(a,t,e),this.G=2}}else 3==this.G&&(n?Hv(this,n):0==this.i.length||ku(this.h)||Hv(this))},Pt.Ia=function(){if(this.u=null,Id(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=hd(ri(this.cb,this),n)}},Pt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hs(10),am(this),Id(this))},Pt.bb=function(){null!=this.v&&(this.v=null,am(this),lm(this),hs(19))},Pt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),hs(2)):(this.j.info("Failed to ping google.com"),hs(1))},(Pt=dm.prototype).xa=function(){},Pt.wa=function(){},Pt.va=function(){},Pt.ua=function(){},Pt.Qa=function(){},kf.prototype.g=function(n,e){return new Ss(n,e)},fi(Ss,pi),Ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;hs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Kv(n,null,n.V),wd(n)},Ss.prototype.close=function(){Gv(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ad(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&wd(e)},Ss.prototype.M=function(){this.g.l=null,delete this.j,Gv(this.g),delete this.g,Ss.X.M.call(this)},fi(hm,Xg),fi(Pf,em),fi(Dd,dm),Dd.prototype.xa=function(){Gi(this.g,"a")},Dd.prototype.wa=function(n){Gi(this.g,new hm(n))},Dd.prototype.va=function(n){Gi(this.g,new Pf(n))},Dd.prototype.ua=function(){Gi(this.g,"b")},kf.prototype.createWebChannel=kf.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,vf.COMPLETE="complete",Jg.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",pi.prototype.listen=pi.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.Na,ii.prototype.getLastErrorCode=ii.prototype.Ea,ii.prototype.getStatus=ii.prototype.aa,ii.prototype.getResponseJson=ii.prototype.Ra,ii.prototype.getResponseText=ii.prototype.fa,ii.prototype.send=ii.prototype.da;var fm=wo.createWebChannelTransport=function(){return new kf},_I=wo.getStatEventTarget=function(){return _f()},Yv=wo.ErrorCode=fs,bd=wo.EventType=vf,Qv=wo.Event=ro,Ff=wo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pm=wo.FetchXmlHttpFactory=zl,Lf=wo.WebChannel=Jg,gm=wo.XhrIo=ii;const Vf="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let Cd="9.11.0";const Ya=new Ke.Yd("@firebase/firestore");function Uf(){return Ya.logLevel}function Xe(n,...e){if(Ya.logLevel<=Ke.in.DEBUG){const t=e.map(Bf);Ya.debug(`Firestore (${Cd}): ${n}`,...t)}}function Nr(n,...e){if(Ya.logLevel<=Ke.in.ERROR){const t=e.map(Bf);Ya.error(`Firestore (${Cd}): ${n}`,...t)}}function Qa(n,...e){if(Ya.logLevel<=Ke.in.WARN){const t=e.map(Bf);Ya.warn(`Firestore (${Cd}): ${n}`,...t)}}function Bf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Rt(n="Unexpected state"){const e=`FIRESTORE (${Cd}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function zt(n,e){n||Rt()}function Et(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends we.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DI{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let h=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Kr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const S=h;e.enqueueRetryable((0,K.Z)(function*(){yield S.promise,yield l(r.currentUser)}))},I=S=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Kr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt("string"==typeof r.accessToken),new mm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zt(null===e||"string"==typeof e),new gi(e)}}class ym{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(zt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _m{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a}getToken(){return Promise.resolve(new ym(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.A;return this.A=l.token,Xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zt("string"==typeof t.token),this.A=t.token,new vm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xv(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Em{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=Xv(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}function Uu(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Je(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new kr(0,0))}static max(){return new Kt(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Td{constructor(e,t,r){void 0===t?t=0:t>e.length&&Rt(),void 0===r?r=e.length-t:r>e.length-t&&Rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Td.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends Td{construct(e,t,r){return new Rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const CI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Td{construct(e,t,r){return new vn(e,t,r)}static isValidIdentifier(e){return CI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Je(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const p=e[a];if("\\"===p){if(a+1===e.length)throw new Je(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Je(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,a+=2}else"`"===p?(h=!h,a++):"."!==p||h?(r+=p,a++):(l(),a++)}if(l(),h)throw new Je(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Rn.fromString(e))}static fromName(e){return new gt(Rn.fromString(e).popFirst(5))}static empty(){return new gt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Rn(e.slice()))}}function nE(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xs(Kt.min(),gt.empty(),-1)}static max(){return new xs(Kt.max(),gt.empty(),-1)}}function Dm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:nn(n.largestBatchId,e.largestBatchId))}const bm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ia(n){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,K.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==bm)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),Sd.apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let a=0,l=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++l,h&&l===a&&t()},I=>r(I))}),h=!0,l===a&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(a=>a?Ee.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new Ee((r,a)=>{const l=e.length,h=new Array(l);let p=0;for(let I=0;I<l;I++){const S=I;t(e[S]).next(L=>{h[S]=L,++p,p===l&&r(h)},L=>a(L))}})}static doWhile(e,t){return new Ee((r,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):r()};l()})}}function Di(n){return"IndexedDbTransactionError"===n.name}class Xi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Wl(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Xi.at=-1;class Pr{constructor(e,t){this.comparator=e,this.root=t||bi.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:bi.RED,this.left=null!=a?a:bi.EMPTY,this.right=null!=l?l:bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new bi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return bi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ms{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Ms([])}unionWith(e){let t=new Qn(vn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const aE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(zt(!!n),"string"==typeof n){let e=0;const t=aE.exec(n);if(zt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function eu(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function $f(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Am(n){const e=n.mapValue.fields.__previous_value__;return $f(e)?Am(e):e}function Kl(n){const e=Da(n.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class uE{constructor(e,t,r,a,l,h,p,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=I}}class Gu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}function Md(n){return null==n}function Rd(n){return 0===n&&1/n==-1/0}const tu_mapValue={fields:{__type__:{stringValue:"__max__"}}};function $u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$f(n)?4:Mm(n)?9007199254740991:10:Rt()}function Wo(n,e){if(n===e)return!0;const t=$u(n);if(t!==$u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Da(r.timestampValue),h=Da(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,eu(n.bytesValue).isEqual(eu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return xr(r.geoPointValue.latitude)===xr(a.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return xr(r.integerValue)===xr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=xr(r.doubleValue),h=xr(a.doubleValue);return l===h?Rd(l)===Rd(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(Wl(l)!==Wl(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===h[p]||!Wo(l[p],h[p])))return!1;return!0}(n,e);default:return Rt()}var a}function Od(n,e){return void 0!==(n.values||[]).find(t=>Wo(t,e))}function nu(n,e){if(n===e)return 0;const t=$u(n),r=$u(e);if(t!==r)return nn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=xr(a.integerValue||a.doubleValue),p=xr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return cE(n.timestampValue,e.timestampValue);case 4:return cE(Kl(n),Kl(e));case 5:return nn(n.stringValue,e.stringValue);case 6:return function(a,l){const h=eu(a),p=eu(l);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),p=l.split("/");for(let I=0;I<h.length&&I<p.length;I++){const S=nn(h[I],p[I]);if(0!==S)return S}return nn(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=nn(xr(a.latitude),xr(l.latitude));return 0!==h?h:nn(xr(a.longitude),xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],p=l.values||[];for(let I=0;I<h.length&&I<p.length;++I){const S=nu(h[I],p[I]);if(S)return S}return nn(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===tu_mapValue&&l===tu_mapValue)return 0;if(a===tu_mapValue)return 1;if(l===tu_mapValue)return-1;const h=a.fields||{},p=Object.keys(h),I=l.fields||{},S=Object.keys(I);p.sort(),S.sort();for(let L=0;L<p.length&&L<S.length;++L){const W=nn(p[L],S[L]);if(0!==W)return W;const ce=nu(h[p[L]],I[S[L]]);if(0!==ce)return ce}return nn(p.length,S.length)}(n.mapValue,e.mapValue);default:throw Rt()}}function cE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nn(n,e);const t=Da(n),r=Da(e),a=nn(t.seconds,r.seconds);return 0!==a?a:nn(t.nanos,r.nanos)}function Zl(n){return Sm(n)}function Sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Da(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?eu(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=Sm(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${Sm(r.fields[p])}`;return l+"}"}(n.mapValue):Rt();var e}function xm(n){return!!n&&"integerValue"in n}function Nd(n){return!!n&&"arrayValue"in n}function dE(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kd(n){return!!n&&"mapValue"in n}function Yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=vn.emptyPath(),r={},a=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const I=this.getFieldsMap(t);this.applyChanges(I,r,a),r={},a=[],t=p.popLast()}h?r[p.lastSegment()]=Yl(h):a.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];kd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Bu(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Ci(Yl(this.value))}}function Nm(n){const e=[];return Bu(n.fields,(t,r)=>{const a=new vn([t]);if(kd(r)){const l=Nm(r.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Ms(e)}class lr{constructor(e,t,r,a,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new lr(e,0,Kt.min(),Kt.min(),Ci.empty(),0)}static newFoundDocument(e,t,r){return new lr(e,1,t,Kt.min(),r,0)}static newNoDocument(e,t){return new lr(e,2,t,Kt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,Kt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gE{constructor(e,t=null,r=[],a=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=p,this.ht=null}}function ru(n,e=null,t=[],r=[],a=null,l=null,h=null){return new gE(n,e,t,r,a,l,h)}function zu(n){const e=Et(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(a=r).field.canonicalString()+a.op.toString()+Zl(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zl(r)).join(",")),e.ht=t}return e.ht}function Ko(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!tC(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!Wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yE(n.startAt,e.startAt)&&yE(n.endAt,e.endAt)}function km(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ti extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new eC(e,t,r):"array-contains"===t?new OI(e,r):"in"===t?new zf(e,r):"not-in"===t?new NI(e,r):"array-contains-any"===t?new qf(e,r):new Ti(e,t,r)}static lt(e,t,r){return"in"===t?new qt(e,r):new RI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(nu(t,this.value)):null!==t&&$u(this.value)===$u(t)&&this.ft(nu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class eC extends Ti{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.ft(t)}}class qt extends Ti{constructor(e,t){super(e,"in",t),this.keys=mE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RI extends Ti{constructor(e,t){super(e,"not-in",t),this.keys=mE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class OI extends Ti{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&Od(t.arrayValue,this.value)}}class zf extends Ti{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Od(this.value.arrayValue,t)}}class NI extends Ti{constructor(e,t){super(e,"not-in",t)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Od(this.value.arrayValue,t)}}class qf extends Ti{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}class Co{constructor(e,t){this.position=e,this.inclusive=t}}class cr{constructor(e,t="asc"){this.field=e,this.dir=t}}function tC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Fm(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(r=l.field.isKeyField()?gt.comparator(gt.fromName(h.referenceValue),t.key):nu(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function yE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wo(n.position[t],e.position[t]))return!1;return!0}class ba{constructor(e,t=null,r=[],a=[],l=null,h="F",p=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=I,this._t=null,this.wt=null}}function qu(n){return new ba(n)}function Vm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jl(n){const e=Et(n);if(null===e._t){e._t=[];const t=function Um(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function Wf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new cr(t)),e._t.push(new cr(vn.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new cr(vn.keyField(),l))}}}return e._t}function mi(n){const e=Et(n);if(!e.wt)if("F"===e.limitType)e.wt=ru(e.path,e.collectionGroup,Jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Jl(e))t.push(new cr(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Co(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Co(e.startAt.position,e.startAt.inclusive):null;e.wt=ru(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.wt}function Kf(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return Ko(mi(n),mi(e))&&n.limitType===e.limitType}function _E(n){return`${zu(mi(n))}|lt:${n.limitType}`}function Xl(n){return`Query(target=${function xI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Zl(r.value)}`;var r}).join(", ")}]`),Md(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Zl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Zl(t)).join(",")),`Target(${e})`}(mi(n))}; limitType=${n.limitType})`}function Zf(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):gt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,l,h){const p=Fm(a,l,h);return a.inclusive?p<=0:p<0}(t.startAt,Jl(t),r)||t.endAt&&!function(a,l,h){const p=Fm(a,l,h);return a.inclusive?p>=0:p>0}(t.endAt,Jl(t),r)));var t,r}function Gm(n){return(e,t)=>{let r=!1;for(const a of Jl(n)){const l=kI(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function kI(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(a,l,h){const p=l.data.field(a),I=h.data.field(a);return null!==p&&null!==I?nu(p,I):Rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Rt()}}function ec(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function tc(n){return{integerValue:""+n}}function vE(n,e){return function lE(n){return"number"==typeof n&&Number.isInteger(n)&&!Rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?tc(e):ec(n,e)}class Yf{constructor(){this._=void 0}}function PI(n,e,t){return n instanceof Wu?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Ku?Hm(n,e):n instanceof Zu?wE(n,e):function(r,a){const l=$m(r,a),h=FI(l)+FI(r.yt);return xm(l)&&xm(r.yt)?tc(h):ec(r.It,h)}(n,e)}function EE(n,e,t){return n instanceof Ku?Hm(n,e):n instanceof Zu?wE(n,e):t}function $m(n,e){return n instanceof Fd?xm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Wu extends Yf{}class Ku extends Yf{constructor(e){super(),this.elements=e}}function Hm(n,e){const t=LI(e);for(const r of n.elements)t.some(a=>Wo(a,r))||t.push(r);return{arrayValue:{values:t}}}class Zu extends Yf{constructor(e){super(),this.elements=e}}function wE(n,e){let t=LI(e);for(const r of n.elements)t=t.filter(a=>!Wo(a,r));return{arrayValue:{values:t}}}class Fd extends Yf{constructor(e,t){super(),this.It=e,this.yt=t}}function FI(n){return xr(n.integerValue||n.doubleValue)}function LI(n){return Nd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jf{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ld{}function nc(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ic(n.key,Cr.none()):new rc(n.key,n.data,Cr.none());{const t=n.data,r=Ci.empty();let a=new Qn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?r.delete(l):r.set(l,h),a=a.add(l)}return new Zo(n.key,r,new Ms(a.toArray()),Cr.none())}}function VI(n,e,t){n instanceof rc?function(r,a,l){const h=r.value.clone(),p=CE(r.fieldTransforms,a,l.transformResults);h.setAll(p),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Zo?function(r,a,l){if(!Xf(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=CE(r.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(bE(r)),p.setAll(h),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vd(n,e,t,r){return n instanceof rc?function(a,l,h,p){if(!Xf(a.precondition,l))return h;const I=a.value.clone(),S=Yu(a.fieldTransforms,p,l);return I.setAll(S),l.convertToFoundDocument(l.version,I).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zo?function(a,l,h,p){if(!Xf(a.precondition,l))return h;const I=Yu(a.fieldTransforms,p,l),S=l.data;return S.setAll(bE(a)),S.setAll(I),l.convertToFoundDocument(l.version,S).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(L=>L.field))}(n,e,t,r):(h=t,Xf(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function UI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=$m(r.transform,a||null);null!=l&&(null===t&&(t=Ci.empty()),t.set(r.field,l))}return t||null}function DE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Uu(t,r,(a,l)=>function IE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ku&&r instanceof Ku||t instanceof Zu&&r instanceof Zu?Uu(t.elements,r.elements,Wo):t instanceof Fd&&r instanceof Fd?Wo(t.yt,r.yt):t instanceof Wu&&r instanceof Wu);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class rc extends Ld{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zo extends Ld{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CE(n,e,t){const r=new Map;zt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,p=e.data.field(l.field);r.set(l.field,EE(h,p,t[a]))}return r}function Yu(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,PI(l,h,e))}return r}class ic extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ep extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BI{constructor(e){this.count=e}}var Zr,Fn;function zm(n){switch(n){default:return Rt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function TE(n){if(void 0===n)return Nr("GRPC error has no .code"),Se.UNKNOWN;switch(n){case Zr.OK:return Se.OK;case Zr.CANCELLED:return Se.CANCELLED;case Zr.UNKNOWN:return Se.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Se.INTERNAL;case Zr.UNAVAILABLE:return Se.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Se.NOT_FOUND;case Zr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Zr.ABORTED:return Se.ABORTED;case Zr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Zr.DATA_LOSS:return Se.DATA_LOSS;default:return Rt()}}(Fn=Zr||(Zr={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Tm(this.inner)}size(){return this.innerSize}}const jI=new Pr(gt.comparator);function gs(){return jI}const qm=new Pr(gt.comparator);function Ud(...n){let e=qm;for(const t of n)e=e.insert(t.key,t);return e}function AE(n){let e=qm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qo(){return Bd()}function tp(){return Bd()}function Bd(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const SE=new Pr(gt.comparator),GI=new Qn(gt.comparator);function gn(...n){let e=GI;for(const t of n)e=e.add(t);return e}const $I=new Qn(nn);function np(){return $I}class jd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,t)),new jd(Kt.min(),r,np(),gs(),gn())}}class Gd{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Gd(Fr.EMPTY_BYTE_STRING,t,gn(),gn(),gn())}}class rp{constructor(e,t,r,a){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=a}}class xE{constructor(e,t){this.targetId=e,this.At=t}}class Wm{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Km{constructor(){this.Rt=0,this.bt=Zm(),this.Pt=Fr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=gn(),t=gn(),r=gn();return this.bt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Rt()}}),new Gd(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Zm()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class HI{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=gs(),this.qt=ME(),this.Kt=new Qn(nn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,r=e.At.count,a=this.Xt(t);if(a){const l=a.target;if(km(l))if(0===r){const h=new gt(l.path);this.jt(t,h,lr.newNoDocument(h,Kt.min()))}else zt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,h)=>{const p=this.Xt(h);if(p){if(l.current&&km(p.target)){const I=new gt(p.target.path);null!==this.Ut.get(I)||this.ee(h,I)||this.jt(h,I,lr.newNoDocument(I,e))}l.Dt&&(t.set(h,l.xt()),l.Nt())}});let r=gn();this.qt.forEach((l,h)=>{let p=!0;h.forEachWhile(I=>{const S=this.Xt(I);return!S||2===S.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Ut.forEach((l,h)=>h.setReadTime(e));const a=new jd(e,t,this.Kt,this.Ut,r);return this.Ut=gs(),this.qt=ME(),this.Kt=new Qn(nn),a}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Km,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Qn(nn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Km),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ME(){return new Pr(gt.comparator)}function Zm(){return new Pr(gt.comparator)}const zI={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class WI{constructor(e,t){this.databaseId=e,this.gt=t}}function Qu(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ip(n,e){return n.gt?e.toBase64():e.toUint8Array()}function RE(n,e){return Qu(n,e.toTimestamp())}function si(n){return zt(!!n),Kt.fromTimestamp(function(e){const t=Da(e);return new kr(t.seconds,t.nanos)}(n))}function Ym(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OE(n){const e=Rn.fromString(n);return zt(VE(e)),e}function Ju(n,e){return Ym(n.databaseId,e.path)}function Jo(n,e){const t=OE(e);if(t.get(1)!==n.databaseId.projectId)throw new Je(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Je(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(kE(t))}function sp(n,e){return Ym(n.databaseId,e)}function sc(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kE(n){return zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qm(n,e,t){return{name:Ju(n,e),fields:t.value.mapValue.fields}}function PE(n,e){return{documents:[sp(n,e.path)]}}function FE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(I){if(0===I.length)return;const S=I.map(L=>function(W){if("=="===W.op){if(hE(W.value))return{unaryFilter:{field:Xu(W.field),op:"IS_NAN"}};if(dE(W.value))return{unaryFilter:{field:Xu(W.field),op:"IS_NULL"}}}else if("!="===W.op){if(hE(W.value))return{unaryFilter:{field:Xu(W.field),op:"IS_NOT_NAN"}};if(dE(W.value))return{unaryFilter:{field:Xu(W.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(W.field),op:JI(W.op),value:W.value}}}(L));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(I){if(0!==I.length)return I.map(S=>{return{field:Xu((L=S).field),direction:QI(L.dir)};var L})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.gt||Md(S)?S:{value:S});var S,p,I;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function Jm(n){let e=function NE(n){const e=OE(n);return 4===e.length?Rn.emptyPath():kE(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){zt(1===r);const L=t.from[0];L.allDescendants?a=L.collectionId:e=e.child(L.collectionId)}let l=[];t.where&&(l=LE(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new cr(el((W=L).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let p=null;t.limit&&(p=function(L){let W;return W="object"==typeof L?L.value:L,Md(W)?null:W}(t.limit));let I=null;var L;t.startAt&&(I=new Co((L=t.startAt).values||[],!!L.before));let S=null;return t.endAt&&(S=function(L){return new Co(L.values||[],!L.before)}(t.endAt)),function Lm(n,e,t,r,a,l,h,p){return new ba(n,e,t,r,a,l,h,p)}(e,a,h,l,p,"F",I,S)}function LE(n){return n?void 0!==n.unaryFilter?[op(n)]:void 0!==n.fieldFilter?[Xm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>LE(e)).reduce((e,t)=>e.concat(t)):Rt():[]}function QI(n){return zI[n]}function JI(n){return qI[n]}function Xu(n){return{fieldPath:n.canonicalString()}}function el(n){return vn.fromServerFormat(n.fieldPath)}function Xm(n){return Ti.create(el(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function op(n){switch(n.unaryFilter.op){case"IS_NAN":const e=el(n.unaryFilter.field);return Ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=el(n.unaryFilter.field);return Ti.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=el(n.unaryFilter.field);return Ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=el(n.unaryFilter.field);return Ti.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}function qd(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ny{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&VI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tp();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let p=this.applyToLocalView(h,l.mutatedFields);p=t.has(a.key)?null:p;const I=nc(h,p);null!==I&&r.set(a.key,I),h.isValidDocument()||h.convertToNoDocument(Kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,r)=>DE(t,r))&&Uu(this.baseMutations,e.baseMutations,(t,r)=>DE(t,r))}}class ry{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){zt(e.mutations.length===r.length);let a=SE;const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new ry(e,t,r,a)}}class tl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ca{constructor(e,t,r,a,l=Kt.min(),h=Kt.min(),p=Fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class iy{constructor(e){this.re=e}}function oy(n){const e=Jm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kf(e,e.limit,"L"):e}class sl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Rd(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(eu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Mm(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const a of Object.keys(r))this._e(a,t),this.ae(r[a],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const a of r)this.ae(a,t)}ge(e,t){this.le(t,37),gt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}sl.Te=new sl;class oD{constructor(){this.Ye=new ly}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(xs.min())}updateCollectionGroup(e,t,r){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class ly{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Qn(Rn.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qn(Rn.comparator)).toArray()}}new Uint8Array(0);class Rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class ul{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ul(0)}static vn(){return new ul(-1)}}class c0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xd{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.getBaseDocument(e,t,r))).next(a=>(null!==r&&Vd(r.mutation,a,Ms.empty(),kr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,gn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=gn()){const a=Qo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let h=Ud();return l.forEach((p,I)=>{h=h.insert(p,I.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,gn()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,p)=>{t.set(h,p)})})}computeViews(e,t,r,a){let l=gs();const h=Bd(),p=Bd();return t.forEach((I,S)=>{const L=r.get(S.key);a.has(S.key)&&(void 0===L||L.mutation instanceof Zo)?l=l.insert(S.key,S):void 0!==L&&(h.set(S.key,L.mutation.getFieldMask()),Vd(L.mutation,S,L.mutation.getFieldMask(),kr.now()))}),this.recalculateAndSaveOverlays(e,l).next(I=>(I.forEach((S,L)=>h.set(S,L)),t.forEach((S,L)=>{var W;return p.set(S,new c0(L,null!==(W=h.get(S))&&void 0!==W?W:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Bd();let a=new Pr((h,p)=>h-p),l=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const p of h)p.keys().forEach(I=>{const S=t.get(I);if(null===S)return;let L=r.get(I)||Ms.empty();L=p.applyToLocalView(S,L),r.set(I,L);const W=(a.get(p.batchId)||gn()).add(I);a=a.insert(p.batchId,W)})}).next(()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const I=p.getNext(),S=I.key,L=I.value,W=tp();L.forEach(ce=>{if(!l.has(ce)){const Ce=nc(t.get(ce),r.get(ce));null!==Ce&&W.set(ce,Ce),l=l.add(ce)}}),h.push(this.documentOverlayCache.saveOverlays(e,S,W))}return Ee.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return gt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Bm(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):Ee.resolve(Qo());let p=-1,I=l;return h.next(S=>Ee.forEach(S,(L,W)=>(p<W.largestBatchId&&(p=W.largestBatchId),l.get(L)?Ee.resolve():this.getBaseDocument(e,L,W).next(ce=>{I=I.insert(L,ce)}))).next(()=>this.populateOverlays(e,S,l)).next(()=>this.computeViews(e,I,S,gn())).next(L=>({batchId:p,changes:AE(L)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(r=>{let a=Ud();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let l=Ud();return this.indexManager.getCollectionParents(e,a).next(h=>Ee.forEach(h,p=>{const I=(S=t,L=p.child(a),new ba(L,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,L;return this.getDocumentsMatchingCollectionQuery(e,I,r).next(S=>{S.forEach((L,W)=>{l=l.insert(L,W)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(a=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,I)=>{const S=I.getKey();null===a.get(S)&&(a=a.insert(S,lr.newInvalidDocument(S)))});let h=Ud();return a.forEach((p,I)=>{const S=l.get(p);void 0!==S&&Vd(S.mutation,I,Ms.empty(),kr.now()),Zf(t,I)&&(h=h.insert(p,I))}),h})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ee.resolve(lr.newInvalidDocument(t))}}class yy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:oy(r.bundledQuery),readTime:si(r.readTime)}),Ee.resolve();var r}}class oC{constructor(){this.overlays=new Pr(gt.comparator),this.es=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qo();return Ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.ue(e,t,l)}),Ee.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.es.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),Ee.resolve()}getOverlaysForCollection(e,t,r){const a=Qo(),l=t.length+1,h=new gt(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const I=p.getNext().value,S=I.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&I.largestBatchId>r&&a.set(I.getKey(),I)}return Ee.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Pr((S,L)=>S-L);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let L=l.get(S.largestBatchId);null===L&&(L=Qo(),l=l.insert(S.largestBatchId,L)),L.set(S.getKey(),S)}}const p=Qo(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((S,L)=>p.set(S,L)),!(p.size()>=a)););return Ee.resolve(p)}ue(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const h=this.es.get(a.largestBatchId).delete(r.key);this.es.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new tl(t,r));let l=this.es.get(t);void 0===l&&(l=gn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class fp{constructor(){this.ns=new Qn(Si.ss),this.rs=new Qn(Si.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Si(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Si(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new gt(new Rn([])),r=new Si(t,e),a=new Si(t,e+1),l=[];return this.rs.forEachInRange([r,a],h=>{this.cs(h),l.push(h.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new gt(new Rn([])),r=new Si(t,e),a=new Si(t,e+1);let l=gn();return this.rs.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Si(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Si{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return gt.comparator(e.key,t.key)||nn(e._s,t._s)}static os(e,t){return nn(e._s,t._s)||gt.comparator(e.key,t.key)}}class d0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Qn(Si.ss)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const l=this.ws;this.ws++;const h=new ny(l,t,r,a);this.mutationQueue.push(h);for(const p of a)this.gs=this.gs.add(new Si(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ee.resolve(h)}lookupMutationBatch(e,t){return Ee.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),l=a<0?0:a;return Ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Si(t,0),a=new Si(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,a],h=>{const p=this.ys(h._s);l.push(p)}),Ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(nn);return t.forEach(a=>{const l=new Si(a,0),h=new Si(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,h],p=>{r=r.add(p._s)})}),Ee.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;gt.isDocumentKey(l)||(l=l.child(""));const h=new Si(new gt(l),0);let p=new Qn(nn);return this.gs.forEachWhile(I=>{const S=I.key.path;return!!r.isPrefixOf(S)&&(S.length===a&&(p=p.add(I._s)),!0)},h),Ee.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const a=this.ys(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){zt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ee.forEach(t.mutations,a=>{const l=new Si(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Si(t,0),a=this.gs.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ee.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pp{constructor(e){this.Es=e,this.docs=new Pr(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,h=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():lr.newInvalidDocument(a))}),Ee.resolve(r)}getAllFromCollection(e,t,r){let a=gs();const l=new gt(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:I}}=h.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||Dm(nE(I),r)<=0||(a=a.insert(I.key,I.mutableCopy()))}return Ee.resolve(a)}getAllFromCollectionGroup(e,t,r,a){Rt()}As(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new h0(this)}getSize(e){return Ee.resolve(this.size)}}class h0 extends class Qd{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dD{constructor(e){this.persistence=e,this.Rs=new Yo(t=>zu(t),Ko),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fp,this.targetCount=0,this.vs=ul.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,a)=>t(a)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ee.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Dn(t),Ee.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Rs.forEach((h,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),Ee.waitFor(l).next(()=>a)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),Ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this.Ps.containsKey(t))}}class gp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Xi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dD(this),this.indexManager=new oD,this.remoteDocumentCache=new pp(r=>this.referenceDelegate.xs(r)),this.It=new iy(t),this.Ns=new yy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new d0(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Xe("MemoryPersistence","Starting transaction:",e);const a=new _y(this.Ss.next());return this.referenceDelegate.ks(),r(a).next(l=>this.referenceDelegate.Os(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ms(e,t){return Ee.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class _y extends class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Fs=new fp,this.$s=null}static Bs(e){return new vy(e)}get Ls(){if(this.$s)return this.$s;throw Rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Ls,r=>{const a=gt.fromPath(r);return this.Us(e,a).next(l=>{l||t.removeEntry(a,Kt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ee.or([()=>Ee.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Ey{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=a}static Ci(e,t){let r=gn(),a=gn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ey(e,t.fromCache,r,a)}}class p0{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,a){return this.ki(e,t).next(l=>l||this.Oi(e,t,a,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(Vm(t))return Ee.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Kf(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const h=gn(...l);return this.Ni.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,r).next(I=>{const S=this.Fi(t,p);return this.$i(t,S,h,I.readTime)?this.ki(e,Kf(t,null,"F")):this.Bi(e,S,t,I)}))})))}Oi(e,t,r,a){return Vm(t)||a.isEqual(Kt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const h=this.Fi(t,l);return this.$i(t,h,r,a)?this.Mi(e,t):(Uf()<=Ke.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xl(t)),this.Bi(e,h,t,function tE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Kt.fromTimestamp(1e9===r?new kr(t+1,0):new kr(t,r));return new xs(a,gt.empty(),e)}(a,-1)))})}Fi(e,t){let r=new Qn(Gm(e));return t.forEach((a,l)=>{Zf(e,l)&&(r=r.add(l))}),r}$i(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mi(e,t){return Uf()<=Ke.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Xl(t)),this.Ni.getDocumentsMatchingQuery(e,t,xs.min())}Bi(e,t,r,a){return this.Ni.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class g0{constructor(e,t,r,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Pr(nn),this.qi=new Yo(l=>zu(l),Ko),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function wy(n,e){return vp.apply(this,arguments)}function vp(){return vp=(0,K.Z)(function*(n,e){const t=Et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],p=[];let I=gn();for(const S of a){h.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}for(const S of l){p.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}return t.localDocuments.getDocuments(r,I).next(S=>({ji:S,removedBatchIds:h,addedBatchIds:p}))})})}),vp.apply(this,arguments)}function y0(n,e){const t=Et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,p,I,S){const L=I.batch,W=L.keys();let ce=Ee.resolve();return W.forEach(Ce=>{ce=ce.next(()=>S.getEntry(p,Ce)).next(Ve=>{const ft=I.docVersions.get(Ce);zt(null!==ft),Ve.version.compareTo(ft)<0&&(L.applyToRemoteDocument(Ve,I),Ve.isValidDocument()&&(Ve.setReadTime(I.commitVersion),S.addEntry(Ve)))})}),ce.next(()=>h.mutationQueue.removeMutationBatch(p,L))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let p=gn();for(let I=0;I<h.mutationResults.length;++I)h.mutationResults[I].transformResults.length>0&&(p=p.add(h.batch.mutations[I].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function Iy(n){const e=Et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function fD(n,e){const t=Et(n),r=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const p=[];e.targetChanges.forEach((L,W)=>{const ce=a.get(W);if(!ce)return;p.push(t.Cs.removeMatchingKeys(l,L.removedDocuments,W).next(()=>t.Cs.addMatchingKeys(l,L.addedDocuments,W)));let Ce=ce.withSequenceNumber(l.currentSequenceNumber);var Ve,ft,Ot;e.targetMismatches.has(W)?Ce=Ce.withResumeToken(Fr.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):L.resumeToken.approximateByteSize()>0&&(Ce=Ce.withResumeToken(L.resumeToken,r)),a=a.insert(W,Ce),ft=Ce,Ot=L,(0===(Ve=ce).resumeToken.approximateByteSize()||ft.snapshotVersion.toMicroseconds()-Ve.snapshotVersion.toMicroseconds()>=3e8||Ot.addedDocuments.size+Ot.modifiedDocuments.size+Ot.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(l,Ce))});let I=gs(),S=gn();if(e.documentUpdates.forEach(L=>{e.resolvedLimboDocuments.has(L)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,L))}),p.push(function _0(n,e,t){let r=gn(),a=gn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let h=gs();return t.forEach((p,I)=>{const S=l.get(p);I.isFoundDocument()!==S.isFoundDocument()&&(a=a.add(p)),I.isNoDocument()&&I.version.isEqual(Kt.min())?(e.removeEntry(p,I.readTime),h=h.insert(p,I)):!S.isValidDocument()||I.version.compareTo(S.version)>0||0===I.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(I),h=h.insert(p,I)):Xe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",S.version," Watch version:",I.version)}),{Wi:h,zi:a}})}(l,h,e.documentUpdates).next(L=>{I=L.Wi,S=L.zi})),!r.isEqual(Kt.min())){const L=t.Cs.getLastRemoteSnapshotVersion(l).next(W=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(L)}return Ee.waitFor(p).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,I,S)).next(()=>I)}).then(l=>(t.Ui=a,l))}function aC(n,e){const t=Et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dl(n,e){const t=Et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Cs.getTargetData(r,e).next(l=>l?(a=l,Ee.resolve(a)):t.Cs.allocateTargetId(r).next(h=>(a=new Ca(e,h,0,r.currentSequenceNumber),t.Cs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ui.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function nh(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=(0,K.Z)(function*(n,e,t){const r=Et(n),a=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Di(h))throw h;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ui=r.Ui.remove(e),r.qi.delete(a.target)}),v0.apply(this,arguments)}function Dy(n,e,t){const r=Et(n);let a=Kt.min(),l=gn();return r.persistence.runTransaction("Execute query","readonly",h=>function(p,I,S){const L=Et(p),W=L.qi.get(S);return void 0!==W?Ee.resolve(L.Ui.get(W)):L.Cs.getTargetData(I,S)}(r,h,mi(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(h,p.targetId).next(I=>{l=I})}).next(()=>r.Li.getDocumentsMatchingQuery(h,e,t?a:Kt.min(),t?l:gn())).next(p=>(function mD(n,e,t){let r=n.Ki.get(e)||Kt.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}(r,function jm(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,Hi:l})))}class Cp{constructor(){this.activeTargetIds=np()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.Lr=new Cp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Cp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I0{qr(e){}shutdown(){}}class ih{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class cC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,a,l){const h=this.ho(e,t);Xe("RestConnection","Sending: ",h,r);const p={};return this.lo(p,a,l),this.fo(e,h,p,r).then(I=>(Xe("RestConnection","Received: ",I),I),I=>{throw Qa("RestConnection",`${e} failed with error: `,I,"url: ",h,"request:",r),I})}_o(e,t,r,a,l,h){return this.ao(e,t,r,a,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}ho(e,t){return`${this.oo}/v1/${t}:${D0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,a){return new Promise((l,h)=>{const p=new gm;p.listenOnce(bd.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yv.NO_ERROR:const S=p.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Yv.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),h(new Je(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Yv.HTTP_ERROR:const L=p.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',L,"response text:",p.getResponseText()),L>0){const W=p.getResponseJson().error;if(W&&W.status&&W.message){const ce=function(Ce){const Ve=Ce.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Ve)>=0?Ve:Se.UNKNOWN}(W.status);h(new Je(ce,W.message))}else h(new Je(Se.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Je(Se.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(a);p.send(t,"POST",I,r,15)})}wo(e,t,r){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fm(),h=_I(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new pm({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const I=a.join("");Xe("Connection","Creating WebChannel: "+I,p);const S=l.createWebChannel(I,p);let L=!1,W=!1;const ce=new lC({Hr:Ve=>{W?Xe("Connection","Not sending because WebChannel is closed:",Ve):(L||(Xe("Connection","Opening WebChannel transport."),S.open(),L=!0),Xe("Connection","WebChannel sending:",Ve),S.send(Ve))},Jr:()=>S.close()}),Ce=(Ve,ft,Ot)=>{Ve.listen(ft,jn=>{try{Ot(jn)}catch(ar){setTimeout(()=>{throw ar},0)}})};return Ce(S,Lf.EventType.OPEN,()=>{W||Xe("Connection","WebChannel transport opened.")}),Ce(S,Lf.EventType.CLOSE,()=>{W||(W=!0,Xe("Connection","WebChannel transport closed"),ce.io())}),Ce(S,Lf.EventType.ERROR,Ve=>{W||(W=!0,Qa("Connection","WebChannel transport errored:",Ve),ce.io(new Je(Se.UNAVAILABLE,"The operation could not be completed")))}),Ce(S,Lf.EventType.MESSAGE,Ve=>{var ft;if(!W){const Ot=Ve.data[0];zt(!!Ot);const jn=Ot,ar=jn.error||(null===(ft=jn[0])||void 0===ft?void 0:ft.error);if(ar){Xe("Connection","WebChannel received error:",ar);const ur=ar.status;let oi=function(tr){const Ri=Zr[tr];if(void 0!==Ri)return TE(Ri)}(ur),dr=ar.message;void 0===oi&&(oi=Se.INTERNAL,dr="Unknown error status: "+ur+" with message "+ar.message),W=!0,ce.io(new Je(oi,dr)),S.close()}else Xe("Connection","WebChannel received:",Ot),ce.ro(Ot)}}),Ce(h,Qv.STAT_EVENT,Ve=>{Ve.stat===Ff.PROXY?Xe("Connection","Detected buffering proxy"):Ve.stat===Ff.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{ce.so()},0),ce}}function Ap(){return"undefined"!=typeof document?document:null}function fl(n){return new WI(n,!0)}class by{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=a,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-r);a>0&&Xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class vD{constructor(e,t,r,a,l,h,p,I){this.Hs=e,this.vo=r,this.Vo=a,this.So=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=I,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new by(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,K.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,K.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,K.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Do===t&&this.Qo(r,a)},r=>{e(()=>{const a=new Je(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(a)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{r(()=>this.jo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.No.Ro((0,K.Z)(function*(){e.state=0,e.start()}))}jo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ED extends vD{constructor(e,t,r,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,h),this.It=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function $d(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:Rt(),a=e.targetChange.targetIds||[],l=function(I,S){return I.gt?(zt(void 0===S||"string"==typeof S),Fr.fromBase64String(S||"")):(zt(void 0===S||S instanceof Uint8Array),Fr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(I){const S=void 0===I.code?Se.UNKNOWN:TE(I.code);return new Je(S,I.message||"")}(h);t=new Wm(r,a,l,p||null)}else if("documentChange"in e){const r=e.documentChange,a=Jo(n,r.document.name),l=si(r.document.updateTime),h=new Ci({mapValue:{fields:r.document.fields}}),p=lr.newFoundDocument(a,l,h);t=new rp(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,a=Jo(n,r.document),l=r.readTime?si(r.readTime):Kt.min(),h=lr.newNoDocument(a,l);t=new rp([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=Jo(n,r.document);t=new rp([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Rt();{const r=e.filter,l=new BI(r.count||0);t=new xE(r.targetId,l)}}var I;return t}(this.It,e),r=function(a){if(!("targetChange"in a))return Kt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Kt.min():l.readTime?si(l.readTime):Kt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=sc(this.It),t.addTarget=function(a,l){let h;const p=l.target;return h=km(p)?{documents:PE(a,p)}:{query:FE(a,p)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=ip(a,l.resumeToken):l.snapshotVersion.compareTo(Kt.min())>0&&(h.readTime=Qu(a,l.snapshotVersion.toTimestamp())),h}(this.It,e);const r=function YI(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=sc(this.It),t.removeTarget=e,this.Lo(t)}}class Cy extends vD{constructor(e,t,r,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,h),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function zd(n,e){return n&&n.length>0?(zt(void 0!==e),n.map(t=>function(r,a){let l=si(r.updateTime?r.updateTime:a);return l.isEqual(Kt.min())&&(l=si(a)),new Jf(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.tu(r,t)}return zt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=sc(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Hd(n,e){let t;if(e instanceof rc)t={update:Qm(n,e.key,e.value)};else if(e instanceof ic)t={delete:Ju(n,e.key)};else if(e instanceof Zo)t={update:Qm(n,e.key,e.data),updateMask:qd(e.fieldMask)};else{if(!(e instanceof ep))return Rt();t={verify:Ju(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Wu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Fd)return{fieldPath:l.field.canonicalString(),increment:h.yt};throw Rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:RE(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Rt()),t;var a}(this.It,r))};this.Lo(t)}}class wD extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=a,this.su=!1}iu(){if(this.su)throw new Je(Se.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.So.ao(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Je(Se.UNKNOWN,a.toString())})}_o(e,t,r,a){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.So._o(e,t,r,l,h,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Je(Se.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class Ay{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Nr(t),this.uu=!1):Xe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class ID{constructor(e,t,r,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(p=>{r.enqueueAndForget((0,K.Z)(function*(){var I;yi(h)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,K.Z)(function*(S){const L=Et(S);L.wu.add(4),yield pl(L),L.yu.set("Unknown"),L.wu.delete(4),yield sh(L)}),function(S){return I.apply(this,arguments)})(h))}))}),this.yu=new Ay(r,a)}}function sh(n){return oh.apply(this,arguments)}function oh(){return oh=(0,K.Z)(function*(n){if(yi(n))for(const e of n.mu)yield e(!0)}),oh.apply(this,arguments)}function pl(n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,K.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Sp.apply(this,arguments)}function xp(n,e){const t=Et(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),ah(t)?Sy(t):uh(t).Oo()&&Mp(t,e))}function mc(n,e){const t=Et(n),r=uh(t);t._u.delete(e),r.Oo()&&b0(t,e),0===t._u.size&&(r.Oo()?r.$o():yi(t)&&t.yu.set("Unknown"))}function Mp(n,e){n.pu.Mt(e.targetId),uh(n).Ho(e)}function b0(n,e){n.pu.Mt(e),uh(n).Jo(e)}function Sy(n){n.pu=new HI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),uh(n).start(),n.yu.cu()}function ah(n){return yi(n)&&!uh(n).ko()&&n._u.size>0}function yi(n){return 0===Et(n).wu.size}function C0(n){n.pu=void 0}function dC(n){return xy.apply(this,arguments)}function xy(){return xy=(0,K.Z)(function*(n){n._u.forEach((e,t)=>{Mp(n,e)})}),xy.apply(this,arguments)}function T0(n,e){return My.apply(this,arguments)}function My(){return My=(0,K.Z)(function*(n,e){C0(n),ah(n)?(n.yu.lu(e),Sy(n)):n.yu.set("Unknown")}),My.apply(this,arguments)}function DD(n,e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,K.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Wm&&2===e.state&&e.cause)try{yield(r=(0,K.Z)(function*(a,l){const h=l.cause;for(const p of l.targetIds)a._u.has(p)&&(yield a.remoteSyncer.rejectListen(p,h),a._u.delete(p),a.pu.removeTarget(p))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Op(n,r)}else if(e instanceof rp?n.pu.Gt(e):e instanceof xE?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Kt.min()))try{const r=yield Iy(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const h=a.pu.te(l);return h.targetChanges.forEach((p,I)=>{if(p.resumeToken.approximateByteSize()>0){const S=a._u.get(I);S&&a._u.set(I,S.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(p=>{const I=a._u.get(p);if(!I)return;a._u.set(p,I.withResumeToken(Fr.EMPTY_BYTE_STRING,I.snapshotVersion)),b0(a,p);const S=new Ca(I.target,p,1,I.sequenceNumber);Mp(a,S)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),yield Op(n,r)}var r}),Rp.apply(this,arguments)}function Op(n,e,t){return A0.apply(this,arguments)}function A0(){return A0=(0,K.Z)(function*(n,e,t){if(!Di(e))throw e;n.wu.add(1),yield pl(n),n.yu.set("Offline"),t||(t=()=>Iy(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield sh(n)}))}),A0.apply(this,arguments)}function Ry(n,e){return e().catch(t=>Op(n,t,e))}function gl(n){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,K.Z)(function*(n){const e=Et(n),t=ml(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;bD(e);)try{const a=yield aC(e.localStore,r);if(null===a){0===e.du.length&&t.$o();break}r=a.batchId,S0(e,a)}catch(a){yield Op(e,a)}yc(e)&&Np(e)}),Oy.apply(this,arguments)}function bD(n){return yi(n)&&n.du.length<10}function S0(n,e){n.du.push(e);const t=ml(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function yc(n){return yi(n)&&!ml(n).ko()&&n.du.length>0}function Np(n){ml(n).start()}function x0(n){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,K.Z)(function*(n){ml(n).nu()}),Ny.apply(this,arguments)}function M0(n){return kp.apply(this,arguments)}function kp(){return kp=(0,K.Z)(function*(n){const e=ml(n);for(const t of n.du)e.Zo(t.mutations)}),kp.apply(this,arguments)}function hC(n,e,t){return ky.apply(this,arguments)}function ky(){return ky=(0,K.Z)(function*(n,e,t){const r=n.du.shift(),a=ry.from(r,e,t);yield Ry(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield gl(n)}),ky.apply(this,arguments)}function fC(n,e){return R0.apply(this,arguments)}function R0(){return R0=(0,K.Z)(function*(n,e){var t;e&&ml(n).Xo&&(yield(t=(0,K.Z)(function*(r,a){if(zm(l=a.code)&&l!==Se.ABORTED){const h=r.du.shift();ml(r).Fo(),yield Ry(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield gl(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),yc(n)&&Np(n)}),R0.apply(this,arguments)}function Py(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,K.Z)(function*(n,e){const t=Et(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=yi(t);t.wu.add(3),yield pl(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield sh(t)}),Fy.apply(this,arguments)}function Vy(){return Vy=(0,K.Z)(function*(n,e){const t=Et(n);e?(t.wu.delete(2),yield sh(t)):e||(t.wu.add(2),yield pl(t),t.yu.set("Unknown"))}),Vy.apply(this,arguments)}function uh(n){return n.Iu||(n.Iu=function(e,t,r){const a=Et(e);return a.iu(),new ED(t,a.So,a.authCredentials,a.appCheckCredentials,a.It,r)}(n.datastore,n.asyncQueue,{Yr:dC.bind(null,n),Zr:T0.bind(null,n),zo:DD.bind(null,n)}),n.mu.push(function(){var e=(0,K.Z)(function*(t){t?(n.Iu.Fo(),ah(n)?Sy(n):n.yu.set("Unknown")):(yield n.Iu.stop(),C0(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function ml(n){return n.Tu||(n.Tu=function(e,t,r){const a=Et(e);return a.iu(),new Cy(t,a.So,a.authCredentials,a.appCheckCredentials,a.It,r)}(n.datastore,n.asyncQueue,{Yr:x0.bind(null,n),Zr:fC.bind(null,n),eu:M0.bind(null,n),tu:hC.bind(null,n)}),n.mu.push(function(){var e=(0,K.Z)(function*(t){t?(n.Tu.Fo(),yield gl(n)):(yield n.Tu.stop(),n.du.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class O0{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,p=new O0(e,t,h,a,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Je(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lh(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),Di(n))return new Je(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class ch{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=Ud(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class N0{constructor(){this.Eu=new Pr(gt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Rt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sa{constructor(e,t,r,a,l,h,p,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Sa(e,t,ch.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class CD{constructor(){this.Ru=void 0,this.listeners=[]}}class TD{constructor(){this.queries=new Yo(e=>_E(e),Pd),this.onlineState="Unknown",this.bu=new Set}}function xa(){return xa=(0,K.Z)(function*(n,e){const t=Et(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new CD),a)try{l.Ru=yield t.onListen(r)}catch(h){const p=lh(h,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.vu(l.Ru)&&hh(t)}),xa.apply(this,arguments)}function dh(){return dh=(0,K.Z)(function*(n,e){const t=Et(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),dh.apply(this,arguments)}function Uy(n,e){const t=Et(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const p of h.listeners)p.vu(a)&&(r=!0);h.Ru=a}}r&&hh(t)}function AD(n,e,t){const r=Et(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function hh(n){n.bu.forEach(e=>{e.next()})}class fh{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class xD{constructor(e){this.key=e}}class MD{constructor(e){this.key=e}}class RD{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=gn(),this.mutatedKeys=gn(),this.Gu=Gm(e),this.Qu=new ch(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new N0,a=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,p=!1;const I="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,S="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((L,W)=>{const ce=a.get(L),Ce=Zf(this.query,W)?W:null,Ve=!!ce&&this.mutatedKeys.has(ce.key),ft=!!Ce&&(Ce.hasLocalMutations||this.mutatedKeys.has(Ce.key)&&Ce.hasCommittedMutations);let Ot=!1;ce&&Ce?ce.data.isEqual(Ce.data)?Ve!==ft&&(r.track({type:3,doc:Ce}),Ot=!0):this.Hu(ce,Ce)||(r.track({type:2,doc:Ce}),Ot=!0,(I&&this.Gu(Ce,I)>0||S&&this.Gu(Ce,S)<0)&&(p=!0)):!ce&&Ce?(r.track({type:0,doc:Ce}),Ot=!0):ce&&!Ce&&(r.track({type:1,doc:ce}),Ot=!0,(I||S)&&(p=!0)),Ot&&(Ce?(h=h.add(Ce),l=ft?l.add(L):l.delete(L)):(h=h.delete(L),l=l.delete(L)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const L="F"===this.query.limitType?h.last():h.first();h=h.delete(L.key),l=l.delete(L.key),r.track({type:1,doc:L})}return{Qu:h,zu:r,$i:p,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((S,L)=>function(W,ce){const Ce=Ve=>{switch(Ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return Ce(W)-Ce(ce)}(S.type,L.type)||this.Gu(S.doc,L.doc)),this.Ju(r);const h=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,I=p!==this.qu;return this.qu=p,0!==l.length||I?{snapshot:new Sa(this.query,e.Qu,a,l,e.mutatedKeys,0===p,I,!1),Xu:h}:{Xu:h}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new N0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=gn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new MD(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new xD(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=gn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Sa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class gC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mC{constructor(e){this.key=e,this.nc=!1}}class P0{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.sc={},this.ic=new Yo(p=>_E(p),Pd),this.rc=new Map,this.oc=new Set,this.uc=new Pr(gt.comparator),this.cc=new Map,this.ac=new fp,this.hc={},this.lc=new Map,this.fc=ul.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function OD(n,e){return jy.apply(this,arguments)}function jy(){return jy=(0,K.Z)(function*(n,e){const t=P(n);let r,a;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.ec();else{const h=yield dl(t.localStore,mi(e));t.isPrimaryClient&&xp(t.remoteStore,h);const p=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield Gy(t,e,r,"current"===p)}return a}),jy.apply(this,arguments)}function Gy(n,e,t,r){return $y.apply(this,arguments)}function $y(){return $y=(0,K.Z)(function*(n,e,t,r){n._c=(L,W,ce)=>{return(Ce=(0,K.Z)(function*(Ve,ft,Ot,jn){let ar=ft.view.Wu(Ot);ar.$i&&(ar=yield Dy(Ve.localStore,ft.query,!1).then(({documents:dr})=>ft.view.Wu(dr,ar)));const ur=jn&&jn.targetChanges.get(ft.targetId),oi=ft.view.applyChanges(ar,Ve.isPrimaryClient,ur);return Zy(Ve,ft.targetId,oi.Xu),oi.snapshot}),function(Ve,ft,Ot,jn){return Ce.apply(this,arguments)})(n,L,W,ce);var Ce};const a=yield Dy(n.localStore,e,!0),l=new RD(e,a.Hi),h=l.Wu(a.documents),p=Gd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),I=l.applyChanges(h,n.isPrimaryClient,p);Zy(n,t,I.Xu);const S=new gC(e,t,l);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),$y.apply(this,arguments)}function F0(n,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,K.Z)(function*(n,e){const t=Et(n),r=t.ic.get(e),a=t.rc.get(r.targetId);if(a.length>1)return t.rc.set(r.targetId,a.filter(l=>!Pd(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mc(t.remoteStore,r.targetId),_c(t,r.targetId)}).catch(Ia))):(_c(t,r.targetId),yield nh(t.localStore,r.targetId,!0))}),Lp.apply(this,arguments)}function Hy(){return Hy=(0,K.Z)(function*(n,e,t){const r=$(n);try{const a=yield function(l,h){const p=Et(l),I=kr.now(),S=h.reduce((ce,Ce)=>ce.add(Ce.key),gn());let L,W;return p.persistence.runTransaction("Locally write mutations","readwrite",ce=>{let Ce=gs(),Ve=gn();return p.Gi.getEntries(ce,S).next(ft=>{Ce=ft,Ce.forEach((Ot,jn)=>{jn.isValidDocument()||(Ve=Ve.add(Ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(ce,Ce)).next(ft=>{L=ft;const Ot=[];for(const jn of h){const ar=UI(jn,L.get(jn.key).overlayedDocument);null!=ar&&Ot.push(new Zo(jn.key,ar,Nm(ar.value.mapValue),Cr.exists(!0)))}return p.mutationQueue.addMutationBatch(ce,I,Ot,h)}).next(ft=>{W=ft;const Ot=ft.applyToLocalDocumentSet(L,Ve);return p.documentOverlayCache.saveOverlays(ce,ft.batchId,Ot)})}).then(()=>({batchId:W.batchId,changes:AE(L)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,p){let I=l.hc[l.currentUser.toKey()];I||(I=new Pr(nn)),I=I.insert(h,p),l.hc[l.currentUser.toKey()]=I}(r,a.batchId,t),yield Ma(r,a.changes),yield gl(r.remoteStore)}catch(a){const l=lh(a,"Failed to persist write");t.reject(l)}}),Hy.apply(this,arguments)}function V0(n,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,K.Z)(function*(n,e){const t=Et(n);try{const r=yield fD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.cc.get(l);h&&(zt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.nc=!0:a.modifiedDocuments.size>0?zt(h.nc):a.removedDocuments.size>0&&(zt(h.nc),h.nc=!1))}),yield Ma(t,r,e)}catch(r){yield Ia(r)}}),Vp.apply(this,arguments)}function ph(n,e,t){const r=Et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.ic.forEach((l,h)=>{const p=h.view.Pu(e);p.snapshot&&a.push(p.snapshot)}),function(l,h){const p=Et(l);p.onlineState=h;let I=!1;p.queries.forEach((S,L)=>{for(const W of L.listeners)W.Pu(h)&&(I=!0)}),I&&hh(p)}(r.eventManager,e),a.length&&r.sc.zo(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yC(n,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,K.Z)(function*(n,e,t){const r=Et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.cc.get(e),l=a&&a.key;if(l){let h=new Pr(gt.comparator);h=h.insert(l,lr.newNoDocument(l,Kt.min()));const p=gn().add(l),I=new jd(Kt.min(),new Map,new Qn(nn),h,p);yield V0(r,I),r.uc=r.uc.remove(l),r.cc.delete(e),Yy(r)}else yield nh(r.localStore,e,!1).then(()=>_c(r,e,t)).catch(Ia)}),Up.apply(this,arguments)}function Bp(n,e){return zy.apply(this,arguments)}function zy(){return zy=(0,K.Z)(function*(n,e){const t=Et(n),r=e.batch.batchId;try{const a=yield y0(t.localStore,e);Ky(t,r,null),Wy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ma(t,a)}catch(a){yield Ia(a)}}),zy.apply(this,arguments)}function ND(n,e,t){return qy.apply(this,arguments)}function qy(){return qy=(0,K.Z)(function*(n,e,t){const r=Et(n);try{const a=yield function(l,h){const p=Et(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return p.mutationQueue.lookupMutationBatch(I,h).next(L=>(zt(null!==L),S=L.keys(),p.mutationQueue.removeMutationBatch(I,L))).next(()=>p.mutationQueue.performConsistencyCheck(I)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(I,S,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,S)).next(()=>p.localDocuments.getDocuments(I,S))})}(r.localStore,e);Ky(r,e,t),Wy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ma(r,a)}catch(a){yield Ia(a)}}),qy.apply(this,arguments)}function Wy(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Ky(n,e,t){const r=Et(n);let a=r.hc[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.hc[r.currentUser.toKey()]=a}}function _c(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||B0(n,r)})}function B0(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(mc(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Yy(n))}function Zy(n,e,t){for(const r of t)r instanceof xD?(n.ac.addReference(r.key,e),PD(n,r)):r instanceof MD?(Xe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||B0(n,r.key)):Rt()}function PD(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Xe("SyncEngine","New document in limbo: "+t),n.oc.add(r),Yy(n))}function Yy(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new gt(Rn.fromString(e)),r=n.fc.next();n.cc.set(r,new mC(t)),n.uc=n.uc.insert(t,r),xp(n.remoteStore,new Ca(mi(qu(t.path)),r,2,Xi.at))}}function Ma(n,e,t){return j0.apply(this,arguments)}function j0(){return j0=(0,K.Z)(function*(n,e,t){const r=Et(n),a=[],l=[],h=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,I)=>{h.push(r._c(I,e,t).then(S=>{if((S||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,(null==S?void 0:S.fromCache)?"not-current":"current"),S){a.push(S);const L=Ey.Ci(I.targetId,S);l.push(L)}}))}),yield Promise.all(h),r.sc.zo(a),yield(p=(0,K.Z)(function*(I,S){const L=Et(I);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Ee.forEach(S,ce=>Ee.forEach(ce.Si,Ce=>L.persistence.referenceDelegate.addReference(W,ce.targetId,Ce)).next(()=>Ee.forEach(ce.Di,Ce=>L.persistence.referenceDelegate.removeReference(W,ce.targetId,Ce)))))}catch(W){if(!Di(W))throw W;Xe("LocalStore","Failed to update sequence numbers: "+W)}for(const W of S){const ce=W.targetId;if(!W.fromCache){const Ce=L.Ui.get(ce),ft=Ce.withLastLimboFreeSnapshotVersion(Ce.snapshotVersion);L.Ui=L.Ui.insert(ce,ft)}}}),function(I,S){return p.apply(this,arguments)})(r.localStore,l))}),j0.apply(this,arguments)}function _C(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,K.Z)(function*(n,e){const t=Et(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=yield wy(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(h=>{h.forEach(p=>{p.reject(new Je(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ma(t,r.ji)}var a}),G0.apply(this,arguments)}function vC(n,e){const t=Et(n),r=t.cc.get(e);if(r&&r.nc)return gn().add(r.key);{let a=gn();const l=t.rc.get(e);if(!l)return a;for(const h of l){const p=t.ic.get(h);a=a.unionWith(p.view.ju)}return a}}function P(n){const e=Et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yC.bind(null,e),e.sc.zo=Uy.bind(null,e.eventManager),e.sc.wc=AD.bind(null,e.eventManager),e}function $(n){const e=Et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,e),e}class he{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.It=fl(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function m0(n,e,t,r){return new g0(n,e,t,r)}(this.persistence,new p0,e.initialUser,this.It)}yc(e){return new gp(vy.Bs,this.It)}gc(e){return new yD}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ot{initialize(e,t){var r=this;return(0,K.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>ph(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,r.syncEngine),yield function Ly(n,e){return Vy.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TD}createDatastore(e){const t=fl(e.databaseInfo.databaseId),r=new cC(e.databaseInfo);return new wD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=p=>ph(this.syncEngine,p,0),h=ih.C()?new ih:new I0,new ID(t,r,a,l,h);var t,r,a,l,h}createSyncEngine(e,t){return function(r,a,l,h,p,I,S){const L=new P0(r,a,l,h,p,I);return S&&(L.dc=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(t){const r=Et(t);Xe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield pl(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wt(n,e,t){if(!t)throw new Je(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jt(n){if(!gt.isDocumentKey(n))throw new Je(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dn(n){if(gt.isDocumentKey(n))throw new Je(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bn(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Rt()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Je(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bn(n);throw new Je(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const jp=new Map;class Gp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Je(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Je(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ge(n,e,t,r){if(!0===e&&!0===r)throw new Je(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Je(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Je(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wI;switch(t.type){case"gapi":return new _m(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Je(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jp.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}class Mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class so extends xi{constructor(e,t,r){super(e,t,qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new gt(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Xy(n,e,...t){if(n=(0,we.m9)(n),wt("collection","path",e),n instanceof yl){const r=Rn.fromString(e,...t);return Dn(r),new so(n,null,r)}{if(!(n instanceof Mr||n instanceof so))throw new Je(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return Dn(r),new so(n.firestore,null,r)}}class q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class TT{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=gi.UNAUTHENTICATED,this.clientId=Em.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,K.Z)(function*(p){Xe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Xe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Je(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=lh(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function CC(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,K.Z)(function*(l){r.isEqual(l)||(yield wy(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),FD.apply(this,arguments)}function TC(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VD(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>Py(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>Py(e.remoteStore,l)),n.onlineComponents=e}),LD.apply(this,arguments)}function VD(n){return UD.apply(this,arguments)}function UD(){return UD=(0,K.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield CC(n,new he)),n.offlineComponents}),UD.apply(this,arguments)}function W0(n){return BD.apply(this,arguments)}function BD(){return BD=(0,K.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield TC(n,new ot)),n.onlineComponents}),BD.apply(this,arguments)}function $p(n){return $D.apply(this,arguments)}function $D(){return $D=(0,K.Z)(function*(n){const e=yield W0(n),t=e.eventManager;return t.onListen=OD.bind(null,e.syncEngine),t.onUnlisten=F0.bind(null,e.syncEngine),t}),$D.apply(this,arguments)}class kT{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new by(this,"async_queue_retry"),this.Wc=()=>{const t=Ap();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Ap();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Ap();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Kr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,K.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Di(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=O0.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(a),a}zc(){this.Kc&&Rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function HD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class Rr extends yl{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new kT,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RC(this),this._firestoreClient.terminate()}}function FT(n,e){const t="object"==typeof n?n:(0,Ne.Mq)(),r="string"==typeof n?n:e||"(default)",a=(0,Ne.qX)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=(0,we.q4)("firestore");if(l){const[h,p]=l.split(":");!function Jy(n,e,t,r={}){var a;const l=(n=en(n,yl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Qa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=gi.MOCK_USER;else{h=(0,we.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Je(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gi(I)}n._authCredentials=new II(new mm(h,p))}}(a,h,parseInt(p,10))}}return a}function Mi(n){return n._firestoreClient||RC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RC(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uE(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new TT(n._authCredentials,n._appCheckCredentials,n._queue,r)}class gh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gh(Fr.fromBase64String(e))}catch(t){throw new Je(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gh(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Je(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kC{constructor(e){this._methodName=e}}class zD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}const LT=/^__.*__$/;class VT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new rc(e,this.data,t,this.fieldTransforms)}}function FC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Z0{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=a,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:r,oa:!1});return a.ua(e),a}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:r,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Q0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(FC(this.sa)&&LT.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class UT{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||fl(e)}da(e,t,r,a=!1){return new Z0({sa:e,methodName:t,fa:r,path:vn.emptyPath(),oa:!1,la:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function zp(n){const e=n._freezeSettings(),t=fl(n._databaseId);return new UT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(n,e,t,r,a,l={}){const h=n.da(l.merge||l.mergeFields?2:0,e,t,a);KD("Data must be an object, but it was:",h,r);const p=jC(r,h);let I,S;if(l.merge)I=new Ms(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const L=[];for(const W of l.mergeFields){const ce=ZD(e,W,t);if(!h.contains(ce))throw new Je(Se.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);$C(L,ce)||L.push(ce)}I=new Ms(L),S=h.fieldTransforms.filter(W=>I.covers(W.field))}else I=null,S=h.fieldTransforms;return new VT(new Ci(p),I,S)}function mh(n,e){if(GC(n=(0,we.m9)(n)))return KD("Unsupported field value:",e,n),jC(n,e);if(n instanceof kC)return function(t,r){if(!FC(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const h of t){let p=mh(h,r.aa(l));null==p&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,we.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vE(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=kr.fromDate(t);return{timestampValue:Qu(r.It,a)}}if(t instanceof kr){const a=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qu(r.It,a)}}if(t instanceof zD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gh)return{bytesValue:ip(r.It,t._byteString)};if(t instanceof Mr){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ym(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Bn(t)}`)}(n,e)}function jC(n,e){const t={};return Tm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(n,(r,a)=>{const l=mh(a,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function GC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kr||n instanceof zD||n instanceof gh||n instanceof Mr||n instanceof kC)}function KD(n,e,t){if(!GC(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Bn(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function ZD(n,e,t){if((e=(0,we.m9)(e))instanceof Hp)return e._internalPath;if("string"==typeof e)return Y0(n,e);throw Q0("Field path arguments must be of type string or ",n,!1,void 0,t)}const $T=new RegExp("[~\\*/\\[\\]]");function Y0(n,e,t){if(e.search($T)>=0)throw Q0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hp(...e.split("."))._internalPath}catch(r){throw Q0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Q0(n,e,t,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${r}`),h&&(I+=` in document ${a}`),I+=")"),new Je(Se.INVALID_ARGUMENT,p+n+I)}function $C(n,e){return n.some(t=>t.isEqual(e))}class YD{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(J0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HT extends YD{data(){return super.data()}}function J0(n,e){return"string"==typeof e?Y0(n,e):e instanceof Hp?e._internalPath:e._delegate._internalPath}class yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qp extends YD{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(J0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class X0 extends qp{data(e={}){return super.data(e)}}class Wp{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new X0(this._firestore,this._userDataWriter,r.key,r,new yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new X0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new yh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const p=new X0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new yh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,S=-1;return 0!==h.type&&(I=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:KT(h.type),doc:p,oldIndex:I,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}class vc extends class WT{convertValue(e,t="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rt()}}convertObject(e,t){const r={};return Bu(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new zD(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Am(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const t=Da(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rn.fromString(e);zt(VE(r));const a=new Gu(r.get(1),r.get(3)),l=new gt(r.popFirst(5));return a.isEqual(t)||Nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new gh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function ZT(n,e){const t=en(n.firestore,Rr),r=function ET(n,e,...t){if(n=(0,we.m9)(n),1===arguments.length&&(e=Em.R()),wt("doc","path",e),n instanceof yl){const r=Rn.fromString(e,...t);return jt(r),new Mr(n,null,new gt(r))}{if(!(n instanceof Mr||n instanceof so))throw new Je(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return jt(r),new Mr(n.firestore,n instanceof so?n.converter:null,new gt(r))}}(n),a=function QD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function t_(n,e){return function(t,r){const a=new Kr;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function L0(n,e,t){return Hy.apply(this,arguments)}(yield function GD(n){return W0(n).then(e=>e.syncEngine)}(t),r,a)})),a.promise}(Mi(n),e)}(t,[qD(zp(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}!function(n,e=!0){Cd=Ne.Jn,(0,Ne.Xd)(new pt.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const l=t.getProvider("app").getImmediate(),h=new Rr(new DI(t.getProvider("auth-internal")),new Jv(t.getProvider("app-check-internal")),function(p,I){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Je(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(p.options.projectId,I)}(l,r),l);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KN)(Vf,"3.6.0",n),(0,Ne.KN)(Vf,"3.6.0","esm2017")}();var eA=G(8306),XC=G(4004),tA={includeMetadataChanges:!1};function XD(n,e){return void 0===e&&(e=tA),new eA.y(function(t){var r=function YT(n,...e){var t,r,a;n=(0,we.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||HD(e[h])||(l=e[h],h++);const p={includeMetadataChanges:l.includeMetadataChanges};if(HD(e[h])){const W=e[h];e[h]=null===(t=W.next)||void 0===t?void 0:t.bind(W),e[h+1]=null===(r=W.error)||void 0===r?void 0:r.bind(W),e[h+2]=null===(a=W.complete)||void 0===a?void 0:a.bind(W)}let I,S,L;if(n instanceof Mr)S=en(n.firestore,Rr),L=qu(n._key.path),I={next:W=>{e[h]&&e[h](function JD(n,e,t){const r=t.docs.get(e._key),a=new vc(n);return new qp(n,a,e._key,r,new yh(t.hasPendingWrites,t.fromCache),e.converter)}(S,n,W))},error:e[h+1],complete:e[h+2]};else{const W=en(n,xi);S=en(W.firestore,Rr),L=W._query;const ce=new vc(S);I={next:Ce=>{e[h]&&e[h](new Wp(S,ce,W,Ce))},error:e[h+1],complete:e[h+2]},function HC(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Je(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(W,ce,Ce,Ve){const ft=new q0(Ve),Ot=new fh(ce,ft,Ce);return W.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Pp(n,e){return xa.apply(this,arguments)}(yield $p(W),Ot)})),()=>{ft.bc(),W.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function Fp(n,e){return dh.apply(this,arguments)}(yield $p(W),Ot)}))}}(Mi(S),L,p,I)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function uA(n,e){return void 0===e&&(e={}),function aA(n){return XD(n,{includeMetadataChanges:!0}).pipe((0,XC.U)(function(e){return e.docs}))}(n).pipe((0,XC.U)(function(t){return t.map(function(r){return function eT(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class tw{constructor(e){return e}}const iT="firestore",nb=new N.OlP("angularfire2.firestore-instances");function dA(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new tw(r)}}const hA={provide:class lA{constructor(){return(0,v.vb)(iT)}},deps:[[new N.FiY,nb]]},fA={provide:tw,useFactory:function cA(n,e){const t=(0,v.JM)(iT,n,e);return t&&new tw(t)},deps:[[new N.FiY,nb],ue.Ot]};let pA=(()=>{class n{constructor(){(0,me.KN)("angularfire",v.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=N.oAB({type:n}),n.\u0275inj=N.cJS({providers:[fA,hA]}),n})();function gA(n,...e){return{ngModule:pA,providers:[{provide:nb,useFactory:dA(n),multi:!0,deps:[N.R0b,N.zs3,v.HU,ue.z6,[new N.FiY,hg],[new N.FiY,xg],...e]}]}}const mA=(0,v.u3)(uA,!0),yA=(0,v.u3)(ZT,!0),_A=(0,v.u3)(Xy,!0),vA=(0,v.u3)(FT,!0)},8321:(bt,Me,G)=>{"use strict";G.d(Me,{q4:()=>ls,HU:()=>Nc,vb:()=>Oc,JM:()=>bu,u3:()=>wi});var v=G(1223),N=G(5867),ue=G(5861),me=G(9681),K=G(2090),we=G(4859),Ne=G(1877),Ke=G(8766);const Fe="@firebase/installations",X="0.5.13",Ue=`w:${X}`,it="FIS_v2",dt=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(D){return D instanceof K.ZR&&D.code.includes("request-failed")}function xe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function mt(D){return{token:D.token,requestStatus:2,expiresIn:De(D.expiresIn),creationTime:Date.now()}}function rt(D,T){return $e.apply(this,arguments)}function $e(){return($e=(0,ue.Z)(function*(D,T){const H=(yield T.json()).error;return dt.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Nt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function fe(D,{refreshToken:T}){const k=Nt(D);return k.append("Authorization",function Re(D){return`${it} ${D}`}(T)),k}function Z(D){return pe.apply(this,arguments)}function pe(){return(pe=(0,ue.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function De(D){return Number(D.replace("s","000"))}function He(D,T){return ge.apply(this,arguments)}function ge(){return(ge=(0,ue.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const H=xe(D),le=Nt(D),be=T.getImmediate({optional:!0});if(be){const Qt=yield be.getHeartbeatsHeader();Qt&&le.append("x-firebase-client",Qt)}const ut={method:"POST",headers:le,body:JSON.stringify({fid:k,authVersion:it,appId:D.appId,sdkVersion:Ue})},Vt=yield Z(()=>fetch(H,ut));if(Vt.ok){const Qt=yield Vt.json();return{fid:Qt.fid||k,registrationStatus:2,refreshToken:Qt.refreshToken,authToken:mt(Qt.authToken)}}throw yield rt("Create Installation",Vt)})).apply(this,arguments)}function Tt(D){return new Promise(T=>{setTimeout(T,D)})}const Gn=/^[cdef][\w-]{21}$/;function nr(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function Ln(D){return function Ut(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Gn.test(k)?k:""}catch(D){return""}}function yn(D){return`${D.appName}!${D.appId}`}const rr=new Map;function ir(D,T){const k=yn(D);Tn(k,T),function on(D,T){const k=function On(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=D=>{Tn(D.data.key,D.data.fid)}),kt}();k&&k.postMessage({key:D,fid:T}),function hr(){0===rr.size&&kt&&(kt.close(),kt=null)}()}(k,T)}function Tn(D,T){const k=rr.get(D);if(k)for(const H of k)H(T)}let kt=null;const An="firebase-installations-store";let Vr=null;function fr(){return Vr||(Vr=(0,Ke.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(An)}})),Vr}function gr(D,T){return je.apply(this,arguments)}function je(){return(je=(0,ue.Z)(function*(D,T){const k=yn(D),le=(yield fr()).transaction(An,"readwrite"),be=le.objectStore(An),Ze=yield be.get(k);return yield be.put(T,k),yield le.done,(!Ze||Ze.fid!==T.fid)&&ir(D,T.fid),T})).apply(this,arguments)}function dn(D){return mr.apply(this,arguments)}function mr(){return(mr=(0,ue.Z)(function*(D){const T=yn(D),H=(yield fr()).transaction(An,"readwrite");yield H.objectStore(An).delete(T),yield H.done})).apply(this,arguments)}function ke(D,T){return re.apply(this,arguments)}function re(){return(re=(0,ue.Z)(function*(D,T){const k=yn(D),le=(yield fr()).transaction(An,"readwrite"),be=le.objectStore(An),Ze=yield be.get(k),ut=T(Ze);return void 0===ut?yield be.delete(k):yield be.put(ut,k),yield le.done,ut&&(!Ze||Ze.fid!==ut.fid)&&ir(D,ut.fid),ut})).apply(this,arguments)}function oe(D){return ze.apply(this,arguments)}function ze(){return(ze=(0,ue.Z)(function*(D){let T;const k=yield ke(D.appConfig,H=>{const le=ye(H),be=st(D,le);return T=be.registrationPromise,be.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function ye(D){return Sn(D||{fid:nr(),registrationStatus:0})}function st(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(dt.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function nt(D,T){return Le.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Gt(D)}:{installationEntry:T}}function Le(){return(Le=(0,ue.Z)(function*(D,T){try{const k=yield He(D,T);return gr(D.appConfig,k)}catch(k){throw Ct(k)&&409===k.customData.serverCode?yield dn(D.appConfig):yield gr(D.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Gt(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,ue.Z)(function*(D){let T=yield _n(D.appConfig);for(;1===T.registrationStatus;)yield Tt(100),T=yield _n(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield oe(D);return H||k}return T})).apply(this,arguments)}function _n(D){return ke(D,T=>{if(!T)throw dt.create("installation-not-found");return Sn(T)})}function Sn(D){return function Jn(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function an(D,T){return ht.apply(this,arguments)}function ht(){return(ht=(0,ue.Z)(function*({appConfig:D,heartbeatServiceProvider:T},k){const H=Jt(D,k),le=fe(D,k),be=T.getImmediate({optional:!0});if(be){const Qt=yield be.getHeartbeatsHeader();Qt&&le.append("x-firebase-client",Qt)}const ut={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:Ue,appId:D.appId}})},Vt=yield Z(()=>fetch(H,ut));if(Vt.ok)return mt(yield Vt.json());throw yield rt("Generate Auth Token",Vt)})).apply(this,arguments)}function Jt(D,{fid:T}){return`${xe(D)}/${T}/authTokens:generate`}function Wt(D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,ue.Z)(function*(D,T=!1){let k;const H=yield ke(D.appConfig,be=>{if(!q(be))throw dt.create("not-registered");const Ze=be.authToken;if(!T&&Y(Ze))return be;if(1===Ze.requestStatus)return k=lt(D,T),be;{if(!navigator.onLine)throw dt.create("app-offline");const ut=Pe(be);return k=xt(D,ut),ut}});return k?yield k:H.authToken})).apply(this,arguments)}function lt(D,T){return Te.apply(this,arguments)}function Te(){return(Te=(0,ue.Z)(function*(D,T){let k=yield tt(D.appConfig);for(;1===k.authToken.requestStatus;)yield Tt(100),k=yield tt(D.appConfig);const H=k.authToken;return 0===H.requestStatus?Wt(D,T):H})).apply(this,arguments)}function tt(D){return ke(D,T=>{if(!q(T))throw dt.create("not-registered");return function _e(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function xt(D,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ue.Z)(function*(D,T){try{const k=yield an(D,T),H=Object.assign(Object.assign({},T),{authToken:k});return yield gr(D.appConfig,H),k}catch(k){if(!Ct(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield gr(D.appConfig,H)}else yield dn(D.appConfig);throw k}})).apply(this,arguments)}function q(D){return void 0!==D&&2===D.registrationStatus}function Y(D){return 2===D.requestStatus&&!function ae(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Pe(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Mt(){return(Mt=(0,ue.Z)(function*(D){const T=D,{installationEntry:k,registrationPromise:H}=yield oe(T);return H?H.catch(console.error):Wt(T).catch(console.error),k.fid})).apply(this,arguments)}function Xn(){return(Xn=(0,ue.Z)(function*(D,T=!1){const k=D;return yield fn(k),(yield Wt(k,T)).token})).apply(this,arguments)}function fn(D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,ue.Z)(function*(D){const{registrationPromise:T}=yield oe(D);T&&(yield T)})).apply(this,arguments)}function Nn(D){return dt.create("missing-app-config-values",{valueName:D})}const Er="installations",Qr=D=>{const T=D.getProvider("app").getImmediate(),k=function Hn(D){if(!D||!D.options)throw Nn("App Configuration");if(!D.name)throw Nn("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw Nn(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,me.qX)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ni=D=>{const T=D.getProvider("app").getImmediate(),k=(0,me.qX)(T,Er).getImmediate();return{getId:()=>function _t(D){return Mt.apply(this,arguments)}(k),getToken:le=>function En(D){return Xn.apply(this,arguments)}(k,le)}};(function Ur(){(0,me.Xd)(new we.wA(Er,Qr,"PUBLIC")),(0,me.Xd)(new we.wA("installations-internal",Ni,"PRIVATE"))})(),(0,me.KN)(Fe,X),(0,me.KN)(Fe,X,"esm2017");const ai="@firebase/remote-config",V=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ao{constructor(T,k,H,le){this.client=T,this.storage=k,this.storageCache=H,this.logger=le}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,le=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${le}.`),le}fetch(T){var k=this;return(0,ue.Z)(function*(){const[H,le]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(le&&k.isCachedDataFresh(T.cacheMaxAgeMillis,H))return le;T.eTag=le&&le.eTag;const be=yield k.client.fetch(T),Ze=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&Ze.push(k.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(Ze),be})()}}function Ir(D=navigator){return D.languages&&D.languages[0]||D.language}class zn{constructor(T,k,H,le,be,Ze){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=H,this.projectId=le,this.apiKey=be,this.appId=Ze}fetch(T){var k=this;return(0,ue.Z)(function*(){var H,le,be;const[Ze,ut]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},$t={sdk_version:k.sdkVersion,app_instance_id:Ze,app_instance_id_token:ut,app_id:k.appId,language_code:Ir()},Wr={method:"POST",headers:tn,body:JSON.stringify($t)},di=fetch(Qt,Wr),yo=new Promise((da,ha)=>{T.signal.addEventListener(()=>{const kh=new Error("The operation was aborted.");kh.name="AbortError",ha(kh)})});let Au;try{yield Promise.race([di,yo]),Au=yield di}catch(da){let ha="fetch-client-network";throw"AbortError"===(null===(H=da)||void 0===H?void 0:H.name)&&(ha="fetch-timeout"),V.create(ha,{originalErrorMessage:null===(le=da)||void 0===le?void 0:le.message})}let $a=Au.status;const Nh=Au.headers.get("ETag")||void 0;let _o,Bo;if(200===Au.status){let da;try{da=yield Au.json()}catch(ha){throw V.create("fetch-client-parse",{originalErrorMessage:null===(be=ha)||void 0===be?void 0:be.message})}_o=da.entries,Bo=da.state}if("INSTANCE_STATE_UNSPECIFIED"===Bo?$a=500:"NO_CHANGE"===Bo?$a=304:("NO_TEMPLATE"===Bo||"EMPTY_CONFIG"===Bo)&&(_o={}),304!==$a&&200!==$a)throw V.create("fetch-status",{httpStatus:$a});return{status:$a,eTag:Nh,config:_o}})()}}class Hs{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,ue.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:H}){var le=this;return(0,ue.Z)(function*(){yield function ui(D,T){return new Promise((k,H)=>{const le=Math.max(T-Date.now(),0),be=setTimeout(k,le);D.addEventListener(()=>{clearTimeout(be),H(V.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const be=yield le.client.fetch(T);return yield le.storage.deleteThrottleMetadata(),be}catch(be){if(!function Fi(D){if(!(D instanceof K.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(be))throw be;const Ze={throttleEndTimeMillis:Date.now()+(0,K.$s)(H),backoffCount:H+1};return yield le.storage.setThrottleMetadata(Ze),le.attemptFetch(T,Ze)}})()}}class uo{constructor(T,k,H,le,be){this.app=T,this._client=k,this._storageCache=H,this._storage=le,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Li(D,T){var k;const H=D.target.error||void 0;return V.create(T,{originalErrorMessage:H&&(null===(k=H)||void 0===k?void 0:k.message)})}const li="app_namespace_store";class Ns{constructor(T,k,H,le=function Ra(){return new Promise((D,T)=>{var k;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=le=>{T(Li(le,"storage-open"))},H.onsuccess=le=>{D(le.target.result)},H.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(H){T(V.create("storage-open",{originalErrorMessage:null===(k=H)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=H,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,ue.Z)(function*(){const H=yield k.openDbPromise;return new Promise((le,be)=>{var Ze;const Vt=H.transaction([li],"readonly").objectStore(li),Qt=k.createCompositeKey(T);try{const tn=Vt.get(Qt);tn.onerror=$t=>{be(Li($t,"storage-get"))},tn.onsuccess=$t=>{const Wr=$t.target.result;le(Wr?Wr.value:void 0)}}catch(tn){be(V.create("storage-get",{originalErrorMessage:null===(Ze=tn)||void 0===Ze?void 0:Ze.message}))}})})()}set(T,k){var H=this;return(0,ue.Z)(function*(){const le=yield H.openDbPromise;return new Promise((be,Ze)=>{var ut;const Qt=le.transaction([li],"readwrite").objectStore(li),tn=H.createCompositeKey(T);try{const $t=Qt.put({compositeKey:tn,value:k});$t.onerror=Wr=>{Ze(Li(Wr,"storage-set"))},$t.onsuccess=()=>{be()}}catch($t){Ze(V.create("storage-set",{originalErrorMessage:null===(ut=$t)||void 0===ut?void 0:ut.message}))}})})()}delete(T){var k=this;return(0,ue.Z)(function*(){const H=yield k.openDbPromise;return new Promise((le,be)=>{var Ze;const Vt=H.transaction([li],"readwrite").objectStore(li),Qt=k.createCompositeKey(T);try{const tn=Vt.delete(Qt);tn.onerror=$t=>{be(Li($t,"storage-delete"))},tn.onsuccess=()=>{le()}}catch(tn){be(V.create("storage-delete",{originalErrorMessage:null===(Ze=tn)||void 0===Ze?void 0:Ze.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Oa{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,ue.Z)(function*(){const k=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),le=T.storage.getActiveConfig(),be=yield k;be&&(T.lastFetchStatus=be);const Ze=yield H;Ze&&(T.lastSuccessfulFetchTimestampMillis=Ze);const ut=yield le;ut&&(T.activeConfig=ut)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function lo(){return ns.apply(this,arguments)}function ns(){return(ns=(0,ue.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ks(){(0,me.Xd)(new we.wA("remote-config",function D(T,{instanceIdentifier:k}){const H=T.getProvider("app").getImmediate(),le=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw V.create("registration-window");if(!(0,K.hl)())throw V.create("indexed-db-unavailable");const{projectId:be,apiKey:Ze,appId:ut}=H.options;if(!be)throw V.create("registration-project-id");if(!Ze)throw V.create("registration-api-key");if(!ut)throw V.create("registration-app-id");const Vt=new Ns(ut,H.name,k=k||"firebase"),Qt=new Oa(Vt),tn=new Ne.Yd(ai);tn.logLevel=Ne.in.ERROR;const $t=new zn(le,me.Jn,k,be,Ze,ut),Wr=new Hs($t,Vt),di=new ao(Wr,Vt,Qt,tn),yo=new uo(H,di,Qt,Vt,tn);return function Lt(D){const T=(0,K.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,me.KN)(ai,"0.3.12"),(0,me.KN)(ai,"0.3.12","esm2017")}();const co="/firebase-messaging-sw.js",Mo="/firebase-cloud-messaging-push-scope",Ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ks="google.c.a.c_id",Zs="google.c.a.c_l",Ys="google.c.a.ts",Qs="google.c.a.e";var qi=(()=>{return(D=qi||(qi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",qi;var D})();function Zn(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wi(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),le=new Uint8Array(H.length);for(let be=0;be<H.length;++be)le[be]=H.charCodeAt(be);return le}const Ki="fcm_token_details_db",ys="fcm_token_object_Store";function Fs(D){return jr.apply(this,arguments)}function jr(){return jr=(0,ue.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(Ki))return null;let T=null;return(yield(0,Ke.X3)(Ki,5,{upgrade:(H=(0,ue.Z)(function*(le,be,Ze,ut){var Vt;if(be<2||!le.objectStoreNames.contains(ys))return;const Qt=ut.objectStore(ys),tn=yield Qt.index("fcmSenderId").get(D);if(yield Qt.clear(),tn)if(2===be){const $t=tn;if(!$t.auth||!$t.p256dh||!$t.endpoint)return;T={token:$t.fcmToken,createTime:null!==(Vt=$t.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:$t.auth,p256dh:$t.p256dh,endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:"string"==typeof $t.vapidKey?$t.vapidKey:Zn($t.vapidKey)}}}else if(3===be){const $t=tn;T={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:Zn($t.auth),p256dh:Zn($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:Zn($t.vapidKey)}}}else if(4===be){const $t=tn;T={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:Zn($t.auth),p256dh:Zn($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:Zn($t.vapidKey)}}}}),function(be,Ze,ut,Vt){return H.apply(this,arguments)})})).close(),yield(0,Ke.Lj)(Ki),yield(0,Ke.Lj)("fcm_vapid_details_db"),yield(0,Ke.Lj)("undefined"),Ro(T)?T:null;var H}),jr.apply(this,arguments)}function Ro(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const vi="firebase-messaging-store";let Or=null;function Ls(){return Or||(Or=(0,Ke.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(vi)}})),Or}function A(D){return F.apply(this,arguments)}function F(){return(F=(0,ue.Z)(function*(D){const T=We(D),H=yield(yield Ls()).transaction(vi).objectStore(vi).get(T);if(H)return H;{const le=yield Fs(D.appConfig.senderId);if(le)return yield x(D,le),le}})).apply(this,arguments)}function x(D,T){return j.apply(this,arguments)}function j(){return(j=(0,ue.Z)(function*(D,T){const k=We(D),le=(yield Ls()).transaction(vi,"readwrite");return yield le.objectStore(vi).put(T,k),yield le.done,T})).apply(this,arguments)}function ne(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,ue.Z)(function*(D){const T=We(D),H=(yield Ls()).transaction(vi,"readwrite");yield H.objectStore(vi).delete(T),yield H.done})).apply(this,arguments)}function We({appConfig:D}){return D.appId}const At=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Cn(D,T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,ue.Z)(function*(D,T){var k;const H=yield Wn(D),le=Ei(T),be={method:"POST",headers:H,body:JSON.stringify(le)};let Ze;try{Ze=yield(yield fetch(yr(D.appConfig),be)).json()}catch(ut){throw At.create("token-subscribe-failed",{errorInfo:null===(k=ut)||void 0===k?void 0:k.toString()})}if(Ze.error)throw At.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw At.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function mn(D,T){return In.apply(this,arguments)}function In(){return(In=(0,ue.Z)(function*(D,T){var k;const H=yield Wn(D),le=Ei(T.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(le)};let Ze;try{Ze=yield(yield fetch(`${yr(D.appConfig)}/${T.token}`,be)).json()}catch(ut){throw At.create("token-update-failed",{errorInfo:null===(k=ut)||void 0===k?void 0:k.toString()})}if(Ze.error)throw At.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw At.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function kn(D,T){return qn.apply(this,arguments)}function qn(){return(qn=(0,ue.Z)(function*(D,T){var k;const le={method:"DELETE",headers:yield Wn(D)};try{const Ze=yield(yield fetch(`${yr(D.appConfig)}/${T}`,le)).json();if(Ze.error)throw At.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(be){throw At.create("token-unsubscribe-failed",{errorInfo:null===(k=be)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function yr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Wn(D){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ue.Z)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ei({p256dh:D,auth:T,endpoint:k,vapidKey:H}){const le={web:{endpoint:k,auth:T,p256dh:D}};return H!==Ws&&(le.web.applicationPubKey=H),le}const M=6048e5;function C(D){return w.apply(this,arguments)}function w(){return(w=(0,ue.Z)(function*(D){const T=yield is(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Zn(T.getKey("auth")),p256dh:Zn(T.getKey("p256dh"))},H=yield A(D.firebaseDependencies);if(H){if(Es(H.subscriptionOptions,k))return Date.now()>=H.createTime+M?Dt(D,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield kn(D.firebaseDependencies,H.token)}catch(le){console.warn(le)}return Ar(D.firebaseDependencies,k)}return Ar(D.firebaseDependencies,k)})).apply(this,arguments)}function B(D){return de.apply(this,arguments)}function de(){return(de=(0,ue.Z)(function*(D){const T=yield A(D.firebaseDependencies);T&&(yield kn(D.firebaseDependencies,T.token),yield ne(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Dt(D,T){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,ue.Z)(function*(D,T){try{const k=yield mn(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield x(D.firebaseDependencies,H),k}catch(k){throw yield B(D),k}})).apply(this,arguments)}function Ar(D,T){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,ue.Z)(function*(D,T){const H={token:yield Cn(D,T),createTime:Date.now(),subscriptionOptions:T};return yield x(D,H),H.token})).apply(this,arguments)}function is(D,T){return vs.apply(this,arguments)}function vs(){return(vs=(0,ue.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wi(T)})})).apply(this,arguments)}function Es(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function qe(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function un(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const H=T.notification.body;H&&(D.notification.body=H);const le=T.notification.image;le&&(D.notification.image=le)}(T,D),function lu(D,T){!T.data||(D.data=T.data)}(T,D),function _r(D,T){var k,H,le,be,Ze;if(!T.fcmOptions&&!(null===(k=T.notification)||void 0===k?void 0:k.click_action))return;D.fcmOptions={};const ut=null!==(le=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==le?le:null===(be=T.notification)||void 0===be?void 0:be.click_action;ut&&(D.fcmOptions.link=ut);const Vt=null===(Ze=T.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;Vt&&(D.fcmOptions.analyticsLabel=Vt)}(T,D),T}function ho(D){return"object"==typeof D&&!!D&&Ks in D}function Js(D,T){const k=[];for(let H=0;H<D.length;H++)k.push(D.charAt(H)),H<T.length&&k.push(T.charAt(H));return k.join("")}function fo(D){return At.create("missing-app-config-values",{valueName:D})}Js("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Js("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cu{constructor(T,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Yi(D){if(!D||!D.options)throw fo("App Configuration Object");if(!D.name)throw fo("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const H of T)if(!k[H])throw fo(H);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:le,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function du(D){return hu.apply(this,arguments)}function hu(){return(hu=(0,ue.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(co,{scope:Mo}),D.swRegistration.update().catch(()=>{})}catch(k){throw At.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Oo(D,T){return No.apply(this,arguments)}function No(){return(No=(0,ue.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield du(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Gr(D,T){return ss.apply(this,arguments)}function ss(){return(ss=(0,ue.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ws)})).apply(this,arguments)}function ws(){return(ws=(0,ue.Z)(function*(D,T){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield Gr(D,null==T?void 0:T.vapidKey),yield Oo(D,null==T?void 0:T.serviceWorkerRegistration),C(D)})).apply(this,arguments)}function os(D,T,k){return ko.apply(this,arguments)}function ko(){return(ko=(0,ue.Z)(function*(D,T,k){const H=Ec(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[Ks],message_name:k[Zs],message_time:k[Ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ec(D){switch(D){case qi.NOTIFICATION_CLICKED:return"notification_open";case qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wc(){return(wc=(0,ue.Z)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===qi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(qe(k)):D.onMessageHandler.next(qe(k)));const H=k.data;ho(H)&&"1"===H[Qs]&&(yield os(D,k.messageType,H))})).apply(this,arguments)}const po="@firebase/messaging",na=D=>{const T=new cu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Na(D,T){return wc.apply(this,arguments)}(T,k)),T},Pa=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function ta(D,T){return ws.apply(this,arguments)}(T,H)}};function _l(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,ue.Z)(function*(){try{yield(0,K.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fu(){(0,me.Xd)(new we.wA("messaging",na,"PUBLIC")),(0,me.Xd)(new we.wA("messaging-internal",Pa,"PRIVATE")),(0,me.KN)(po,"0.9.17"),(0,me.KN)(po,"0.9.17","esm2017")}();const as="analytics",or="firebase_id",bc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fa="https://www.googletagmanager.com/gtag/js",ti=new Ne.Yd("@firebase/analytics");function Hr(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function La(D,T){const k=document.createElement("script");k.src=`${Fa}?l=${D}&id=${T}`,k.async=!0,document.head.appendChild(k)}function ia(D,T,k,H,le,be){return Is.apply(this,arguments)}function Is(){return(Is=(0,ue.Z)(function*(D,T,k,H,le,be){const Ze=H[le];try{if(Ze)yield T[Ze];else{const Vt=(yield Hr(k)).find(Qt=>Qt.measurementId===le);Vt&&(yield T[Vt.appId])}}catch(ut){ti.error(ut)}D("config",le,be)})).apply(this,arguments)}function Fo(D,T,k,H,le){return El.apply(this,arguments)}function El(){return(El=(0,ue.Z)(function*(D,T,k,H,le){try{let be=[];if(le&&le.send_to){let Ze=le.send_to;Array.isArray(Ze)||(Ze=[Ze]);const ut=yield Hr(k);for(const Vt of Ze){const Qt=ut.find($t=>$t.measurementId===Vt),tn=Qt&&T[Qt.appId];if(!tn){be=[];break}be.push(tn)}}0===be.length&&(be=Object.values(T)),yield Promise.all(be),D("event",H,le||{})}catch(be){ti.error(be)}})).apply(this,arguments)}function Cc(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Fa))return T;return null}const zr=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wl=new class go{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Kp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function mu(D){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,ue.Z)(function*(D){var T;const{appId:k,apiKey:H}=D,le={method:"GET",headers:Kp(H)},be=bc.replace("{app-id}",k),Ze=yield fetch(be,le);if(200!==Ze.status&&304!==Ze.status){let ut="";try{const Vt=yield Ze.json();(null===(T=Vt.error)||void 0===T?void 0:T.message)&&(ut=Vt.error.message)}catch(Vt){}throw zr.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:ut})}return Ze.json()})).apply(this,arguments)}function yu(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,ue.Z)(function*(D,T=wl,k){const{appId:H,apiKey:le,measurementId:be}=D.options;if(!H)throw zr.create("no-app-id");if(!le){if(be)return{measurementId:be,appId:H};throw zr.create("no-api-key")}const Ze=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ut=new to;return setTimeout((0,ue.Z)(function*(){ut.abort()}),void 0!==k?k:6e4),Il({appId:H,apiKey:le,measurementId:be},Ze,ut,T)})).apply(this,arguments)}function Il(D,T,k){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,ue.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},H,le=wl){var be,Ze;const{appId:ut,measurementId:Vt}=D;try{yield aa(H,T)}catch(Qt){if(Vt)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null===(be=Qt)||void 0===be?void 0:be.message}]`),{appId:ut,measurementId:Vt};throw Qt}try{const Qt=yield mu(D);return le.deleteThrottleMetadata(ut),Qt}catch(Qt){const tn=Qt;if(!Ih(tn)){if(le.deleteThrottleMetadata(ut),Vt)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null==tn?void 0:tn.message}]`),{appId:ut,measurementId:Vt};throw Qt}const $t=503===Number(null===(Ze=null==tn?void 0:tn.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,K.$s)(k,le.intervalMillis,30):(0,K.$s)(k,le.intervalMillis),Wr={throttleEndTimeMillis:Date.now()+$t,backoffCount:k+1};return le.setThrottleMetadata(ut,Wr),ti.debug(`Calling attemptFetch again in ${$t} millis`),Il(D,Wr,H,le)}})).apply(this,arguments)}function aa(D,T){return new Promise((k,H)=>{const le=Math.max(T-Date.now(),0),be=setTimeout(k,le);D.addEventListener(()=>{clearTimeout(be),H(zr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Ih(D){if(!(D instanceof K.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class to{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Bi,U;function Tc(){return(Tc=(0,ue.Z)(function*(D,T,k,H,le){if(le&&le.global)D("event",k,H);else{const be=yield T;D("event",k,Object.assign(Object.assign({},H),{send_to:be}))}})).apply(this,arguments)}function z(D){U=D}function J(D){Bi=D}function Ae(){return yt.apply(this,arguments)}function yt(){return(yt=(0,ue.Z)(function*(){var D;if(!(0,K.hl)())return ti.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(T){return ti.warn(zr.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function St(){return(St=(0,ue.Z)(function*(D,T,k,H,le,be,Ze){var ut;const Vt=yu(D);Vt.then(di=>{k[di.measurementId]=di.appId,D.options.measurementId&&di.measurementId!==D.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(di=>ti.error(di)),T.push(Vt);const Qt=Ae().then(di=>{if(di)return H.getId()}),[tn,$t]=yield Promise.all([Vt,Qt]);Cc()||La(be,tn.measurementId),U&&(le("consent","default",U),z(void 0)),le("js",new Date);const Wr=null!==(ut=null==Ze?void 0:Ze.config)&&void 0!==ut?ut:{};return Wr.origin="firebase",Wr.update=!0,null!=$t&&(Wr[or]=$t),le("config",tn.measurementId,Wr),Bi&&(le("set",Bi),J(void 0)),tn.measurementId})).apply(this,arguments)}class Kn{constructor(T){this.app=T}_delete(){return delete pn[this.app.options.appId],Promise.resolve()}}let pn={},Qi=[];const Bs={};let us,qr,Mn="dataLayer",Ji=!1;function ua(D,T,k){!function vu(){const D=[];if((0,K.ru)()&&D.push("This is a browser extension environment."),(0,K.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,le)=>`(${le+1}) ${H}`).join(" "),k=zr.create("invalid-analytics-context",{errorInfo:T});ti.warn(k.message)}}();const H=D.options.appId;if(!H)throw zr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw zr.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pn[H])throw zr.create("already-exists",{id:H});if(!Ji){!function Vs(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Mn);const{wrappedGtag:be,gtagCore:Ze}=function eo(D,T,k,H,le){let be=function(...Ze){window[H].push(arguments)};return window[le]&&"function"==typeof window[le]&&(be=window[le]),window[le]=function Us(D,T,k,H){function be(){return(be=(0,ue.Z)(function*(Ze,ut,Vt){try{"event"===Ze?yield Fo(D,T,k,ut,Vt):"config"===Ze?yield ia(D,T,k,H,ut,Vt):"consent"===Ze?D("consent","update",Vt):D("set",ut)}catch(Qt){ti.error(Qt)}})).apply(this,arguments)}return function le(Ze,ut,Vt){return be.apply(this,arguments)}}(be,D,T,k),{gtagCore:be,wrappedGtag:window[le]}}(pn,Qi,Bs,Mn,"gtag");qr=be,us=Ze,Ji=!0}return pn[H]=function Xt(D,T,k,H,le,be,Ze){return St.apply(this,arguments)}(D,Qi,Bs,T,us,Mn,k),new Kn(D)}function Dl(){return js.apply(this,arguments)}function js(){return(js=(0,ue.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(D){return!1}})).apply(this,arguments)}const r_="@firebase/analytics";!function iw(){(0,me.Xd)(new we.wA(as,(T,{options:k})=>ua(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,me.Xd)(new we.wA("analytics-internal",function D(T){try{const k=T.getProvider(as).getImmediate();return{logEvent:(H,le,be)=>function rw(D,T,k,H){D=(0,K.m9)(D),function Lo(D,T,k,H,le){return Tc.apply(this,arguments)}(qr,pn[D.app.options.appId],T,k,H).catch(le=>ti.error(le))}(k,H,le,be)}}catch(k){throw zr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,me.KN)(r_,"0.8.1"),(0,me.KN)(r_,"0.8.1","esm2017")}();var bl=G(727);class s_ extends bl.w0{constructor(T,k){super()}schedule(T,k=0){return this}}const Dr={setInterval(...D){const{delegate:T}=Dr;return((null==T?void 0:T.setInterval)||setInterval)(...D)},clearInterval(D){const{delegate:T}=Dr;return((null==T?void 0:T.clearInterval)||clearInterval)(D)},delegate:void 0};var Sc=G(8737);class Ga extends s_{constructor(T,k){super(T,k),this.scheduler=T,this.work=k,this.pending=!1}schedule(T,k=0){if(this.closed)return this;this.state=T;const H=this.id,le=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(le,H,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(le,this.id,k),this}requestAsyncId(T,k,H=0){return Dr.setInterval(T.flush.bind(T,this),H)}recycleAsyncId(T,k,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return k;Dr.clearInterval(k)}execute(T,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(T,k);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,k){let le,H=!1;try{this.work(T)}catch(be){H=!0,le=be||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:T,scheduler:k}=this,{actions:H}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sc.P)(H,this),null!=T&&(this.id=this.recycleAsyncId(k,T,null)),this.delay=null,super.unsubscribe()}}}const Ch={now:()=>(Ch.delegate||Date).now(),delegate:void 0};class ci{constructor(T,k=ci.now){this.schedulerActionCtor=T,this.now=k}schedule(T,k=0,H){return new this.schedulerActionCtor(this,T).schedule(H,k)}}ci.now=Ch.now;class bs extends ci{constructor(T,k=ci.now){super(T,k),this.actions=[],this._active=!1,this._scheduled=void 0}flush(T){const{actions:k}=this;if(this._active)return void k.push(T);let H;this._active=!0;do{if(H=T.execute(T.state,T.delay))break}while(T=k.shift());if(this._active=!1,H){for(;T=k.shift();)T.unsubscribe();throw H}}}const Cl=new class Th extends bs{}(class bh extends Ga{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,k,H):T.flush(this)}}),Ah=new bs(Ga);var Sh=G(8306),xh=G(8505),Jp=G(9468),xc=G(5363);const ls=new v.GfV("7.4.1"),Iu="__angularfire_symbol__analyticsIsSupportedValue",Vo="__angularfire_symbol__analyticsIsSupported",Mc="__angularfire_symbol__remoteConfigIsSupportedValue",Tl="__angularfire_symbol__remoteConfigIsSupported",Mh="__angularfire_symbol__messagingIsSupportedValue",Rc="__angularfire_symbol__messagingIsSupported";function bu(D,T,k){if(T){if(1===T.length)return T[0];const be=T.filter(Ze=>Ze.app===k);if(1===be.length)return be[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Vo]||(globalThis[Vo]=Dl().then(D=>globalThis[Iu]=D).catch(()=>globalThis[Iu]=!1)),globalThis[Rc]||(globalThis[Rc]=_l().then(D=>globalThis[Mh]=D).catch(()=>globalThis[Mh]=!1)),globalThis[Tl]||(globalThis[Tl]=lo().then(D=>globalThis[Mc]=D).catch(()=>globalThis[Mc]=!1));const Oc=(D,T)=>{const k=T?[T]:(0,N.C6)(),H=[];return k.forEach(le=>{le.container.getProvider(D).instances.forEach(Ze=>{H.includes(Ze)||H.push(Ze)})}),H};function ca(){}class Uo{constructor(T,k=Cl){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,H){const le=this.zone;return this.delegate.schedule(function(Ze){le.runGuarded(()=>{T.apply(this,[Ze])})},k,H)}}class Cu{constructor(T){this.zone=T,this.task=null}call(T,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),k.pipe((0,xh.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nc=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Uo(Zone.current)),this.insideAngular=k.run(()=>new Uo(Zone.current,Ah)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(v.LFG(v.R0b))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function mo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function u_(D){return mo().ngZone.runOutsideAngular(()=>D())}function cs(D){return mo().ngZone.run(()=>D())}function Tu(D){return mo(),function Oh(D){return function(k){return(k=k.lift(new Cu(D.ngZone))).pipe((0,Jp.R)(D.outsideAngular),(0,xc.Q)(D.insideAngular))}}(mo())(D)}const Pc=(D,T)=>{const k=void 0;return function(){const H=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),cs(()=>D.apply(k,H))}},wi=(D,T)=>function(){let k;const H=arguments;for(let be=0;be<arguments.length;be++)"function"==typeof H[be]&&(T&&(k||(k=cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),H[be]=Pc(H[be],k));const le=u_(()=>D.apply(this,H));if(!T){if(le instanceof Sh.y){const be=mo();return le.pipe((0,Jp.R)(be.outsideAngular),(0,xc.Q)(be.insideAngular))}return cs(()=>le)}return le instanceof Sh.y?le.pipe(Tu):le instanceof Promise?cs(()=>new Promise((be,Ze)=>le.then(ut=>cs(()=>be(ut)),ut=>cs(()=>Ze(ut))))):"function"==typeof le&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),le.apply(this,arguments)}:cs(()=>le)}},2090:(bt,Me,G)=>{"use strict";G.d(Me,{BH:()=>Gn,LL:()=>yn,ZR:()=>Ln,zI:()=>fe,US:()=>we,tV:()=>Fe,L:()=>Ke,$s:()=>Te,Sg:()=>pt,ne:()=>oe,vZ:()=>fr,aH:()=>Tt,q4:()=>ge,Pz:()=>Ut,m9:()=>Bt,z$:()=>it,ru:()=>Qe,hl:()=>$e,uI:()=>Be,b$:()=>at,xO:()=>dn,eu:()=>Nt});const me=function(q){const Y=[];let ae=0;for(let Pe=0;Pe<q.length;Pe++){let _e=q.charCodeAt(Pe);_e<128?Y[ae++]=_e:_e<2048?(Y[ae++]=_e>>6|192,Y[ae++]=63&_e|128):55296==(64512&_e)&&Pe+1<q.length&&56320==(64512&q.charCodeAt(Pe+1))?(_e=65536+((1023&_e)<<10)+(1023&q.charCodeAt(++Pe)),Y[ae++]=_e>>18|240,Y[ae++]=_e>>12&63|128,Y[ae++]=_e>>6&63|128,Y[ae++]=63&_e|128):(Y[ae++]=_e>>12|224,Y[ae++]=_e>>6&63|128,Y[ae++]=63&_e|128)}return Y},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,Y){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let _e=0;_e<q.length;_e+=3){const _t=q[_e],Mt=_e+1<q.length,En=Mt?q[_e+1]:0,Xn=_e+2<q.length,fn=Xn?q[_e+2]:0;let $n=(15&En)<<2|fn>>6,sr=63&fn;Xn||(sr=64,Mt||($n=64)),Pe.push(ae[_t>>2],ae[(3&_t)<<4|En>>4],ae[$n],ae[sr])}return Pe.join("")},encodeString(q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(q):this.encodeByteArray(me(q),Y)},decodeString(q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(q):function(q){const Y=[];let ae=0,Pe=0;for(;ae<q.length;){const _e=q[ae++];if(_e<128)Y[Pe++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const _t=q[ae++];Y[Pe++]=String.fromCharCode((31&_e)<<6|63&_t)}else if(_e>239&&_e<365){const Xn=((7&_e)<<18|(63&q[ae++])<<12|(63&q[ae++])<<6|63&q[ae++])-65536;Y[Pe++]=String.fromCharCode(55296+(Xn>>10)),Y[Pe++]=String.fromCharCode(56320+(1023&Xn))}else{const _t=q[ae++],Mt=q[ae++];Y[Pe++]=String.fromCharCode((15&_e)<<12|(63&_t)<<6|63&Mt)}}return Y.join("")}(this.decodeStringToByteArray(q,Y))},decodeStringToByteArray(q,Y){this.init_();const ae=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let _e=0;_e<q.length;){const _t=ae[q.charAt(_e++)],En=_e<q.length?ae[q.charAt(_e)]:0;++_e;const fn=_e<q.length?ae[q.charAt(_e)]:64;++_e;const Zt=_e<q.length?ae[q.charAt(_e)]:64;if(++_e,null==_t||null==En||null==fn||null==Zt)throw Error();Pe.push(_t<<2|En>>4),64!==fn&&(Pe.push(En<<4&240|fn>>2),64!==Zt&&Pe.push(fn<<6&192|Zt))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Ke=function(q){return function(q){const Y=me(q);return we.encodeByteArray(Y,!0)}(q).replace(/\./g,"")},Fe=function(q){try{return we.decodeString(q,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function it(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Qe(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){return"object"==typeof indexedDB}function Nt(){return new Promise((q,Y)=>{try{let ae=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(Pe);_e.onsuccess=()=>{_e.result.close(),ae||self.indexedDB.deleteDatabase(Pe),q(!0)},_e.onupgradeneeded=()=>{ae=!1},_e.onerror=()=>{var _t;Y((null===(_t=_e.error)||void 0===_t?void 0:_t.message)||"")}}catch(ae){Y(ae)}})}function fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const He=()=>function Z(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const q=process.env.__FIREBASE_DEFAULTS__,Y=process.env.__FIREBASE_DEFAULTS_PATH__;if(q)return Y&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(q);if(Y)try{return G(9163)(Y)}catch(ae){console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${Y}`)}})()||(()=>{if("undefined"==typeof document)return;const q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),Y=q&&Fe(q[1]);return Y&&JSON.parse(Y)})(),ge=q=>{var Y,ae;return null===(ae=null===(Y=He())||void 0===Y?void 0:Y.emulatorHosts)||void 0===ae?void 0:ae[q]},Tt=()=>{var q;return null===(q=He())||void 0===q?void 0:q.config},Ut=q=>{var Y;return null===(Y=He())||void 0===Y?void 0:Y[`_${q}`]};class Gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ae)=>{this.resolve=Y,this.reject=ae})}wrapCallback(Y){return(ae,Pe)=>{ae?this.reject(ae):this.resolve(Pe),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ae):Y(ae,Pe))}}}function pt(q,Y){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=Y||"demo-project",_e=q.iat||0,_t=q.sub||q.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:_e,exp:_e+3600,auth_time:_e,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Mt)),""].join(".")}class Ln extends Error{constructor(Y,ae,Pe){super(ae),this.code=Y,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(Y,ae,Pe){this.service=Y,this.serviceName=ae,this.errors=Pe}create(Y,...ae){const Pe=ae[0]||{},_e=`${this.service}/${Y}`,_t=this.errors[Y],Mt=_t?function rr(q,Y){return q.replace(ir,(ae,Pe)=>{const _e=Y[Pe];return null!=_e?String(_e):`<${Pe}?>`})}(_t,Pe):"Error";return new Ln(_e,`${this.serviceName}: ${Mt} (${_e}).`,Pe)}}const ir=/\{\$([^}]+)}/g;function fr(q,Y){if(q===Y)return!0;const ae=Object.keys(q),Pe=Object.keys(Y);for(const _e of ae){if(!Pe.includes(_e))return!1;const _t=q[_e],Mt=Y[_e];if(gr(_t)&&gr(Mt)){if(!fr(_t,Mt))return!1}else if(_t!==Mt)return!1}for(const _e of Pe)if(!ae.includes(_e))return!1;return!0}function gr(q){return null!==q&&"object"==typeof q}function dn(q){const Y=[];for(const[ae,Pe]of Object.entries(q))Array.isArray(Pe)?Pe.forEach(_e=>{Y.push(encodeURIComponent(ae)+"="+encodeURIComponent(_e))}):Y.push(encodeURIComponent(ae)+"="+encodeURIComponent(Pe));return Y.length?"&"+Y.join("&"):""}function oe(q,Y){const ae=new ze(q,Y);return ae.subscribe.bind(ae)}class ze{constructor(Y,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{Y(this)}).catch(Pe=>{this.error(Pe)})}next(Y){this.forEachObserver(ae=>{ae.next(Y)})}error(Y){this.forEachObserver(ae=>{ae.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ae,Pe){let _e;if(void 0===Y&&void 0===ae&&void 0===Pe)throw new Error("Missing Observer.");_e=function st(q,Y){if("object"!=typeof q||null===q)return!1;for(const ae of Y)if(ae in q&&"function"==typeof q[ae])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ae,complete:Pe},void 0===_e.next&&(_e.next=nt),void 0===_e.error&&(_e.error=nt),void 0===_e.complete&&(_e.complete=nt);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch(Mt){}}),this.observers.push(_e),_t}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,Y)}sendOne(Y,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ae(this.observers[Y])}catch(Pe){"undefined"!=typeof console&&console.error&&console.error(Pe)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nt(){}function Te(q,Y=1e3,ae=2){const Pe=Y*Math.pow(ae,q),_e=Math.round(.5*Pe*(Math.random()-.5)*2);return Math.min(144e5,Pe+_e)}function Bt(q){return q&&q._delegate?q._delegate:q}},5830:(bt,Me,G)=>{"use strict";G.d(Me,{s:()=>ue});var v=G(1223),N=G(520);let ue=(()=>{class me{constructor(we){this.https=we}traerDatosGitHub(){return this.https.get("https://api.github.com/users/nahuelcisa")}traerPaises(){return this.https.get("https://restcountries.com/v2/alpha?codes=ng,za,esp,fr")}}return me.\u0275fac=function(we){return new(we||me)(v.LFG(N.eN))},me.\u0275prov=v.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},3636:(bt,Me,G)=>{"use strict";var v=G(9808),N=G(1223);class ue extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends ue{static makeCurrent(){(0,v.HT)(new me)}onAndCancel(Q,V,se){return Q.addEventListener(V,se,!1),()=>{Q.removeEventListener(V,se,!1)}}dispatchEvent(Q,V){Q.dispatchEvent(V)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,V){return(V=V||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,V){return"window"===V?window:"document"===V?Q:"body"===V?Q.body:null}getBaseHref(Q){const V=function we(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==V?null:function Ke(ie){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ie);const Q=Ne.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(V)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,v.Mx)(document.cookie,Q)}}let Ne,K=null;const Fe=new N.OlP("TRANSITION_ID"),te=[{provide:N.ip1,useFactory:function X(ie,Q,V){return()=>{V.get(N.CZH).donePromise.then(()=>{const se=(0,v.q)(),Ie=Q.querySelectorAll(`style[ng-transition="${ie}"]`);for(let ct=0;ct<Ie.length;ct++)se.remove(Ie[ct])})}},deps:[Fe,v.K0,N.zs3],multi:!0}];class Ue{static init(){(0,N.VLi)(new Ue)}addToWindow(Q){N.dqk.getAngularTestability=(se,Ie=!0)=>{const ct=Q.findTestabilityInTree(se,Ie);if(null==ct)throw new Error("Could not find testability for element.");return ct},N.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),N.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),N.dqk.frameworkStabilizers||(N.dqk.frameworkStabilizers=[]),N.dqk.frameworkStabilizers.push(se=>{const Ie=N.dqk.getAllAngularTestabilities();let ct=Ie.length,Yt=!1;const cn=function(xn){Yt=Yt||xn,ct--,0==ct&&se(Yt)};Ie.forEach(function(xn){xn.whenStable(cn)})})}findTestabilityInTree(Q,V,se){if(null==V)return null;const Ie=Q.getTestability(V);return null!=Ie?Ie:se?(0,v.q)().isShadowRoot(V)?this.findTestabilityInTree(Q,V.host,!0):this.findTestabilityInTree(Q,V.parentElement,!0):null}}let it=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Be=new N.OlP("EventManagerPlugins");let Ye=(()=>{class ie{constructor(V,se){this._zone=se,this._eventNameToPlugin=new Map,V.forEach(Ie=>Ie.manager=this),this._plugins=V.slice().reverse()}addEventListener(V,se,Ie){return this._findPluginFor(se).addEventListener(V,se,Ie)}addGlobalEventListener(V,se,Ie){return this._findPluginFor(se).addGlobalEventListener(V,se,Ie)}getZone(){return this._zone}_findPluginFor(V){const se=this._eventNameToPlugin.get(V);if(se)return se;const Ie=this._plugins;for(let ct=0;ct<Ie.length;ct++){const Yt=Ie[ct];if(Yt.supports(V))return this._eventNameToPlugin.set(V,Yt),Yt}throw new Error(`No event manager plugin found for event ${V}`)}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(Be),N.LFG(N.R0b))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class It{constructor(Q){this._doc=Q}addGlobalEventListener(Q,V,se){const Ie=(0,v.q)().getGlobalEventTarget(this._doc,Q);if(!Ie)throw new Error(`Unsupported event target ${Ie} for event ${V}`);return this.addEventListener(Ie,V,se)}}let Qe=(()=>{class ie{constructor(){this._stylesSet=new Set}addStyles(V){const se=new Set;V.forEach(Ie=>{this._stylesSet.has(Ie)||(this._stylesSet.add(Ie),se.add(Ie))}),this.onStylesAdded(se)}onStylesAdded(V){}getAllStyles(){return Array.from(this._stylesSet)}}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),at=(()=>{class ie extends Qe{constructor(V){super(),this._doc=V,this._hostNodes=new Map,this._hostNodes.set(V.head,[])}_addStylesToHost(V,se,Ie){V.forEach(ct=>{const Yt=this._doc.createElement("style");Yt.textContent=ct,Ie.push(se.appendChild(Yt))})}addHost(V){const se=[];this._addStylesToHost(this._stylesSet,V,se),this._hostNodes.set(V,se)}removeHost(V){const se=this._hostNodes.get(V);se&&se.forEach(dt),this._hostNodes.delete(V)}onStylesAdded(V){this._hostNodes.forEach((se,Ie)=>{this._addStylesToHost(V,Ie,se)})}ngOnDestroy(){this._hostNodes.forEach(V=>V.forEach(dt))}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(v.K0))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function dt(ie){(0,v.q)().remove(ie)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xe=/%COMP%/g;function pe(ie,Q,V){for(let se=0;se<Q.length;se++){let Ie=Q[se];Array.isArray(Ie)?pe(ie,Ie,V):(Ie=Ie.replace(xe,ie),V.push(Ie))}return V}function De(ie){return Q=>{if("__ngUnwrap__"===Q)return ie;!1===ie(Q)&&(Q.preventDefault(),Q.returnValue=!1)}}let He=(()=>{class ie{constructor(V,se,Ie){this.eventManager=V,this.sharedStylesHost=se,this.appId=Ie,this.rendererByCompId=new Map,this.defaultRenderer=new ge(V)}createRenderer(V,se){if(!V||!se)return this.defaultRenderer;switch(se.encapsulation){case N.ifc.Emulated:{let Ie=this.rendererByCompId.get(se.id);return Ie||(Ie=new Gn(this.eventManager,this.sharedStylesHost,se,this.appId),this.rendererByCompId.set(se.id,Ie)),Ie.applyToHost(V),Ie}case 1:case N.ifc.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,V,se);default:if(!this.rendererByCompId.has(se.id)){const Ie=pe(se.id,se.styles,[]);this.sharedStylesHost.addStyles(Ie),this.rendererByCompId.set(se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(Ye),N.LFG(at),N.LFG(N.AFp))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class ge{constructor(Q){this.eventManager=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,V){return V?document.createElementNS(Ct[V]||V,Q):document.createElement(Q)}createComment(Q){return document.createComment(Q)}createText(Q){return document.createTextNode(Q)}appendChild(Q,V){Q.appendChild(V)}insertBefore(Q,V,se){Q&&Q.insertBefore(V,se)}removeChild(Q,V){Q&&Q.removeChild(V)}selectRootElement(Q,V){let se="string"==typeof Q?document.querySelector(Q):Q;if(!se)throw new Error(`The selector "${Q}" did not match any elements`);return V||(se.textContent=""),se}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,V,se,Ie){if(Ie){V=Ie+":"+V;const ct=Ct[Ie];ct?Q.setAttributeNS(ct,V,se):Q.setAttribute(V,se)}else Q.setAttribute(V,se)}removeAttribute(Q,V,se){if(se){const Ie=Ct[se];Ie?Q.removeAttributeNS(Ie,V):Q.removeAttribute(`${se}:${V}`)}else Q.removeAttribute(V)}addClass(Q,V){Q.classList.add(V)}removeClass(Q,V){Q.classList.remove(V)}setStyle(Q,V,se,Ie){Ie&(N.JOm.DashCase|N.JOm.Important)?Q.style.setProperty(V,se,Ie&N.JOm.Important?"important":""):Q.style[V]=se}removeStyle(Q,V,se){se&N.JOm.DashCase?Q.style.removeProperty(V):Q.style[V]=""}setProperty(Q,V,se){Q[V]=se}setValue(Q,V){Q.nodeValue=V}listen(Q,V,se){return"string"==typeof Q?this.eventManager.addGlobalEventListener(Q,V,De(se)):this.eventManager.addEventListener(Q,V,De(se))}}class Gn extends ge{constructor(Q,V,se,Ie){super(Q),this.component=se;const ct=pe(Ie+"-"+se.id,se.styles,[]);V.addStyles(ct),this.contentAttr=function fe(ie){return"_ngcontent-%COMP%".replace(xe,ie)}(Ie+"-"+se.id),this.hostAttr=function Z(ie){return"_nghost-%COMP%".replace(xe,ie)}(Ie+"-"+se.id)}applyToHost(Q){super.setAttribute(Q,this.hostAttr,"")}createElement(Q,V){const se=super.createElement(Q,V);return super.setAttribute(se,this.contentAttr,""),se}}class pt extends ge{constructor(Q,V,se,Ie){super(Q),this.sharedStylesHost=V,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ct=pe(Ie.id,Ie.styles,[]);for(let Yt=0;Yt<ct.length;Yt++){const cn=document.createElement("style");cn.textContent=ct[Yt],this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Q,V){return super.appendChild(this.nodeOrShadowRoot(Q),V)}insertBefore(Q,V,se){return super.insertBefore(this.nodeOrShadowRoot(Q),V,se)}removeChild(Q,V){return super.removeChild(this.nodeOrShadowRoot(Q),V)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}}let nr=(()=>{class ie extends It{constructor(V){super(V)}supports(V){return!0}addEventListener(V,se,Ie){return V.addEventListener(se,Ie,!1),()=>this.removeEventListener(V,se,Ie)}removeEventListener(V,se,Ie){return V.removeEventListener(se,Ie)}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(v.K0))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Ln=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vr={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let sn=(()=>{class ie extends It{constructor(V){super(V)}supports(V){return null!=ie.parseEventName(V)}addEventListener(V,se,Ie){const ct=ie.parseEventName(se),Yt=ie.eventCallback(ct.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(V,ct.domEventName,Yt))}static parseEventName(V){const se=V.toLowerCase().split("."),Ie=se.shift();if(0===se.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const ct=ie._normalizeKey(se.pop());let Yt="";if(Ln.forEach(xn=>{const wn=se.indexOf(xn);wn>-1&&(se.splice(wn,1),Yt+=xn+".")}),Yt+=ct,0!=se.length||0===ct.length)return null;const cn={};return cn.domEventName=Ie,cn.fullKey=Yt,cn}static getEventFullKey(V){let se="",Ie=function Tn(ie){let Q=ie.key;if(null==Q){if(Q=ie.keyIdentifier,null==Q)return"Unidentified";Q.startsWith("U+")&&(Q=String.fromCharCode(parseInt(Q.substring(2),16)),3===ie.location&&ir.hasOwnProperty(Q)&&(Q=ir[Q]))}return rr[Q]||Q}(V);return Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),Ln.forEach(ct=>{ct!=Ie&&vr[ct](V)&&(se+=ct+".")}),se+=Ie,se}static eventCallback(V,se,Ie){return ct=>{ie.getEventFullKey(ct)===V&&Ie.runGuarded(()=>se(ct))}}static _normalizeKey(V){return"esc"===V?"escape":V}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(v.K0))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Lr=(0,N.eFA)(N._c5,"browser",[{provide:N.Lbi,useValue:v.bD},{provide:N.g9A,useValue:function on(){me.makeCurrent(),Ue.init()},multi:!0},{provide:v.K0,useFactory:function On(){return(0,N.RDi)(document),document},deps:[]}]),Ht=[{provide:N.zSh,useValue:"root"},{provide:N.qLn,useFactory:function kt(){return new N.qLn},deps:[]},{provide:Be,useClass:nr,multi:!0,deps:[v.K0,N.R0b,N.Lbi]},{provide:Be,useClass:sn,multi:!0,deps:[v.K0]},{provide:He,useClass:He,deps:[Ye,at,N.AFp]},{provide:N.FYo,useExisting:He},{provide:Qe,useExisting:at},{provide:at,useClass:at,deps:[v.K0]},{provide:N.dDg,useClass:N.dDg,deps:[N.R0b]},{provide:Ye,useClass:Ye,deps:[Be,N.R0b]},{provide:v.JF,useClass:it,deps:[]}];let An=(()=>{class ie{constructor(V){if(V)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(V){return{ngModule:ie,providers:[{provide:N.AFp,useValue:V.appId},{provide:Fe,useExisting:N.AFp},te]}}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(ie,12))},ie.\u0275mod=N.oAB({type:ie}),ie.\u0275inj=N.cJS({providers:Ht,imports:[v.ez,N.hGG]}),ie})();"undefined"!=typeof window&&window;var Mt=G(1022),En=G(5830);let Xn=(()=>{class ie{constructor(V){this.api=V,this.datoGit="",this.cargarDatosGit()}ngOnInit(){}cargarDatosGit(){this.api.traerDatosGitHub().subscribe(V=>{this.datoGit=V})}}return ie.\u0275fac=function(V){return new(V||ie)(N.Y36(En.s))},ie.\u0275cmp=N.Xpm({type:ie,selectors:[["app-bienvenida"]],decls:22,vars:5,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],["width","300px","height","300px",2,"border-radius","3px","margin-bottom","5px",3,"src"],[2,"margin-top","10px","font-size","large"],[2,"text-decoration","none","color","black",3,"href"],[1,"row"],[1,"col-md-4"]],template:function(V,se){1&V&&(N.TgZ(0,"main",0),N.TgZ(1,"div",1),N.TgZ(2,"div",2),N.TgZ(3,"h1",3),N._uU(4,"Bienvenido"),N.qZA(),N._UZ(5,"br"),N.TgZ(6,"h4"),N._uU(7),N.qZA(),N._UZ(8,"br"),N._UZ(9,"img",4),N.TgZ(10,"p",5),N._uU(11),N.qZA(),N._UZ(12,"br"),N.TgZ(13,"a",6),N._uU(14),N.qZA(),N.qZA(),N.qZA(),N.TgZ(15,"div",2),N.TgZ(16,"div",7),N._UZ(17,"div",8),N.TgZ(18,"div",8),N._UZ(19,"h2"),N.qZA(),N._UZ(20,"div",8),N.qZA(),N._UZ(21,"hr"),N.qZA(),N.qZA()),2&V&&(N.xp6(7),N.Oqu(se.datoGit.name),N.xp6(2),N.s9C("src",se.datoGit.avatar_url,N.LSH),N.xp6(2),N.Oqu(se.datoGit.bio),N.xp6(2),N.s9C("href",se.datoGit.html_url,N.LSH),N.xp6(1),N.Oqu(se.datoGit.html_url))},styles:[""]}),ie})();var fn=G(2382);class Ft{constructor(Q,V){this.usuario=Q,this.clave=V}}let Zt=(()=>{class ie{constructor(){this.logeado=!1,this.administrador=!1,this.empleado={usuario:"empleado",clave:"empleado123"},this.admin={usuario:"admin",clave:"admin123"}}logearse(V){V.usuario==this.empleado.usuario&&V.clave==this.empleado.clave?this.logeado=!0:V.usuario==this.admin.usuario&&V.clave==this.admin.clave&&(this.logeado=!0,this.administrador=!0)}}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function $n(ie,Q){1&ie&&(N.TgZ(0,"small",18),N._uU(1,"El usuario es requerido"),N.qZA())}function sr(ie,Q){1&ie&&(N.TgZ(0,"small",18),N._uU(1,"La clave es requerida"),N.qZA())}const Oi=[{path:"",pathMatch:"full",redirectTo:"bienvenido"},{path:"bienvenida",component:Xn},{path:"login",component:(()=>{class ie{constructor(V,se,Ie){this.fb=V,this.router=se,this.user=Ie,this.empleado={usuario:"empleado",clave:"empleado123"},this.admin={usuario:"admin",clave:"admin123"},this.usuario="",this.clave=""}ngOnInit(){this.grupoControles=this.fb.group({usuario:["",fn.kI.required],clave:["",fn.kI.required]})}verificar(){var V,se;let Ie=new Ft(null===(V=this.grupoControles.get("usuario"))||void 0===V?void 0:V.value,null===(se=this.grupoControles.get("clave"))||void 0===se?void 0:se.value);this.user.logearse(Ie),this.user.logeado&&this.router.navigateByUrl("repartidor/altaRepartidor")}empleadoLogin(){this.usuario=this.empleado.usuario,this.clave=this.empleado.clave}adminLogin(){this.usuario=this.admin.usuario,this.clave=this.admin.clave}}return ie.\u0275fac=function(V){return new(V||ie)(N.Y36(fn.qu),N.Y36(Mt.F0),N.Y36(Zt))},ie.\u0275cmp=N.Xpm({type:ie,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"container"],[1,"mt-5","row"],[1,"col-md-4","order-md-2","mb-4"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","formControlName","usuario","placeholder","Ingrese el usuario",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],["for","lastName"],["type","password","formControlName","clave","placeholder","Ingrese la clave",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-4"],[1,"text-right"],[1,"mb-5","mr-2","btn","btn-dark",3,"click"],[1,"mb-5","ml-2","btn","btn-dark",3,"click"],["type","submit",1,"mb-5","btn","btn-outline-dark","btn-lg","btn-block",3,"click"],[1,"invalid"]],template:function(V,se){if(1&V&&(N.TgZ(0,"div",0),N.TgZ(1,"div",1),N._UZ(2,"div",2),N.TgZ(3,"div",3),N.TgZ(4,"h4",4),N._uU(5,"Login"),N.qZA(),N.TgZ(6,"form",5),N.TgZ(7,"div",6),N.TgZ(8,"div",7),N.TgZ(9,"label",8),N._uU(10,"Usuario"),N.qZA(),N.TgZ(11,"input",9),N.NdJ("ngModelChange",function(ct){return se.usuario=ct}),N.qZA(),N.YNc(12,$n,2,0,"small",10),N.qZA(),N.TgZ(13,"div",7),N.TgZ(14,"label",11),N._uU(15,"Clave"),N.qZA(),N.TgZ(16,"input",12),N.NdJ("ngModelChange",function(ct){return se.clave=ct}),N.qZA(),N.YNc(17,sr,2,0,"small",10),N.qZA(),N.qZA(),N._UZ(18,"hr",13),N.TgZ(19,"div",14),N.TgZ(20,"button",15),N.NdJ("click",function(){return se.empleadoLogin()}),N._uU(21,"Empleado"),N.qZA(),N.TgZ(22,"button",16),N.NdJ("click",function(){return se.adminLogin()}),N._uU(23,"Admin"),N.qZA(),N.qZA(),N.TgZ(24,"button",17),N.NdJ("click",function(){return se.verificar()}),N._uU(25,"Ingresar"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA()),2&V){let Ie,ct;N.xp6(6),N.Q6J("formGroup",se.grupoControles),N.xp6(5),N.Q6J("ngModel",se.usuario),N.xp6(1),N.Q6J("ngIf",(null==(Ie=se.grupoControles.get("usuario"))||null==Ie.errors?null:Ie.errors.required)&&(null==(Ie=se.grupoControles.get("usuario"))?null:Ie.touched)),N.xp6(4),N.Q6J("ngModel",se.clave),N.xp6(1),N.Q6J("ngIf",(null==(ct=se.grupoControles.get("clave"))||null==ct.errors?null:ct.errors.required)&&(null==(ct=se.grupoControles.get("clave"))?null:ct.touched))}},directives:[fn._Y,fn.JL,fn.sg,fn.Fj,fn.JJ,fn.u,v.O5],styles:[""]}),ie})()},{path:"repartidor",loadChildren:()=>G.e(107).then(G.bind(G,5107)).then(ie=>ie.RepartidorModule),canActivate:[(()=>{class ie{constructor(V,se){this.user=V,this.router=se}canActivate(V,se){return!!this.user.logeado}}return ie.\u0275fac=function(V){return new(V||ie)(N.LFG(Zt),N.LFG(Mt.F0))},ie.\u0275prov=N.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()]}];let oo=(()=>{class ie{}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275mod=N.oAB({type:ie}),ie.\u0275inj=N.cJS({imports:[[Mt.Bz.forRoot(Oi)],Mt.Bz]}),ie})();const Hn=function(){return["/bienvenida"]},Nn=function(){return["/login"]},Er=function(){return["/repartidor/altaRepartidor"]},er=function(){return["/repartidor/repartidorDetalle"]};let Qr=(()=>{class ie{constructor(){this.title="primerParcialLaboIV"}}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275cmp=N.Xpm({type:ie,selectors:[["app-root"]],decls:20,vars:8,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"routerLink"]],template:function(V,se){1&V&&(N.TgZ(0,"nav",0),N.TgZ(1,"button",1),N._UZ(2,"span",2),N.qZA(),N.TgZ(3,"div",3),N.TgZ(4,"ul",4),N.TgZ(5,"li",5),N.TgZ(6,"a",6),N._uU(7,"Bienvenido"),N.qZA(),N.qZA(),N.TgZ(8,"li",7),N.TgZ(9,"a",6),N._uU(10,"Login"),N.qZA(),N.qZA(),N.TgZ(11,"li",7),N.TgZ(12,"a",8),N._uU(13,"Alta repartidor"),N.qZA(),N.qZA(),N.TgZ(14,"li",7),N.TgZ(15,"a",8),N._uU(16,"Repartidores"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N._UZ(17,"br"),N._UZ(18,"br"),N._UZ(19,"router-outlet")),2&V&&(N.xp6(6),N.Q6J("routerLink",N.DdM(4,Hn)),N.xp6(3),N.Q6J("routerLink",N.DdM(5,Nn)),N.xp6(3),N.Q6J("routerLink",N.DdM(6,Er)),N.xp6(3),N.Q6J("routerLink",N.DdM(7,er)))},directives:[Mt.yS,Mt.lC],styles:[""]}),ie})();var Ni=G(520),Ur=G(3692);const ai_firebase={projectId:"primerparciallaboiv-e50f4",appId:"1:777640551394:web:d814e7ae1c7d7ec5768fbb",storageBucket:"primerparciallaboiv-e50f4.appspot.com",locationId:"us-central",apiKey:"AIzaSyCpSCNrbd4F3vit7ZVwkl_S7vpNIG-bdOk",authDomain:"primerparciallaboiv-e50f4.firebaseapp.com",messagingSenderId:"777640551394"};var wr=G(7e3);let Un=(()=>{class ie{}return ie.\u0275fac=function(V){return new(V||ie)},ie.\u0275mod=N.oAB({type:ie,bootstrap:[Qr]}),ie.\u0275inj=N.cJS({providers:[],imports:[[An,oo,Ni.JF,fn.u5,fn.UX,(0,Ur.hX)(()=>(0,Ur.ZF)(ai_firebase)),(0,wr.Cm)(()=>(0,wr.ad)())]]}),ie})();(0,N.G48)(),Lr().bootstrapModule(Un).catch(ie=>console.error(ie))},5867:(bt,Me,G)=>{"use strict";G.d(Me,{Mq:()=>v.Mq,C6:()=>v.C6,ZF:()=>v.ZF,KN:()=>v.KN});var v=G(9681);(0,v.KN)("firebase","9.11.0","app")},8306:(bt,Me,G)=>{"use strict";G.d(Me,{y:()=>X});var v=G(2961),N=G(727),ue=G(8822),me=G(4671);var Ne=G(2416),Ke=G(576),Fe=G(2806);let X=(()=>{class Be{constructor(It){It&&(this._subscribe=It)}lift(It){const Qe=new Be;return Qe.source=this,Qe.operator=It,Qe}subscribe(It,Qe,at){const dt=function it(Be){return Be&&Be instanceof v.Lv||function Ue(Be){return Be&&(0,Ke.m)(Be.next)&&(0,Ke.m)(Be.error)&&(0,Ke.m)(Be.complete)}(Be)&&(0,N.Nn)(Be)}(It)?It:new v.Hp(It,Qe,at);return(0,Fe.x)(()=>{const{operator:Ct,source:xe}=this;dt.add(Ct?Ct.call(dt,xe):xe?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(It){try{return this._subscribe(It)}catch(Qe){It.error(Qe)}}forEach(It,Qe){return new(Qe=te(Qe))((at,dt)=>{let Ct;Ct=this.subscribe(xe=>{try{It(xe)}catch(mt){dt(mt),null==Ct||Ct.unsubscribe()}},dt,at)})}_subscribe(It){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(It)}[ue.L](){return this}pipe(...It){return function we(Be){return 0===Be.length?me.y:1===Be.length?Be[0]:function(It){return Be.reduce((Qe,at)=>at(Qe),It)}}(It)(this)}toPromise(It){return new(It=te(It))((Qe,at)=>{let dt;this.subscribe(Ct=>dt=Ct,Ct=>at(Ct),()=>Qe(dt))})}}return Be.create=Ye=>new Be(Ye),Be})();function te(Be){var Ye;return null!==(Ye=null!=Be?Be:Ne.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(bt,Me,G)=>{"use strict";G.d(Me,{x:()=>Ne});var v=G(8306),N=G(727);const me=(0,G(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=G(8737),we=G(2806);let Ne=(()=>{class Fe extends v.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const Ue=new Ke(this,this);return Ue.operator=te,Ue}_throwIfClosed(){if(this.closed)throw new me}next(te){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ue=this.observers.slice();for(const it of Ue)it.next(te)}})}error(te){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().error(te)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:Ue,isStopped:it,observers:Be}=this;return Ue||it?N.Lc:(Be.push(te),new N.w0(()=>(0,K.P)(Be,te)))}_checkFinalizedStatuses(te){const{hasError:Ue,thrownError:it,isStopped:Be}=this;Ue?te.error(it):Be&&te.complete()}asObservable(){const te=new v.y;return te.source=this,te}}return Fe.create=(X,te)=>new Ke(X,te),Fe})();class Ke extends Ne{constructor(X,te){super(),this.destination=X,this.source=te}next(X){var te,Ue;null===(Ue=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===Ue||Ue.call(te,X)}error(X){var te,Ue;null===(Ue=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===Ue||Ue.call(te,X)}complete(){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===te||te.call(X)}_subscribe(X){var te,Ue;return null!==(Ue=null===(te=this.source)||void 0===te?void 0:te.subscribe(X))&&void 0!==Ue?Ue:N.Lc}}},2961:(bt,Me,G)=>{"use strict";G.d(Me,{Hp:()=>it,Lv:()=>Ue});var v=G(576),N=G(727),ue=G(2416),me=G(7849);function K(){}const we=Fe("C",void 0,void 0);function Fe(at,dt,Ct){return{kind:at,value:dt,error:Ct}}var X=G(3410),te=G(2806);class Ue extends N.w0{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,N.Nn)(dt)&&dt.add(this)):this.destination=Qe}static create(dt,Ct,xe){return new it(dt,Ct,xe)}next(dt){this.isStopped?It(function Ke(at){return Fe("N",at,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?It(function Ne(at){return Fe("E",void 0,at)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?It(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class it extends Ue{constructor(dt,Ct,xe){let mt;if(super(),(0,v.m)(dt))mt=dt;else if(dt){let rt;({next:mt,error:Ct,complete:xe}=dt),this&&ue.v.useDeprecatedNextContext?(rt=Object.create(dt),rt.unsubscribe=()=>this.unsubscribe()):rt=dt,mt=null==mt?void 0:mt.bind(rt),Ct=null==Ct?void 0:Ct.bind(rt),xe=null==xe?void 0:xe.bind(rt)}this.destination={next:mt?Be(mt):K,error:Be(null!=Ct?Ct:Ye),complete:xe?Be(xe):K}}}function Be(at,dt){return(...Ct)=>{try{at(...Ct)}catch(xe){ue.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(xe):(0,me.h)(xe)}}}function Ye(at){throw at}function It(at,dt){const{onStoppedNotification:Ct}=ue.v;Ct&&X.z.setTimeout(()=>Ct(at,dt))}const Qe={closed:!0,next:K,error:Ye,complete:K}},727:(bt,Me,G)=>{"use strict";G.d(Me,{Lc:()=>we,w0:()=>K,Nn:()=>Ne});var v=G(576);const ue=(0,G(3888).d)(Fe=>function(te){Fe(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((Ue,it)=>`${it+1}) ${Ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var me=G(8737);class K{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Be of te)Be.remove(this);else te.remove(this);const{initialTeardown:Ue}=this;if((0,v.m)(Ue))try{Ue()}catch(Be){X=Be instanceof ue?Be.errors:[Be]}const{_teardowns:it}=this;if(it){this._teardowns=null;for(const Be of it)try{Ke(Be)}catch(Ye){X=null!=X?X:[],Ye instanceof ue?X=[...X,...Ye.errors]:X.push(Ye)}}if(X)throw new ue(X)}}add(X){var te;if(X&&X!==this)if(this.closed)Ke(X);else{if(X instanceof K){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._teardowns=null!==(te=this._teardowns)&&void 0!==te?te:[]).push(X)}}_hasParent(X){const{_parentage:te}=this;return te===X||Array.isArray(te)&&te.includes(X)}_addParent(X){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(X),te):te?[te,X]:X}_removeParent(X){const{_parentage:te}=this;te===X?this._parentage=null:Array.isArray(te)&&(0,me.P)(te,X)}remove(X){const{_teardowns:te}=this;te&&(0,me.P)(te,X),X instanceof K&&X._removeParent(this)}}K.EMPTY=(()=>{const Fe=new K;return Fe.closed=!0,Fe})();const we=K.EMPTY;function Ne(Fe){return Fe instanceof K||Fe&&"closed"in Fe&&(0,v.m)(Fe.remove)&&(0,v.m)(Fe.add)&&(0,v.m)(Fe.unsubscribe)}function Ke(Fe){(0,v.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(bt,Me,G)=>{"use strict";G.d(Me,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Me,G)=>{"use strict";G.d(Me,{E:()=>N});const N=new(G(8306).y)(K=>K.complete())},8996:(bt,Me,G)=>{"use strict";G.d(Me,{D:()=>mt});var v=G(8421),N=G(5363),ue=G(9468),we=G(8306),Ke=G(2202),Fe=G(576),X=G(9672);function Ue(rt,$e){if(!rt)throw new Error("Iterable cannot be null");return new we.y(Nt=>{(0,X.f)(Nt,$e,()=>{const fe=rt[Symbol.asyncIterator]();(0,X.f)(Nt,$e,()=>{fe.next().then(Z=>{Z.done?Nt.complete():Nt.next(Z.value)})},0,!0)})})}var it=G(3670),Be=G(8239),Ye=G(1144),It=G(6495),Qe=G(2206),at=G(4532),dt=G(3260);function mt(rt,$e){return $e?function xe(rt,$e){if(null!=rt){if((0,it.c)(rt))return function me(rt,$e){return(0,v.Xf)(rt).pipe((0,ue.R)($e),(0,N.Q)($e))}(rt,$e);if((0,Ye.z)(rt))return function Ne(rt,$e){return new we.y(Nt=>{let fe=0;return $e.schedule(function(){fe===rt.length?Nt.complete():(Nt.next(rt[fe++]),Nt.closed||this.schedule())})})}(rt,$e);if((0,Be.t)(rt))return function K(rt,$e){return(0,v.Xf)(rt).pipe((0,ue.R)($e),(0,N.Q)($e))}(rt,$e);if((0,Qe.D)(rt))return Ue(rt,$e);if((0,It.T)(rt))return function te(rt,$e){return new we.y(Nt=>{let fe;return(0,X.f)(Nt,$e,()=>{fe=rt[Ke.h](),(0,X.f)(Nt,$e,()=>{let Z,pe;try{({value:Z,done:pe}=fe.next())}catch(De){return void Nt.error(De)}pe?Nt.complete():Nt.next(Z)},0,!0)}),()=>(0,Fe.m)(null==fe?void 0:fe.return)&&fe.return()})}(rt,$e);if((0,dt.L)(rt))return function Ct(rt,$e){return Ue((0,dt.Q)(rt),$e)}(rt,$e)}throw(0,at.z)(rt)}(rt,$e):(0,v.Xf)(rt)}},8421:(bt,Me,G)=>{"use strict";G.d(Me,{Xf:()=>it});var v=G(5987),N=G(1144),ue=G(8239),me=G(8306),K=G(3670),we=G(2206),Ne=G(4532),Ke=G(6495),Fe=G(3260),X=G(576),te=G(7849),Ue=G(8822);function it(xe){if(xe instanceof me.y)return xe;if(null!=xe){if((0,K.c)(xe))return function Be(xe){return new me.y(mt=>{const rt=xe[Ue.L]();if((0,X.m)(rt.subscribe))return rt.subscribe(mt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,N.z)(xe))return function Ye(xe){return new me.y(mt=>{for(let rt=0;rt<xe.length&&!mt.closed;rt++)mt.next(xe[rt]);mt.complete()})}(xe);if((0,ue.t)(xe))return function It(xe){return new me.y(mt=>{xe.then(rt=>{mt.closed||(mt.next(rt),mt.complete())},rt=>mt.error(rt)).then(null,te.h)})}(xe);if((0,we.D)(xe))return at(xe);if((0,Ke.T)(xe))return function Qe(xe){return new me.y(mt=>{for(const rt of xe)if(mt.next(rt),mt.closed)return;mt.complete()})}(xe);if((0,Fe.L)(xe))return function dt(xe){return at((0,Fe.Q)(xe))}(xe)}throw(0,Ne.z)(xe)}function at(xe){return new me.y(mt=>{(function Ct(xe,mt){var rt,$e,Nt,fe;return(0,v.mG)(this,void 0,void 0,function*(){try{for(rt=(0,v.KL)(xe);!($e=yield rt.next()).done;)if(mt.next($e.value),mt.closed)return}catch(Z){Nt={error:Z}}finally{try{$e&&!$e.done&&(fe=rt.return)&&(yield fe.call(rt))}finally{if(Nt)throw Nt.error}}mt.complete()})})(xe,mt).catch(rt=>mt.error(rt))})}},9646:(bt,Me,G)=>{"use strict";G.d(Me,{of:()=>ue});var v=G(7669),N=G(8996);function ue(...me){const K=(0,v.yG)(me);return(0,N.D)(me,K)}},5403:(bt,Me,G)=>{"use strict";G.d(Me,{Q:()=>N});var v=G(2961);class N extends v.Lv{constructor(me,K,we,Ne,Ke){super(me),this.onFinalize=Ke,this._next=K?function(Fe){try{K(Fe)}catch(X){me.error(X)}}:super._next,this._error=Ne?function(Fe){try{Ne(Fe)}catch(X){me.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Fe){me.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;const{closed:K}=this;super.unsubscribe(),!K&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}},4351:(bt,Me,G)=>{"use strict";G.d(Me,{b:()=>ue});var v=G(5577),N=G(576);function ue(me,K){return(0,N.m)(K)?(0,v.z)(me,K,1):(0,v.z)(me,1)}},9300:(bt,Me,G)=>{"use strict";G.d(Me,{h:()=>ue});var v=G(4482),N=G(5403);function ue(me,K){return(0,v.e)((we,Ne)=>{let Ke=0;we.subscribe(new N.Q(Ne,Fe=>me.call(K,Fe,Ke++)&&Ne.next(Fe)))})}},4004:(bt,Me,G)=>{"use strict";G.d(Me,{U:()=>ue});var v=G(4482),N=G(5403);function ue(me,K){return(0,v.e)((we,Ne)=>{let Ke=0;we.subscribe(new N.Q(Ne,Fe=>{Ne.next(me.call(K,Fe,Ke++))}))})}},8189:(bt,Me,G)=>{"use strict";G.d(Me,{J:()=>ue});var v=G(5577),N=G(4671);function ue(me=1/0){return(0,v.z)(N.y,me)}},5577:(bt,Me,G)=>{"use strict";G.d(Me,{z:()=>Ke});var v=G(4004),N=G(8421),ue=G(4482),me=G(9672),K=G(5403),Ne=G(576);function Ke(Fe,X,te=1/0){return(0,Ne.m)(X)?Ke((Ue,it)=>(0,v.U)((Be,Ye)=>X(Ue,Be,it,Ye))((0,N.Xf)(Fe(Ue,it))),te):("number"==typeof X&&(te=X),(0,ue.e)((Ue,it)=>function we(Fe,X,te,Ue,it,Be,Ye,It){const Qe=[];let at=0,dt=0,Ct=!1;const xe=()=>{Ct&&!Qe.length&&!at&&X.complete()},mt=$e=>at<Ue?rt($e):Qe.push($e),rt=$e=>{Be&&X.next($e),at++;let Nt=!1;(0,N.Xf)(te($e,dt++)).subscribe(new K.Q(X,fe=>{null==it||it(fe),Be?mt(fe):X.next(fe)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(at--;Qe.length&&at<Ue;){const fe=Qe.shift();Ye?(0,me.f)(X,Ye,()=>rt(fe)):rt(fe)}xe()}catch(fe){X.error(fe)}}))};return Fe.subscribe(new K.Q(X,mt,()=>{Ct=!0,xe()})),()=>{null==It||It()}}(Ue,it,Fe,te)))}},5363:(bt,Me,G)=>{"use strict";G.d(Me,{Q:()=>me});var v=G(9672),N=G(4482),ue=G(5403);function me(K,we=0){return(0,N.e)((Ne,Ke)=>{Ne.subscribe(new ue.Q(Ke,Fe=>(0,v.f)(Ke,K,()=>Ke.next(Fe),we),()=>(0,v.f)(Ke,K,()=>Ke.complete(),we),Fe=>(0,v.f)(Ke,K,()=>Ke.error(Fe),we)))})}},9468:(bt,Me,G)=>{"use strict";G.d(Me,{R:()=>N});var v=G(4482);function N(ue,me=0){return(0,v.e)((K,we)=>{we.add(ue.schedule(()=>K.subscribe(we),me))})}},5698:(bt,Me,G)=>{"use strict";G.d(Me,{q:()=>me});var v=G(515),N=G(4482),ue=G(5403);function me(K){return K<=0?()=>v.E:(0,N.e)((we,Ne)=>{let Ke=0;we.subscribe(new ue.Q(Ne,Fe=>{++Ke<=K&&(Ne.next(Fe),K<=Ke&&Ne.complete())}))})}},8505:(bt,Me,G)=>{"use strict";G.d(Me,{b:()=>K});var v=G(576),N=G(4482),ue=G(5403),me=G(4671);function K(we,Ne,Ke){const Fe=(0,v.m)(we)||Ne||Ke?{next:we,error:Ne,complete:Ke}:we;return Fe?(0,N.e)((X,te)=>{var Ue;null===(Ue=Fe.subscribe)||void 0===Ue||Ue.call(Fe);let it=!0;X.subscribe(new ue.Q(te,Be=>{var Ye;null===(Ye=Fe.next)||void 0===Ye||Ye.call(Fe,Be),te.next(Be)},()=>{var Be;it=!1,null===(Be=Fe.complete)||void 0===Be||Be.call(Fe),te.complete()},Be=>{var Ye;it=!1,null===(Ye=Fe.error)||void 0===Ye||Ye.call(Fe,Be),te.error(Be)},()=>{var Be,Ye;it&&(null===(Be=Fe.unsubscribe)||void 0===Be||Be.call(Fe)),null===(Ye=Fe.finalize)||void 0===Ye||Ye.call(Fe)}))}):me.y}},3410:(bt,Me,G)=>{"use strict";G.d(Me,{z:()=>v});const v={setTimeout(...N){const{delegate:ue}=v;return((null==ue?void 0:ue.setTimeout)||setTimeout)(...N)},clearTimeout(N){const{delegate:ue}=v;return((null==ue?void 0:ue.clearTimeout)||clearTimeout)(N)},delegate:void 0}},2202:(bt,Me,G)=>{"use strict";G.d(Me,{h:()=>N});const N=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Me,G)=>{"use strict";G.d(Me,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(bt,Me,G)=>{"use strict";G.d(Me,{_6:()=>we,jO:()=>me,yG:()=>K});var v=G(576);function ue(Ne){return Ne[Ne.length-1]}function me(Ne){return(0,v.m)(ue(Ne))?Ne.pop():void 0}function K(Ne){return function N(Ne){return Ne&&(0,v.m)(Ne.schedule)}(ue(Ne))?Ne.pop():void 0}function we(Ne,Ke){return"number"==typeof ue(Ne)?Ne.pop():Ke}},4742:(bt,Me,G)=>{"use strict";G.d(Me,{D:()=>K});const{isArray:v}=Array,{getPrototypeOf:N,prototype:ue,keys:me}=Object;function K(Ne){if(1===Ne.length){const Ke=Ne[0];if(v(Ke))return{args:Ke,keys:null};if(function we(Ne){return Ne&&"object"==typeof Ne&&N(Ne)===ue}(Ke)){const Fe=me(Ke);return{args:Fe.map(X=>Ke[X]),keys:Fe}}}return{args:Ne,keys:null}}},8737:(bt,Me,G)=>{"use strict";function v(N,ue){if(N){const me=N.indexOf(ue);0<=me&&N.splice(me,1)}}G.d(Me,{P:()=>v})},3888:(bt,Me,G)=>{"use strict";function v(N){const me=N(K=>{Error.call(K),K.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}G.d(Me,{d:()=>v})},1810:(bt,Me,G)=>{"use strict";function v(N,ue){return N.reduce((me,K,we)=>(me[K]=ue[we],me),{})}G.d(Me,{n:()=>v})},2806:(bt,Me,G)=>{"use strict";G.d(Me,{x:()=>ue,O:()=>me});var v=G(2416);let N=null;function ue(K){if(v.v.useDeprecatedSynchronousErrorHandling){const we=!N;if(we&&(N={errorThrown:!1,error:null}),K(),we){const{errorThrown:Ne,error:Ke}=N;if(N=null,Ne)throw Ke}}else K()}function me(K){v.v.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=K)}},9672:(bt,Me,G)=>{"use strict";function v(N,ue,me,K=0,we=!1){const Ne=ue.schedule(function(){me(),we?N.add(this.schedule(null,K)):this.unsubscribe()},K);if(N.add(Ne),!we)return Ne}G.d(Me,{f:()=>v})},4671:(bt,Me,G)=>{"use strict";function v(N){return N}G.d(Me,{y:()=>v})},1144:(bt,Me,G)=>{"use strict";G.d(Me,{z:()=>v});const v=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(bt,Me,G)=>{"use strict";G.d(Me,{D:()=>N});var v=G(576);function N(ue){return Symbol.asyncIterator&&(0,v.m)(null==ue?void 0:ue[Symbol.asyncIterator])}},576:(bt,Me,G)=>{"use strict";function v(N){return"function"==typeof N}G.d(Me,{m:()=>v})},3670:(bt,Me,G)=>{"use strict";G.d(Me,{c:()=>ue});var v=G(8822),N=G(576);function ue(me){return(0,N.m)(me[v.L])}},6495:(bt,Me,G)=>{"use strict";G.d(Me,{T:()=>ue});var v=G(2202),N=G(576);function ue(me){return(0,N.m)(null==me?void 0:me[v.h])}},8239:(bt,Me,G)=>{"use strict";G.d(Me,{t:()=>N});var v=G(576);function N(ue){return(0,v.m)(null==ue?void 0:ue.then)}},3260:(bt,Me,G)=>{"use strict";G.d(Me,{Q:()=>ue,L:()=>me});var v=G(5987),N=G(576);function ue(K){return(0,v.FC)(this,arguments,function*(){const Ne=K.getReader();try{for(;;){const{value:Ke,done:Fe}=yield(0,v.qq)(Ne.read());if(Fe)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Ke)}}finally{Ne.releaseLock()}})}function me(K){return(0,N.m)(null==K?void 0:K.getReader)}},4482:(bt,Me,G)=>{"use strict";G.d(Me,{A:()=>N,e:()=>ue});var v=G(576);function N(me){return(0,v.m)(null==me?void 0:me.lift)}function ue(me){return K=>{if(N(K))return K.lift(function(we){try{return me(we,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bt,Me,G)=>{"use strict";G.d(Me,{Z:()=>me});var v=G(4004);const{isArray:N}=Array;function me(K){return(0,v.U)(we=>function ue(K,we){return N(we)?K(...we):K(we)}(K,we))}},7849:(bt,Me,G)=>{"use strict";G.d(Me,{h:()=>ue});var v=G(2416),N=G(3410);function ue(me){N.z.setTimeout(()=>{const{onUnhandledError:K}=v.v;if(!K)throw me;K(me)})}},4532:(bt,Me,G)=>{"use strict";function v(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Me,{z:()=>v})},9163:bt=>{function Me(G){var v=new Error("Cannot find module '"+G+"'");throw v.code="MODULE_NOT_FOUND",v}Me.keys=()=>[],Me.resolve=Me,Me.id=9163,bt.exports=Me},5987:(bt,Me,G)=>{"use strict";function Ke(Z,pe,De,Re){return new(De||(De=Promise))(function(ge,Tt){function Ut(nr){try{pt(Re.next(nr))}catch(Ln){Tt(Ln)}}function Gn(nr){try{pt(Re.throw(nr))}catch(Ln){Tt(Ln)}}function pt(nr){nr.done?ge(nr.value):function He(ge){return ge instanceof De?ge:new De(function(Tt){Tt(ge)})}(nr.value).then(Ut,Gn)}pt((Re=Re.apply(Z,pe||[])).next())})}function Qe(Z){return this instanceof Qe?(this.v=Z,this):new Qe(Z)}function at(Z,pe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Re=De.apply(Z,pe||[]),ge=[];return He={},Tt("next"),Tt("throw"),Tt("return"),He[Symbol.asyncIterator]=function(){return this},He;function Tt(yn){Re[yn]&&(He[yn]=function(rr){return new Promise(function(ir,vr){ge.push([yn,rr,ir,vr])>1||Ut(yn,rr)})})}function Ut(yn,rr){try{!function Gn(yn){yn.value instanceof Qe?Promise.resolve(yn.value.v).then(pt,nr):Ln(ge[0][2],yn)}(Re[yn](rr))}catch(ir){Ln(ge[0][3],ir)}}function pt(yn){Ut("next",yn)}function nr(yn){Ut("throw",yn)}function Ln(yn,rr){yn(rr),ge.shift(),ge.length&&Ut(ge[0][0],ge[0][1])}}function Ct(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,pe=Z[Symbol.asyncIterator];return pe?pe.call(Z):(Z=function Ue(Z){var pe="function"==typeof Symbol&&Symbol.iterator,De=pe&&Z[pe],Re=0;if(De)return De.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&Re>=Z.length&&(Z=void 0),{value:Z&&Z[Re++],done:!Z}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),De={},Re("next"),Re("throw"),Re("return"),De[Symbol.asyncIterator]=function(){return this},De);function Re(ge){De[ge]=Z[ge]&&function(Tt){return new Promise(function(Ut,Gn){!function He(ge,Tt,Ut,Gn){Promise.resolve(Gn).then(function(pt){ge({value:pt,done:Ut})},Tt)}(Ut,Gn,(Tt=Z[ge](Tt)).done,Tt.value)})}}}G.d(Me,{mG:()=>Ke,qq:()=>Qe,FC:()=>at,KL:()=>Ct})},9808:(bt,Me,G)=>{"use strict";G.d(Me,{mr:()=>dt,ez:()=>Qs,K0:()=>Ne,Do:()=>xe,V_:()=>X,Ye:()=>mt,S$:()=>Qe,sg:()=>xn,O5:()=>pr,b0:()=>Ct,lw:()=>Ke,EM:()=>Ro,JF:()=>Ls,w_:()=>we,bD:()=>rs,q:()=>ue,Mx:()=>Ie,HT:()=>K});var v=G(1223);let N=null;function ue(){return N}function K(A){N||(N=A)}class we{}const Ne=new v.OlP("DocumentToken");let Ke=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=v.Yz7({token:A,factory:function(){return function Fe(){return(0,v.LFG)(te)}()},providedIn:"platform"}),A})();const X=new v.OlP("Location Initialized");let te=(()=>{class A extends Ke{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(x){const j=ue().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",x,!1),()=>j.removeEventListener("popstate",x)}onHashChange(x){const j=ue().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",x,!1),()=>j.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,j,ne){Ue()?this._history.pushState(x,j,ne):this.location.hash=ne}replaceState(x,j,ne){Ue()?this._history.replaceState(x,j,ne):this.location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return A.\u0275fac=function(x){return new(x||A)(v.LFG(Ne))},A.\u0275prov=v.Yz7({token:A,factory:function(){return function it(){return new te((0,v.LFG)(Ne))}()},providedIn:"platform"}),A})();function Ue(){return!!window.history.pushState}function Be(A,F){if(0==A.length)return F;if(0==F.length)return A;let x=0;return A.endsWith("/")&&x++,F.startsWith("/")&&x++,2==x?A+F.substring(1):1==x?A+F:A+"/"+F}function Ye(A){const F=A.match(/#|\?|$/),x=F&&F.index||A.length;return A.slice(0,x-("/"===A[x-1]?1:0))+A.slice(x)}function It(A){return A&&"?"!==A[0]?"?"+A:A}let Qe=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=v.Yz7({token:A,factory:function(){return function at(A){const F=(0,v.LFG)(Ne).location;return new Ct((0,v.LFG)(Ke),F&&F.origin||"")}()},providedIn:"root"}),A})();const dt=new v.OlP("appBaseHref");let Ct=(()=>{class A extends Qe{constructor(x,j){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==j&&(j=this._platformLocation.getBaseHrefFromDOM()),null==j)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=j}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Be(this._baseHref,x)}path(x=!1){const j=this._platformLocation.pathname+It(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&x?`${j}${ne}`:j}pushState(x,j,ne,ve){const We=this.prepareExternalUrl(ne+It(ve));this._platformLocation.pushState(x,j,We)}replaceState(x,j,ne,ve){const We=this.prepareExternalUrl(ne+It(ve));this._platformLocation.replaceState(x,j,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var j,ne;null===(ne=(j=this._platformLocation).historyGo)||void 0===ne||ne.call(j,x)}}return A.\u0275fac=function(x){return new(x||A)(v.LFG(Ke),v.LFG(dt,8))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac}),A})(),xe=(()=>{class A extends Qe{constructor(x,j){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(x){const j=Be(this._baseHref,x);return j.length>0?"#"+j:j}pushState(x,j,ne,ve){let We=this.prepareExternalUrl(ne+It(ve));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.pushState(x,j,We)}replaceState(x,j,ne,ve){let We=this.prepareExternalUrl(ne+It(ve));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.replaceState(x,j,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var j,ne;null===(ne=(j=this._platformLocation).historyGo)||void 0===ne||ne.call(j,x)}}return A.\u0275fac=function(x){return new(x||A)(v.LFG(Ke),v.LFG(dt,8))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac}),A})(),mt=(()=>{class A{constructor(x,j){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const ne=this._platformStrategy.getBaseHref();this._platformLocation=j,this._baseHref=Ye(Nt(ne)),this._platformStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,j=""){return this.path()==this.normalize(x+It(j))}normalize(x){return A.stripTrailingSlash(function $e(A,F){return A&&F.startsWith(A)?F.substring(A.length):F}(this._baseHref,Nt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,j="",ne=null){this._platformStrategy.pushState(ne,"",x,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+It(j)),ne)}replaceState(x,j="",ne=null){this._platformStrategy.replaceState(ne,"",x,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+It(j)),ne)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var j,ne;null===(ne=(j=this._platformStrategy).historyGo)||void 0===ne||ne.call(j,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)}))}_notifyUrlChangeListeners(x="",j){this._urlChangeListeners.forEach(ne=>ne(x,j))}subscribe(x,j,ne){return this._subject.subscribe({next:x,error:j,complete:ne})}}return A.normalizeQueryParams=It,A.joinWithSlash=Be,A.stripTrailingSlash=Ye,A.\u0275fac=function(x){return new(x||A)(v.LFG(Qe),v.LFG(Ke))},A.\u0275prov=v.Yz7({token:A,factory:function(){return function rt(){return new mt((0,v.LFG)(Qe),(0,v.LFG)(Ke))}()},providedIn:"root"}),A})();function Nt(A){return A.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Ht=v.kL8;class ie{}let V=(()=>{class A extends ie{constructor(x){super(),this.locale=x}getPluralCategory(x,j){switch(Ht(j||this.locale)(x)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return A.\u0275fac=function(x){return new(x||A)(v.LFG(v.soG))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac}),A})();function Ie(A,F){F=encodeURIComponent(F);for(const x of A.split(";")){const j=x.indexOf("="),[ne,ve]=-1==j?[x,""]:[x.slice(0,j),x.slice(j+1)];if(ne.trim()===F)return decodeURIComponent(ve)}return null}class cn{constructor(F,x,j,ne){this.$implicit=F,this.ngForOf=x,this.index=j,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xn=(()=>{class A{constructor(x,j,ne){this._viewContainer=x,this._template=j,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const j=this._viewContainer;x.forEachOperation((ne,ve,We)=>{if(null==ne.previousIndex)j.createEmbeddedView(this._template,new cn(ne.item,this._ngForOf,-1,-1),null===We?void 0:We);else if(null==We)j.remove(null===ve?void 0:ve);else if(null!==ve){const vt=j.get(ve);j.move(vt,We),wn(vt,ne)}});for(let ne=0,ve=j.length;ne<ve;ne++){const vt=j.get(ne).context;vt.index=ne,vt.count=ve,vt.ngForOf=this._ngForOf}x.forEachIdentityChange(ne=>{wn(j.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(x,j){return!0}}return A.\u0275fac=function(x){return new(x||A)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),A})();function wn(A,F){A.context.$implicit=F.item}let pr=(()=>{class A{constructor(x,j){this._viewContainer=x,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){ki("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){ki("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,j){return!0}}return A.\u0275fac=function(x){return new(x||A)(v.Y36(v.s_b),v.Y36(v.Rgc))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),A})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function ki(A,F){if(F&&!F.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,v.AaK)(F)}'.`)}let Qs=(()=>{class A{}return A.\u0275fac=function(x){return new(x||A)},A.\u0275mod=v.oAB({type:A}),A.\u0275inj=v.cJS({providers:[{provide:ie,useClass:V}]}),A})();const rs="browser";let Ro=(()=>{class A{}return A.\u0275prov=(0,v.Yz7)({token:A,providedIn:"root",factory:()=>new Zi((0,v.LFG)(Ne),window)}),A})();class Zi{constructor(F,x){this.document=F,this.window=x,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const x=function vi(A,F){const x=A.getElementById(F)||A.getElementsByName(F)[0];if(x)return x;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const j=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ne=j.currentNode;for(;ne;){const ve=ne.shadowRoot;if(ve){const We=ve.getElementById(F)||ve.querySelector(`[name="${F}"]`);if(We)return We}ne=j.nextNode()}}return null}(this.document,F);x&&(this.scrollToElement(x),this.attemptFocus(x))}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=F)}}scrollToElement(F){const x=F.getBoundingClientRect(),j=x.left+this.window.pageXOffset,ne=x.top+this.window.pageYOffset,ve=this.offset();this.window.scrollTo(j-ve[0],ne-ve[1])}attemptFocus(F){return F.focus(),this.document.activeElement===F}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=_s(this.window.history)||_s(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch(F){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(F){return!1}}}function _s(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ls{}},520:(bt,Me,G)=>{"use strict";G.d(Me,{eN:()=>ge,JF:()=>je});var v=G(9808),N=G(1223),ue=G(9646),me=G(8306),K=G(4351),we=G(9300),Ne=G(4004);class Ke{}class Fe{}class X{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(oe=>{const ze=oe.indexOf(":");if(ze>0){const ye=oe.slice(0,ze),st=ye.toLowerCase(),nt=oe.slice(ze+1).trim();this.maybeSetNormalizedName(ye,st),this.headers.has(st)?this.headers.get(st).push(nt):this.headers.set(st,[nt])}})}:()=>{this.headers=new Map,Object.keys(re).forEach(oe=>{let ze=re[oe];const ye=oe.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(ye,ze),this.maybeSetNormalizedName(oe,ye))})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const oe=this.headers.get(re.toLowerCase());return oe&&oe.length>0?oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,oe){return this.clone({name:re,value:oe,op:"a"})}set(re,oe){return this.clone({name:re,value:oe,op:"s"})}delete(re,oe){return this.clone({name:re,value:oe,op:"d"})}maybeSetNormalizedName(re,oe){this.normalizedNames.has(oe)||this.normalizedNames.set(oe,re)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(oe=>{this.headers.set(oe,re.headers.get(oe)),this.normalizedNames.set(oe,re.normalizedNames.get(oe))})}clone(re){const oe=new X;return oe.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,oe.lazyUpdate=(this.lazyUpdate||[]).concat([re]),oe}applyUpdate(re){const oe=re.name.toLowerCase();switch(re.op){case"a":case"s":let ze=re.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(re.name,oe);const ye=("a"===re.op?this.headers.get(oe):void 0)||[];ye.push(...ze),this.headers.set(oe,ye);break;case"d":const st=re.value;if(st){let nt=this.headers.get(oe);if(!nt)return;nt=nt.filter(Le=>-1===st.indexOf(Le)),0===nt.length?(this.headers.delete(oe),this.normalizedNames.delete(oe)):this.headers.set(oe,nt)}else this.headers.delete(oe),this.normalizedNames.delete(oe)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(oe=>re(this.normalizedNames.get(oe),this.headers.get(oe)))}}class te{encodeKey(re){return Ye(re)}encodeValue(re){return Ye(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const it=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ye(ke){return encodeURIComponent(ke).replace(it,(re,oe)=>{var ze;return null!==(ze=Be[oe])&&void 0!==ze?ze:re})}function It(ke){return`${ke}`}class Qe{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new te,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ue(ke,re){const oe=new Map;return ke.length>0&&ke.replace(/^\?/,"").split("&").forEach(ye=>{const st=ye.indexOf("="),[nt,Le]=-1==st?[re.decodeKey(ye),""]:[re.decodeKey(ye.slice(0,st)),re.decodeValue(ye.slice(st+1))],Gt=oe.get(nt)||[];Gt.push(Le),oe.set(nt,Gt)}),oe}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(oe=>{const ze=re.fromObject[oe];this.map.set(oe,Array.isArray(ze)?ze:[ze])})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const oe=this.map.get(re);return oe?oe[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,oe){return this.clone({param:re,value:oe,op:"a"})}appendAll(re){const oe=[];return Object.keys(re).forEach(ze=>{const ye=re[ze];Array.isArray(ye)?ye.forEach(st=>{oe.push({param:ze,value:st,op:"a"})}):oe.push({param:ze,value:ye,op:"a"})}),this.clone(oe)}set(re,oe){return this.clone({param:re,value:oe,op:"s"})}delete(re,oe){return this.clone({param:re,value:oe,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const oe=this.encoder.encodeKey(re);return this.map.get(re).map(ze=>oe+"="+this.encoder.encodeValue(ze)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const oe=new Qe({encoder:this.encoder});return oe.cloneFrom=this.cloneFrom||this,oe.updates=(this.updates||[]).concat(re),oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const oe=("a"===re.op?this.map.get(re.param):void 0)||[];oe.push(It(re.value)),this.map.set(re.param,oe);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let ze=this.map.get(re.param)||[];const ye=ze.indexOf(It(re.value));-1!==ye&&ze.splice(ye,1),ze.length>0?this.map.set(re.param,ze):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class dt{constructor(){this.map=new Map}set(re,oe){return this.map.set(re,oe),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function xe(ke){return"undefined"!=typeof ArrayBuffer&&ke instanceof ArrayBuffer}function mt(ke){return"undefined"!=typeof Blob&&ke instanceof Blob}function rt(ke){return"undefined"!=typeof FormData&&ke instanceof FormData}class Nt{constructor(re,oe,ze,ye){let st;if(this.url=oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function Ct(ke){switch(ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ye?(this.body=void 0!==ze?ze:null,st=ye):st=ze,st&&(this.reportProgress=!!st.reportProgress,this.withCredentials=!!st.withCredentials,st.responseType&&(this.responseType=st.responseType),st.headers&&(this.headers=st.headers),st.context&&(this.context=st.context),st.params&&(this.params=st.params)),this.headers||(this.headers=new X),this.context||(this.context=new dt),this.params){const nt=this.params.toString();if(0===nt.length)this.urlWithParams=oe;else{const Le=oe.indexOf("?");this.urlWithParams=oe+(-1===Le?"?":Le<oe.length-1?"&":"")+nt}}else this.params=new Qe,this.urlWithParams=oe}serializeBody(){return null===this.body?null:xe(this.body)||mt(this.body)||rt(this.body)||function $e(ke){return"undefined"!=typeof URLSearchParams&&ke instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rt(this.body)?null:mt(this.body)?this.body.type||null:xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){var oe;const ze=re.method||this.method,ye=re.url||this.url,st=re.responseType||this.responseType,nt=void 0!==re.body?re.body:this.body,Le=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,Gt=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let hn=re.headers||this.headers,_n=re.params||this.params;const Sn=null!==(oe=re.context)&&void 0!==oe?oe:this.context;return void 0!==re.setHeaders&&(hn=Object.keys(re.setHeaders).reduce((Jn,an)=>Jn.set(an,re.setHeaders[an]),hn)),re.setParams&&(_n=Object.keys(re.setParams).reduce((Jn,an)=>Jn.set(an,re.setParams[an]),_n)),new Nt(ze,ye,nt,{params:_n,headers:hn,context:Sn,reportProgress:Gt,responseType:st,withCredentials:Le})}}var fe=(()=>((fe=fe||{})[fe.Sent=0]="Sent",fe[fe.UploadProgress=1]="UploadProgress",fe[fe.ResponseHeader=2]="ResponseHeader",fe[fe.DownloadProgress=3]="DownloadProgress",fe[fe.Response=4]="Response",fe[fe.User=5]="User",fe))();class Z{constructor(re,oe=200,ze="OK"){this.headers=re.headers||new X,this.status=void 0!==re.status?re.status:oe,this.statusText=re.statusText||ze,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class pe extends Z{constructor(re={}){super(re),this.type=fe.ResponseHeader}clone(re={}){return new pe({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class De extends Z{constructor(re={}){super(re),this.type=fe.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new De({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class Re extends Z{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function He(ke,re){return{body:re,headers:ke.headers,context:ke.context,observe:ke.observe,params:ke.params,reportProgress:ke.reportProgress,responseType:ke.responseType,withCredentials:ke.withCredentials}}let ge=(()=>{class ke{constructor(oe){this.handler=oe}request(oe,ze,ye={}){let st;if(oe instanceof Nt)st=oe;else{let Gt,hn;Gt=ye.headers instanceof X?ye.headers:new X(ye.headers),ye.params&&(hn=ye.params instanceof Qe?ye.params:new Qe({fromObject:ye.params})),st=new Nt(oe,ze,void 0!==ye.body?ye.body:null,{headers:Gt,context:ye.context,params:hn,reportProgress:ye.reportProgress,responseType:ye.responseType||"json",withCredentials:ye.withCredentials})}const nt=(0,ue.of)(st).pipe((0,K.b)(Gt=>this.handler.handle(Gt)));if(oe instanceof Nt||"events"===ye.observe)return nt;const Le=nt.pipe((0,we.h)(Gt=>Gt instanceof De));switch(ye.observe||"body"){case"body":switch(st.responseType){case"arraybuffer":return Le.pipe((0,Ne.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gt.body}));case"blob":return Le.pipe((0,Ne.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof Blob))throw new Error("Response is not a Blob.");return Gt.body}));case"text":return Le.pipe((0,Ne.U)(Gt=>{if(null!==Gt.body&&"string"!=typeof Gt.body)throw new Error("Response is not a string.");return Gt.body}));default:return Le.pipe((0,Ne.U)(Gt=>Gt.body))}case"response":return Le;default:throw new Error(`Unreachable: unhandled observe type ${ye.observe}}`)}}delete(oe,ze={}){return this.request("DELETE",oe,ze)}get(oe,ze={}){return this.request("GET",oe,ze)}head(oe,ze={}){return this.request("HEAD",oe,ze)}jsonp(oe,ze){return this.request("JSONP",oe,{params:(new Qe).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(oe,ze={}){return this.request("OPTIONS",oe,ze)}patch(oe,ze,ye={}){return this.request("PATCH",oe,He(ye,ze))}post(oe,ze,ye={}){return this.request("POST",oe,He(ye,ze))}put(oe,ze,ye={}){return this.request("PUT",oe,He(ye,ze))}}return ke.\u0275fac=function(oe){return new(oe||ke)(N.LFG(Ke))},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class Tt{constructor(re,oe){this.next=re,this.interceptor=oe}handle(re){return this.interceptor.intercept(re,this.next)}}const Ut=new N.OlP("HTTP_INTERCEPTORS");let Gn=(()=>{class ke{intercept(oe,ze){return ze.handle(oe)}}return ke.\u0275fac=function(oe){return new(oe||ke)},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const sn=/^\)\]\}',?\n/;let on=(()=>{class ke{constructor(oe){this.xhrFactory=oe}handle(oe){if("JSONP"===oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(ze=>{const ye=this.xhrFactory.build();if(ye.open(oe.method,oe.urlWithParams),oe.withCredentials&&(ye.withCredentials=!0),oe.headers.forEach((an,ht)=>ye.setRequestHeader(an,ht.join(","))),oe.headers.has("Accept")||ye.setRequestHeader("Accept","application/json, text/plain, */*"),!oe.headers.has("Content-Type")){const an=oe.detectContentTypeHeader();null!==an&&ye.setRequestHeader("Content-Type",an)}if(oe.responseType){const an=oe.responseType.toLowerCase();ye.responseType="json"!==an?an:"text"}const st=oe.serializeBody();let nt=null;const Le=()=>{if(null!==nt)return nt;const an=1223===ye.status?204:ye.status,ht=ye.statusText||"OK",Jt=new X(ye.getAllResponseHeaders()),Wt=function Tn(ke){return"responseURL"in ke&&ke.responseURL?ke.responseURL:/^X-Request-URL:/m.test(ke.getAllResponseHeaders())?ke.getResponseHeader("X-Request-URL"):null}(ye)||oe.url;return nt=new pe({headers:Jt,status:an,statusText:ht,url:Wt}),nt},Gt=()=>{let{headers:an,status:ht,statusText:Jt,url:Wt}=Le(),Vn=null;204!==ht&&(Vn=void 0===ye.response?ye.responseText:ye.response),0===ht&&(ht=Vn?200:0);let lt=ht>=200&&ht<300;if("json"===oe.responseType&&"string"==typeof Vn){const Te=Vn;Vn=Vn.replace(sn,"");try{Vn=""!==Vn?JSON.parse(Vn):null}catch(tt){Vn=Te,lt&&(lt=!1,Vn={error:tt,text:Vn})}}lt?(ze.next(new De({body:Vn,headers:an,status:ht,statusText:Jt,url:Wt||void 0})),ze.complete()):ze.error(new Re({error:Vn,headers:an,status:ht,statusText:Jt,url:Wt||void 0}))},hn=an=>{const{url:ht}=Le(),Jt=new Re({error:an,status:ye.status||0,statusText:ye.statusText||"Unknown Error",url:ht||void 0});ze.error(Jt)};let _n=!1;const Sn=an=>{_n||(ze.next(Le()),_n=!0);let ht={type:fe.DownloadProgress,loaded:an.loaded};an.lengthComputable&&(ht.total=an.total),"text"===oe.responseType&&!!ye.responseText&&(ht.partialText=ye.responseText),ze.next(ht)},Jn=an=>{let ht={type:fe.UploadProgress,loaded:an.loaded};an.lengthComputable&&(ht.total=an.total),ze.next(ht)};return ye.addEventListener("load",Gt),ye.addEventListener("error",hn),ye.addEventListener("timeout",hn),ye.addEventListener("abort",hn),oe.reportProgress&&(ye.addEventListener("progress",Sn),null!==st&&ye.upload&&ye.upload.addEventListener("progress",Jn)),ye.send(st),ze.next({type:fe.Sent}),()=>{ye.removeEventListener("error",hn),ye.removeEventListener("abort",hn),ye.removeEventListener("load",Gt),ye.removeEventListener("timeout",hn),oe.reportProgress&&(ye.removeEventListener("progress",Sn),null!==st&&ye.upload&&ye.upload.removeEventListener("progress",Jn)),ye.readyState!==ye.DONE&&ye.abort()}})}}return ke.\u0275fac=function(oe){return new(oe||ke)(N.LFG(v.JF))},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const kt=new N.OlP("XSRF_COOKIE_NAME"),On=new N.OlP("XSRF_HEADER_NAME");class hr{}let Lr=(()=>{class ke{constructor(oe,ze,ye){this.doc=oe,this.platform=ze,this.cookieName=ye,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const oe=this.doc.cookie||"";return oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(oe,this.cookieName),this.lastCookieString=oe),this.lastToken}}return ke.\u0275fac=function(oe){return new(oe||ke)(N.LFG(v.K0),N.LFG(N.Lbi),N.LFG(kt))},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),Ht=(()=>{class ke{constructor(oe,ze){this.tokenService=oe,this.headerName=ze}intercept(oe,ze){const ye=oe.url.toLowerCase();if("GET"===oe.method||"HEAD"===oe.method||ye.startsWith("http://")||ye.startsWith("https://"))return ze.handle(oe);const st=this.tokenService.getToken();return null!==st&&!oe.headers.has(this.headerName)&&(oe=oe.clone({headers:oe.headers.set(this.headerName,st)})),ze.handle(oe)}}return ke.\u0275fac=function(oe){return new(oe||ke)(N.LFG(hr),N.LFG(On))},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),An=(()=>{class ke{constructor(oe,ze){this.backend=oe,this.injector=ze,this.chain=null}handle(oe){if(null===this.chain){const ze=this.injector.get(Ut,[]);this.chain=ze.reduceRight((ye,st)=>new Tt(ye,st),this.backend)}return this.chain.handle(oe)}}return ke.\u0275fac=function(oe){return new(oe||ke)(N.LFG(Fe),N.LFG(N.zs3))},ke.\u0275prov=N.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),gr=(()=>{class ke{static disable(){return{ngModule:ke,providers:[{provide:Ht,useClass:Gn}]}}static withOptions(oe={}){return{ngModule:ke,providers:[oe.cookieName?{provide:kt,useValue:oe.cookieName}:[],oe.headerName?{provide:On,useValue:oe.headerName}:[]]}}}return ke.\u0275fac=function(oe){return new(oe||ke)},ke.\u0275mod=N.oAB({type:ke}),ke.\u0275inj=N.cJS({providers:[Ht,{provide:Ut,useExisting:Ht,multi:!0},{provide:hr,useClass:Lr},{provide:kt,useValue:"XSRF-TOKEN"},{provide:On,useValue:"X-XSRF-TOKEN"}]}),ke})(),je=(()=>{class ke{}return ke.\u0275fac=function(oe){return new(oe||ke)},ke.\u0275mod=N.oAB({type:ke}),ke.\u0275inj=N.cJS({providers:[ge,{provide:Ke,useClass:An},on,{provide:Fe,useExisting:on}],imports:[[gr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ke})()},1223:(bt,Me,G)=>{"use strict";G.d(Me,{deG:()=>nw,tb:()=>Tp,AFp:()=>Ip,ip1:()=>wp,CZH:()=>hl,hGG:()=>Ma,z2F:()=>yc,sBO:()=>Fy,Sil:()=>fl,_Vd:()=>$d,EJc:()=>D0,SBq:()=>zd,qLn:()=>Bh,vpe:()=>To,tBr:()=>ut,XFs:()=>ye,OlP:()=>Sr,zs3:()=>fs,ZZ4:()=>ph,aQg:()=>Bp,soG:()=>ih,YKP:()=>$E,h0i:()=>ac,PXZ:()=>My,R0b:()=>$s,FiY:()=>Vt,Lbi:()=>Cp,g9A:()=>bp,Qsj:()=>YI,FYo:()=>Jm,JOm:()=>pa,tp0:()=>tn,Rgc:()=>Ta,dDg:()=>mc,q4F:()=>el,GfV:()=>Xu,s_b:()=>up,ifc:()=>ht,eFA:()=>Rp,G48:()=>ky,Gpc:()=>Ct,_c5:()=>Wy,VLi:()=>Sy,c2e:()=>I0,zSh:()=>mf,wAp:()=>qt,vHH:()=>$e,cg1:()=>Ql,kL8:()=>Pm,dqk:()=>Te,sIi:()=>gd,CqO:()=>Rt,QGY:()=>Qa,F4k:()=>Bf,RDi:()=>x,AaK:()=>Qe,qOj:()=>va,TTD:()=>Ki,_Bn:()=>sp,xp6:()=>W_,uIk:()=>rm,ekj:()=>Sd,Suo:()=>al,Xpm:()=>Xn,lG2:()=>Oi,Yz7:()=>Ht,cJS:()=>Vr,oAB:()=>sr,Yjl:()=>oo,Y36:()=>bd,_UZ:()=>gi,qZA:()=>Vf,TgZ:()=>gm,EpF:()=>Nr,n5z:()=>qr,LFG:()=>wi,$8M:()=>Ac,$Z:()=>Qv,NdJ:()=>zt,CRH:()=>fy,oxw:()=>mm,Q6J:()=>Ff,s9C:()=>ym,DdM:()=>WE,iGM:()=>hy,CHM:()=>lu,LSH:()=>Bc,YNc:()=>Fv,_uU:()=>Ms,Oqu:()=>oE,hij:()=>Fr});var v=G(8189),N=G(8421),ue=G(515),me=G(7669),K=G(8996),Ne=G(7579),Ke=G(727),Fe=G(8306),X=G(5698),te=G(2961),Ue=G(4482);function Be(i,s,...o){return!0===s?(i(),null):!1===s?null:s(...o).pipe((0,X.q)(1)).subscribe(()=>i())}function Ye(i){for(let s in i)if(i[s]===Ye)return s;throw Error("Could not find renamed property on target object.")}function It(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Qe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Qe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function at(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const dt=Ye({__forward_ref__:Ye});function Ct(i){return i.__forward_ref__=Ct,i.toString=function(){return Qe(this())},i}function xe(i){return mt(i)?i():i}function mt(i){return"function"==typeof i&&i.hasOwnProperty(dt)&&i.__forward_ref__===Ct}class $e extends Error{constructor(s,o){super(function Nt(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function fe(i){return"string"==typeof i?i:null==i?"":String(i)}function Z(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():fe(i)}function He(i,s){const o=s?` in ${s}`:"";throw new $e(-201,`No provider for ${Z(i)} found${o}`)}function on(i,s){null==i&&function kt(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Ht(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Vr(i){return{providers:i.providers||[],imports:i.imports||[]}}function fr(i){return gr(i,ke)||gr(i,oe)}function gr(i,s){return i.hasOwnProperty(s)?i[s]:null}function mr(i){return i&&(i.hasOwnProperty(re)||i.hasOwnProperty(ze))?i[re]:null}const ke=Ye({\u0275prov:Ye}),re=Ye({\u0275inj:Ye}),oe=Ye({ngInjectableDef:Ye}),ze=Ye({ngInjectorDef:Ye});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let st;function Le(i){const s=st;return st=i,s}function Gt(i,s,o){const u=fr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ye.Optional?null:void 0!==s?s:void He(Qe(i),"Injector")}function _n(i){return{toString:i}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),ht=(()=>{return(i=ht||(ht={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ht;var i})();const Jt="undefined"!=typeof globalThis&&globalThis,Wt="undefined"!=typeof window&&window,Vn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te=Jt||"undefined"!=typeof global&&global||Wt||Vn,Bt={},q=[],Y=Ye({\u0275cmp:Ye}),ae=Ye({\u0275dir:Ye}),Pe=Ye({\u0275pipe:Ye}),_e=Ye({\u0275mod:Ye}),_t=Ye({\u0275fac:Ye}),Mt=Ye({__NG_ELEMENT_ID__:Ye});let En=0;function Xn(i){return _n(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ht.Emulated,id:"c",styles:i.styles||q,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,d=i.features,f=i.pipes;return u.id+=En++,u.inputs=_i(i.inputs,o),u.outputs=_i(i.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ft):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(Zt):null,u})}function Ft(i){return Hn(i)||function Nn(i){return i[ae]||null}(i)}function Zt(i){return function Er(i){return i[Pe]||null}(i)}const $n={};function sr(i){return _n(()=>{const s={type:i.type,bootstrap:i.bootstrap||q,declarations:i.declarations||q,imports:i.imports||q,exports:i.exports||q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&($n[i.id]=i.type),s})}function _i(i,s){if(null==i)return Bt;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const Oi=Xn;function oo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Hn(i){return i[Y]||null}function er(i,s){const o=i[_e]||null;if(!o&&!0===s)throw new Error(`Type ${Qe(i)} does not have '\u0275mod' property.`);return o}function zn(i){return Array.isArray(i)&&"object"==typeof i[1]}function ui(i){return Array.isArray(i)&&!0===i[1]}function Fi(i){return 0!=(8&i.flags)}function Hs(i){return 2==(2&i.flags)}function zs(i){return 1==(1&i.flags)}function ei(i){return null!==i.template}function uo(i){return 0!=(512&i[2])}function Zn(i,s){return i.hasOwnProperty(_t)?i[_t]:null}class Wi{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ki(){return ea}function ea(i){return i.type.prototype.ngOnChanges&&(i.setInput=Fs),ys}function ys(){const i=Ro(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Bt)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Fs(i,s,o,u){const c=Ro(i)||function Zi(i,s){return i[jr]=s}(i,{previous:Bt,current:null}),d=c.current||(c.current={}),f=c.previous,y=this.declaredInputs[o],E=f[y];d[y]=new Wi(E&&E.currentValue,s,f===Bt),i[u]=s}Ki.ngInherit=!0;const jr="__ngSimpleChanges__";function Ro(i){return i[jr]||null}let F;function x(i){F=i}function ve(i){return!!i.listen}const We={createRenderer:(i,s)=>function j(){return void 0!==F?F:"undefined"!=typeof document?document:void 0}()};function At(i){for(;Array.isArray(i);)i=i[0];return i}function mn(i,s){return At(s[i])}function In(i,s){return At(s[i.index])}function qn(i,s){return i.data[s]}function Wn(i,s){const o=s[i];return zn(o)?o:o[0]}function Vi(i){return 4==(4&i[2])}function Ei(i){return 128==(128&i[2])}function C(i,s){return null==s?null:i[s]}function w(i){i[18]=0}function B(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const de={lFrame:Po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function is(){return de.bindingsEnabled}function qe(){return de.lFrame.lView}function un(){return de.lFrame.tView}function lu(i){return de.lFrame.contextLView=i,i[8]}function _r(){let i=ho();for(;null!==i&&64===i.type;)i=i.parent;return i}function ho(){return de.lFrame.currentTNode}function Yi(i,s){const o=de.lFrame;o.currentTNode=i,o.isParent=s}function fo(){return de.lFrame.isParent}function Oo(){return de.isInCheckNoChangesMode}function No(i){de.isInCheckNoChangesMode=i}function ws(){return de.lFrame.bindingIndex++}function Na(i,s){const o=de.lFrame;o.bindingIndex=o.bindingRootIndex=i,po(s)}function po(i){de.lFrame.currentDirectiveIndex=i}function na(){return de.lFrame.currentQueryIndex}function Pa(i){de.lFrame.currentQueryIndex=i}function fu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function _l(i,s,o){if(o&ye.SkipSelf){let c=s,d=i;for(;!(c=c.parent,null!==c||o&ye.Host||(c=fu(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,i=d}const u=de.lFrame=Ic();return u.currentTNode=s,u.lView=i,!0}function Xs(i){const s=Ic(),o=i[1];de.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ic(){const i=de.lFrame,s=null===i?null:i.child;return null===s?Po(i):s}function Po(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function pu(){const i=de.lFrame;return de.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const vh=pu;function ra(){const i=pu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function $r(){return de.lFrame.selectedIndex}function as(i){de.lFrame.selectedIndex=i}function or(){const i=de.lFrame;return qn(i.tView,i.selectedIndex)}function La(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:P}=d;f&&(i.contentHooks||(i.contentHooks=[])).push(-o,f),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),O&&((i.viewHooks||(i.viewHooks=[])).push(o,O),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,O)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(o,P)}}function Vs(i,s,o){Fo(i,s,3,o)}function ia(i,s,o,u){(3&i[2])===o&&Fo(i,s,o,u)}function Is(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Fo(i,s,o,u){const d=null!=u?u:-1,f=s.length-1;let y=0;for(let E=void 0!==u?65535&i[18]:0;E<f;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=u&&y>=u)break}else s[E]<0&&(i[18]+=65536),(y<d||-1==d)&&(El(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function El(i,s,o,u){const c=o[u]<0,d=o[u+1],y=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class eo{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function mu(i,s,o){const u=ve(i);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const f=o[c++],y=o[c++],E=o[c++];u?i.setAttribute(s,y,E,f):s.setAttributeNS(f,y,E)}else{const f=d,y=o[++c];yu(f)?u&&i.setProperty(s,f,y):u?i.setAttribute(s,f,y):s.setAttribute(f,y),c++}}return c}function Ua(i){return 3===i||4===i||6===i}function yu(i){return 64===i.charCodeAt(0)}function oa(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Il(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function Il(i,s,o,u,c){let d=0,f=i.length;if(-1===s)f=-1;else for(;d<i.length;){const y=i[d++];if("number"==typeof y){if(y===s){f=-1;break}if(y>s){f=d-1;break}}}for(;d<i.length;){const y=i[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(i[d+1]=c));if(u===i[d+1])return void(i[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==f&&(i.splice(f,0,s),d=f+1),i.splice(d++,0,o),null!==u&&i.splice(d++,0,u),null!==c&&i.splice(d++,0,c)}function Ba(i){return-1!==i}function aa(i){return 32767&i}function to(i,s){let o=function Ih(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Bi=!0;function Lo(i){const s=Bi;return Bi=i,s}let Dh=0;function m(i,s){const o=b(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,g(u.data,i),g(s,null),g(u.blueprint,null));const c=R(i,s),d=i.injectorIndex;if(Ba(c)){const f=aa(c),y=to(c,s),E=y[1].data;for(let O=0;O<8;O++)s[d+O]=y[f+O]|E[f+O]}return s[d+8]=c,d}function g(i,s){i.push(0,0,0,0,0,0,0,0,s)}function b(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function R(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const d=c[1],f=d.type;if(u=2===f?d.declTNode:1===f?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function U(i,s,o){!function _(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Mt)&&(u=o[Mt]),null==u&&(u=o[Mt]=Dh++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function J(i,s,o){if(o&ye.Optional)return i;He(s,"NodeInjector")}function Ae(i,s,o,u){if(o&ye.Optional&&void 0===u&&(u=null),0==(o&(ye.Self|ye.Host))){const c=i[9],d=Le(void 0);try{return c?c.get(s,u,o&ye.Optional):Gt(s,u,o&ye.Optional)}finally{Le(d)}}return J(u,s,o)}function yt(i,s,o,u=ye.Default,c){if(null!==i){const d=function Bs(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Mt)?i[Mt]:void 0;return"number"==typeof s?s>=0?255&s:St:s}(o);if("function"==typeof d){if(!_l(s,i,u))return u&ye.Host?J(c,o,u):Ae(s,o,u,c);try{const f=d(u);if(null!=f||u&ye.Optional)return f;He(o)}finally{vh()}}else if("number"==typeof d){let f=null,y=b(i,s),E=-1,O=u&ye.Host?s[16][6]:null;for((-1===y||u&ye.SkipSelf)&&(E=-1===y?R(i,s):s[y+8],-1!==E&&Ds(u,!1)?(f=s[1],y=aa(E),s=to(E,s)):y=-1);-1!==y;){const P=s[1];if(Mn(d,y,P.data)){const $=Kn(y,s,o,f,u,O);if($!==Xt)return $}E=s[y+8],-1!==E&&Ds(u,s[1].data[y+8]===O)&&Mn(d,y,s)?(f=P,y=aa(E),s=to(E,s)):y=-1}}}return Ae(s,o,u,c)}const Xt={};function St(){return new us(_r(),qe())}function Kn(i,s,o,u,c,d){const f=s[1],y=f.data[i+8],P=pn(y,f,o,null==u?Hs(y)&&Bi:u!=f&&0!=(3&y.type),c&ye.Host&&d===y);return null!==P?Qi(s,f,P,y):Xt}function pn(i,s,o,u,c){const d=i.providerIndexes,f=s.data,y=1048575&d,E=i.directiveStart,P=d>>20,ee=c?y+P:i.directiveEnd;for(let he=u?y:y+P;he<ee;he++){const Oe=f[he];if(he<E&&o===Oe||he>=E&&Oe.type===o)return he}if(c){const he=f[E];if(he&&ei(he)&&he.type===o)return E}return null}function Qi(i,s,o,u){let c=i[o];const d=s.data;if(function Cc(i){return i instanceof eo}(c)){const f=c;f.resolving&&function pe(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new $e(-200,`Circular dependency in DI detected for ${i}${o}`)}(Z(d[o]));const y=Lo(f.canSeeViewProviders);f.resolving=!0;const E=f.injectImpl?Le(f.injectImpl):null;_l(i,u,ye.Default);try{c=i[o]=f.factory(void 0,d,i,u),s.firstCreatePass&&o>=u.directiveStart&&function Hr(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const f=ea(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==E&&Le(E),Lo(y),f.resolving=!1,vh()}}return c}function Mn(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Ds(i,s){return!(i&ye.Self||i&ye.Host&&s)}class us{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return yt(this._tNode,this._lView,s,u,o)}}function qr(i){return _n(()=>{const s=i.prototype.constructor,o=s[_t]||Ji(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const d=c[_t]||Ji(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ji(i){return mt(i)?()=>{const s=Ji(xe(i));return s&&s()}:Zn(i)}function Ac(i){return function z(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(Ua(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(_r(),i)}const ua="__parameters__";function js(i,s,o){return _n(()=>{const u=function Dl(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const f=new c(...d);return y.annotation=f,y;function y(E,O,P){const $=E.hasOwnProperty(ua)?E[ua]:Object.defineProperty(E,ua,{value:[]})[ua];for(;$.length<=P;)$.push(null);return($[P]=$[P]||[]).push(f),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Sr{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nw=new Sr("AnalyzeForEntryComponents");function ci(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),ci(u,s)):s!==i&&s.push(u)}return s}function bs(i,s){i.forEach(o=>Array.isArray(o)?bs(o,s):s(o))}function Th(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Cl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ls(i,s,o){let u=Vo(i,s);return u>=0?i[1|u]=o:(u=~u,function Sh(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function Iu(i,s){const o=Vo(i,s);if(o>=0)return i[1|o]}function Vo(i,s){return function Tl(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const d=u+(c-u>>1),f=i[d<<o];if(s===f)return d<<o;f>s?c=d:u=d+1}return~(c<<o)}(i,s,1)}const Uo={},Cu="__NG_DI_FLAG__",Nc="ngTempTokenPath",u_=/\n/gm,kc="__source",l_=Ye({provide:String,useValue:Ye});let Tu;function Oh(i){const s=Tu;return Tu=i,s}function Pc(i,s=ye.Default){if(void 0===Tu)throw new $e(203,"");return null===Tu?Gt(i,void 0,s):Tu.get(i,s&ye.Optional?null:void 0,s)}function wi(i,s=ye.Default){return(function nt(){return st}()||Pc)(xe(i),s)}function k(i){const s=[];for(let o=0;o<i.length;o++){const u=xe(i[o]);if(Array.isArray(u)){if(0===u.length)throw new $e(900,"");let c,d=ye.Default;for(let f=0;f<u.length;f++){const y=u[f],E=le(y);"number"==typeof E?-1===E?c=y.token:d|=E:c=y}s.push(wi(c,d))}else s.push(wi(u))}return s}function H(i,s){return i[Cu]=s,i.prototype[Cu]=s,i}function le(i){return i[Cu]}const ut=H(js("Inject",i=>({token:i})),-1),Vt=H(js("Optional"),8),tn=H(js("SkipSelf"),4);class p_{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ha(i){return i instanceof p_?i.changingThisBreaksApplicationSecurity:i}const pw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function Bc(i){const s=function Vh(){const i=qe();return i&&i[12]}();return s?s.sanitize(ni.URL,i)||"":function Lc(i,s){const o=function g_(i){return i instanceof p_&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(i,"URL")?Ha(i):function Fh(i){return(i=String(i)).match(pw)||i.match(gw)?i:"unsafe:"+i}(fe(i))}const Iw="__ngContext__";function ds(i,s){i[Iw]=s}function S_(i){const s=function Uh(i){return i[Iw]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function M_(i){return i.ngOriginalError}function Tb(i,...s){i.error(...s)}class Bh{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=function Cb(i){return i&&i.ngErrorLogger||Tb}(s);u(this._console,"ERROR",s),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&M_(s);for(;o&&M_(o);)o=M_(o);return o||null}}const Aw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te))();function fa(i){return i instanceof Function?i():i}var pa=(()=>((pa=pa||{})[pa.Important=1]="Important",pa[pa.DashCase=2]="DashCase",pa))();function O_(i,s){return undefined(i,s)}function jh(i){const s=i[3];return ui(s)?s[3]:s}function N_(i){return Ow(i[13])}function k_(i){return Ow(i[4])}function Ow(i){for(;null!==i&&!ui(i);)i=i[4];return i}function Al(i,s,o,u,c){if(null!=u){let d,f=!1;ui(u)?d=u:zn(u)&&(f=!0,u=u[0]);const y=At(u);0===i&&null!==o?null==c?Hh(s,o,y):ga(s,o,y,c||null,!0):1===i&&null!==o?ga(s,o,y,c||null,!0):2===i?function Eg(i,s,o){const u=zh(i,s);u&&function Vw(i,s,o,u){ve(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,y,f):3===i&&s.destroyNode(y),null!=d&&function Hc(i,s,o,u,c){const d=o[7];d!==At(o)&&Al(s,i,u,d,c);for(let y=10;y<o.length;y++){const E=o[y];Rl(E[1],E,i,s,u,d)}}(s,i,d,o,c)}}function Sl(i,s,o){return ve(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function F_(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,B(c,-1)),o.splice(u,1)}function mg(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&F_(c,u),s>0&&(i[o-1][4]=u[4]);const d=Cl(i,10+s);!function gg(i,s){Rl(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const f=d[19];null!==f&&f.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function L_(i,s){if(!(256&s[2])){const o=s[11];ve(o)&&o.destroyNode&&Rl(i,s,o,3,null,null),function Fw(i){let s=i[13];if(!s)return ji(i[1],i);for(;s;){let o=null;if(zn(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)zn(s)&&ji(s[1],s),s=s[3];null===s&&(s=i),zn(s)&&ji(s[1],s),o=s&&s[4]}s=o}}(s)}}function ji(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function V_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof eo)){const d=o[u+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const y=c[d[f]],E=d[f+1];try{E.call(y)}finally{}}else try{d.call(c)}finally{}}}}(i,s),function Gh(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const f=o[d+1],y="function"==typeof f?f(s):At(s[f]),E=u[c=o[d+2]],O=o[d+3];"boolean"==typeof O?y.removeEventListener(o[d],E,O):O>=0?u[c=O]():u[c=-O].unsubscribe(),d+=2}else{const f=u[c=o[d+1]];o[d].call(f)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();s[7]=null}}(i,s),1===s[1].type&&ve(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&ui(s[3])){o!==s[3]&&F_(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function $h(i,s,o){return function Gc(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===ht.None||c===ht.Emulated)return null}return In(u,o)}(i,s.parent,o)}function ga(i,s,o,u,c){ve(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function Hh(i,s,o){ve(i)?i.appendChild(s,o):s.appendChild(o)}function U_(i,s,o,u,c){null!==u?ga(i,s,o,u,c):Hh(i,s,o)}function zh(i,s){return ve(i)?i.parentNode(s):s.parentNode}let yg=function xl(i,s,o){return 40&i.type?In(i,o):null};function qh(i,s,o,u){const c=$h(i,u,s),d=s[11],y=function B_(i,s,o){return yg(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)U_(d,c,o[E],y,!1);else U_(d,c,o,y,!1)}function Wh(i,s){if(null!==s){const o=s.type;if(3&o)return In(s,i);if(4&o)return vg(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Wh(i,u);{const c=i[s.index];return ui(c)?vg(-1,c):At(c)}}if(32&o)return O_(s,i)()||At(i[s.index]);{const u=j_(i,s);return null!==u?Array.isArray(u)?u[0]:Wh(jh(i[16]),u):Wh(i,s.next)}}return null}function j_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function vg(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return Wh(u,c)}return s[7]}function $c(i,s,o,u,c,d,f){for(;null!=o;){const y=u[o.index],E=o.type;if(f&&0===s&&(y&&ds(At(y),u),o.flags|=4),64!=(64&o.flags))if(8&E)$c(i,s,o.child,u,c,d,!1),Al(s,i,c,y,d);else if(32&E){const O=O_(o,u);let P;for(;P=O();)Al(s,i,c,P,d);Al(s,i,c,y,d)}else 16&E?Ig(i,s,u,o,c,d):Al(s,i,c,y,d);o=f?o.projectionNext:o.next}}function Rl(i,s,o,u,c,d){$c(o,u,i.firstChild,s,c,d,!1)}function Ig(i,s,o,u,c,d){const f=o[16],E=f[6].projection[u.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Al(s,i,c,E[O],d);else $c(i,s,E,f[3],c,d,!0)}function Kh(i,s,o){ve(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function zc(i,s,o){ve(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function G_(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||i.charCodeAt(c+d)<=32)return c}o=c+1}}const Dg="ng-template";function H_(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==G_(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Zh(i){return 4===i.type&&i.value!==Dg}function jw(i,s,o){return s===(4!==i.type||o?i.value:Dg)}function Gw(i,s,o){let u=4;const c=i.attrs||[],d=function Cg(i){for(let s=0;s<i.length;s++)if(Ua(i[s]))return s;return i.length}(c);let f=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!f)if(4&u){if(u=2|1&u,""!==E&&!jw(i,E,o)||""===E&&1===s.length){if(vo(u))return!1;f=!0}}else{const O=8&u?E:s[++y];if(8&u&&null!==i.attrs){if(!H_(i.attrs,O,o)){if(vo(u))return!1;f=!0}continue}const $=Yh(8&u?"class":E,c,Zh(i),o);if(-1===$){if(vo(u))return!1;f=!0;continue}if(""!==O){let ee;ee=$>d?"":c[$+1].toLowerCase();const he=8&u?ee:null;if(he&&-1!==G_(he,O,0)||2&u&&O!==ee){if(vo(u))return!1;f=!0}}}}else{if(!f&&!vo(u)&&!vo(E))return!1;if(f&&vo(E))continue;f=!1,u=E|1&u}}return vo(u)||f}function vo(i){return 0==(1&i)}function Yh(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const f=s[c];if(f===i)return c;if(3===f||6===f)d=!0;else{if(1===f||2===f){let y=s[++c];for(;"string"==typeof y;)y=s[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=d?1:2}return-1}return function z_(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Qh(i,s,o=!1){for(let u=0;u<s.length;u++)if(Gw(i,s[u],o))return!0;return!1}function Tg(i,s){return i?":not("+s.trim()+")":s}function Ol(i){let s=i[0],o=1,u=2,c="",d=!1;for(;o<i.length;){let f=i[o];if("string"==typeof f)if(2&u){const y=i[++o];c+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+f:4&u&&(c+=" "+f);else""!==c&&!vo(f)&&(s+=Tg(d,c),c=""),u=f,d=d||!vo(u);o++}return""!==c&&(s+=Tg(d,c)),s}const ln={};function W_(i){K_(un(),qe(),$r()+i,Oo())}function K_(i,s,o,u){if(!u)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&Vs(s,d,o)}else{const d=i.preOrderHooks;null!==d&&ia(s,d,0,o)}as(o)}function Jh(i,s){return i<<17|s<<2}function Eo(i){return i>>17&32767}function Nl(i){return 2|i}function Go(i){return(131068&i)>>2}function Xh(i,s){return-131069&i|s<<2}function Ag(i){return 1|i}function nv(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const f=i.data[d];Pa(c),f.contentQueries(2,s[d],d)}}}function ri(i,s,o,u,c,d,f,y,E,O){const P=s.blueprint.slice();return P[0]=c,P[2]=140|u,w(P),P[3]=P[15]=i,P[8]=o,P[10]=f||i&&i[10],P[11]=y||i&&i[11],P[12]=E||i&&i[12]||null,P[9]=O||i&&i[9]||null,P[6]=d,P[16]=2==s.type?i[16]:P,P}function ma(i,s,o,u,c){let d=i.data[s];if(null===d)d=function fi(i,s,o,u,c){const d=ho(),f=fo(),E=i.data[s]=function Jw(i,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=E),null!==d&&(f?null==d.child&&null!==E.parent&&(d.child=E):null===d.next&&(d.next=E)),E}(i,s,o,u,c),function ko(){return de.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const f=function Js(){const i=de.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return Yi(d,!0),d}function Gs(i,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Jc(i,s,o){Xs(s);try{const u=i.viewQuery;null!==u&&ad(1,u,o);const c=i.template;null!==c&&sf(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&nv(i,s),i.staticViewQueries&&ad(2,i.viewQuery,o);const d=i.components;null!==d&&function Qw(i,s){for(let o=0;o<s.length;o++)mv(i,s[o])}(s,d)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,ra()}}function kl(i,s,o,u){const c=s[2];if(256==(256&c))return;Xs(s);const d=Oo();try{w(s),function ta(i){return de.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&sf(i,s,o,2,u);const f=3==(3&c);if(!d)if(f){const O=i.preOrderCheckHooks;null!==O&&Vs(s,O,null)}else{const O=i.preOrderHooks;null!==O&&ia(s,O,0,null),Is(s,0)}if(function gv(i){for(let s=N_(i);null!==s;s=k_(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&B(d,1),c[2]|=1024}}}(s),function pv(i){for(let s=N_(i);null!==s;s=k_(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];Ei(u)&&kl(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&nv(i,s),!d)if(f){const O=i.contentCheckHooks;null!==O&&Vs(s,O)}else{const O=i.contentHooks;null!==O&&ia(s,O,1),Is(s,1)}!function Rg(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)as(~c);else{const d=c,f=o[++u],y=o[++u];Na(f,d),y(2,s[d])}}}finally{as(-1)}}(i,s);const y=i.components;null!==y&&function Yw(i,s){for(let o=0;o<s.length;o++)rI(i,s[o])}(s,y);const E=i.viewQuery;if(null!==E&&ad(2,E,u),!d)if(f){const O=i.viewCheckHooks;null!==O&&Vs(s,O)}else{const O=i.viewHooks;null!==O&&ia(s,O,2),Is(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,B(s[3],-1))}finally{ra()}}function rv(i,s,o,u){const c=s[10],d=!Oo(),f=Vi(s);try{d&&!f&&c.begin&&c.begin(),f&&Jc(i,s,u),kl(i,s,o,u)}finally{d&&!f&&c.end&&c.end()}}function sf(i,s,o,u,c){const d=$r(),f=2&u;try{as(-1),f&&s.length>20&&K_(i,s,20,Oo()),o(u,c)}finally{as(d)}}function Ii(i,s,o){!is()||(function tI(i,s,o,u){const c=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||m(o,s),ds(u,s);const f=o.initialInputs;for(let y=c;y<d;y++){const E=i.data[y],O=ei(E);O&&hv(s,o,E);const P=Qi(s,i,y,o);ds(P,s),null!==f&&Ug(0,y-c,P,E,0,f),O&&(Wn(o.index,s)[8]=P)}}(i,s,o,In(o,s)),128==(128&o.flags)&&function nd(i,s,o){const u=o.directiveStart,c=o.directiveEnd,f=o.index,y=function wc(){return de.lFrame.currentDirectiveIndex}();try{as(f);for(let E=u;E<c;E++){const O=i.data[E],P=s[E];po(E),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&cv(O,P)}}finally{as(-1),po(y)}}(i,s,o))}function Ng(i,s,o=In){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const f=u[d+1],y=-1===f?o(s,i):i[f];i[c++]=y}}}function Xc(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ed(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ed(i,s,o,u,c,d,f,y,E,O){const P=20+u,$=P+c,ee=function kg(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:ln);return o}(P,$),he="function"==typeof O?O():O;return ee[1]={type:i,blueprint:ee,template:o,queries:null,viewQuery:y,declTNode:s,data:ee.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:E,consts:he,incompleteFirstPass:!1}}function iv(i,s,o,u){const c=Hg(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&yv(i).push(u,c.length-1))}function Mu(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function Ts(i,s,o,u,c,d,f,y){const E=In(s,o);let P,O=s.inputs;!y&&null!=O&&(P=O[u])?(pf(i,o,P,u,c),Hs(s)&&function Xw(i,s){const o=Wn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function Pg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=f?f(c,s.value||"",u):c,ve(d)?d.setProperty(E,u,c):yu(u)||(E.setProperty?E.setProperty(u,c):E[u]=c))}function Lg(i,s,o,u){let c=!1;if(is()){const d=function rd(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const f=u[d];Qh(o,f.selectors,!1)&&(c||(c=[]),U(m(o,s),i,f.type),ei(f)?(dv(i,o),c.unshift(f)):c.push(f))}return c}(i,s,o),f=null===u?null:{"":-1};if(null!==d){c=!0,cf(o,i.data.length,d.length);for(let P=0;P<d.length;P++){const $=d[P];$.providersResolver&&$.providersResolver($)}let y=!1,E=!1,O=Gs(i,s,d.length,null);for(let P=0;P<d.length;P++){const $=d[P];o.mergedAttrs=oa(o.mergedAttrs,$.hostAttrs),Vg(i,o,s,O,$),lf(O,$,f),null!==$.contentQueries&&(o.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(o.flags|=128);const ee=$.type.prototype;!y&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!E&&(ee.ngOnChanges||ee.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),O++}!function sv(i,s){const u=s.directiveEnd,c=i.data,d=s.attrs,f=[];let y=null,E=null;for(let O=s.directiveStart;O<u;O++){const P=c[O],$=P.inputs,ee=null===d||Zh(s)?null:Bg($,d);f.push(ee),y=Mu($,O,y),E=Mu(P.outputs,O,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=f,s.inputs=y,s.outputs=E}(i,o)}f&&function nI(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new $e(-301,`Export of name '${s[c+1]}' not found!`);u.push(s[c],d)}}}(o,u,f)}return o.mergedAttrs=oa(o.mergedAttrs,o.attrs),c}function uf(i,s,o,u,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function lv(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(u,c,f)}}function cv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function dv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function lf(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;ei(s)&&(o[""]=i)}}function cf(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Vg(i,s,o,u,c){i.data[u]=c;const d=c.factory||(c.factory=Zn(c.type)),f=new eo(d,ei(c),null);i.blueprint[u]=f,o[u]=f,uf(i,s,0,u,Gs(i,o,c.hostVars,ln),c)}function hv(i,s,o){const u=In(s,i),c=Xc(o),d=i[10],f=id(i,ri(i,c,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));i[s.index]=f}function Do(i,s,o,u,c,d){const f=In(i,s);!function Pl(i,s,o,u,c,d,f){if(null==d)ve(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const y=null==f?fe(d):f(d,u||"",c);ve(i)?i.setAttribute(s,c,y,o):o?s.setAttributeNS(o,c,y):s.setAttribute(c,y)}}(s[11],f,d,i.value,o,u,c)}function Ug(i,s,o,u,c,d){const f=d[s];if(null!==f){const y=u.setInput;for(let E=0;E<f.length;){const O=f[E++],P=f[E++],$=f[E++];null!==y?u.setInput(o,$,O,P):o[P]=$}}}function Bg(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function df(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function rI(i,s){const o=Wn(s,i);if(Ei(o)){const u=o[1];80&o[2]?kl(u,o,u.template,o[8]):o[5]>0&&hf(o)}}function hf(i){for(let u=N_(i);null!==u;u=k_(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const f=d[1];kl(f,d,f.template,d[8])}else d[5]>0&&hf(d)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Wn(o[u],i);Ei(c)&&c[5]>0&&hf(c)}}function mv(i,s){const o=Wn(s,i),u=o[1];(function jg(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Jc(u,o,o[8])}function id(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Gg(i){for(;i;){i[2]|=64;const s=jh(i);if(uo(i)&&!s)return i;i=s}return null}function od(i,s,o){const u=s[10];u.begin&&u.begin();try{kl(i,s,i.template,o)}catch(c){throw zg(s,c),c}finally{u.end&&u.end()}}function pi(i){!function sd(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=S_(o),c=u[1];rv(c,u,c.template,o)}}(i[8])}function ad(i,s,o){Pa(0),s(i,o)}const iI=(()=>Promise.resolve(null))();function Hg(i){return i[7]||(i[7]=[])}function yv(i){return i.cleanup||(i.cleanup=[])}function zg(i,s){const o=i[9],u=o?o.get(Bh,null):null;u&&u.handleError(s)}function pf(i,s,o,u,c){for(let d=0;d<o.length;){const f=o[d++],y=o[d++],E=s[f],O=i.data[f];null!==O.setInput?O.setInput(E,c,u,y):E[y]=c}}function _a(i,s,o){const u=mn(s,i);!function hi(i,s,o){ve(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Fl(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,d=0;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:1==d?c=at(c,y):2==d&&(u=at(u,y+": "+s[++f]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const ud=new Sr("INJECTOR",-1);class gf{get(s,o=Uo){if(o===Uo){const u=new Error(`NullInjectorError: No provider for ${Qe(s)}!`);throw u.name="NullInjectorError",u}return o}}const mf=new Sr("Set Injector scope."),ld={},cd={};let yf;function Wg(){return void 0===yf&&(yf=new gf),yf}function Kg(i,s=null,o=null,u){const c=dd(i,s,o,u);return c._resolveInjectorDefTypes(),c}function dd(i,s=null,o=null,u){return new oI(i,o,s||Wg(),u)}class oI{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&bs(o,y=>this.processProvider(y,s,o)),bs([s],y=>this.processInjectorType(y,[],d)),this.records.set(ud,ro(void 0,this));const f=this.records.get(mf);this.scope=null!=f?f.value:null,this.source=c||("object"==typeof s?null:Qe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Uo,u=ye.Default){this.assertNotDestroyed();const c=Oh(this),d=Le(void 0);try{if(!(u&ye.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=function hd(i){return"function"==typeof i||"object"==typeof i&&i instanceof Sr}(s)&&fr(s);y=E&&this.injectableDefInScope(E)?ro(Zg(s),ld):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(u&ye.Self?Wg():this.parent).get(s,o=u&ye.Optional&&o===Uo?null:o)}catch(f){if("NullInjectorError"===f.name){if((f[Nc]=f[Nc]||[]).unshift(Qe(s)),c)throw f;return function be(i,s,o,u){const c=i[Nc];throw s[kc]&&c.unshift(s[kc]),i.message=function Ze(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Qe(s);if(Array.isArray(s))c=s.map(Qe).join(" -> ");else if("object"==typeof s){let d=[];for(let f in s)if(s.hasOwnProperty(f)){let y=s[f];d.push(f+":"+("string"==typeof y?JSON.stringify(y):Qe(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(u_,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[Nc]=null,i}(f,s,"R3InjectorError",this.source)}throw f}finally{Le(d),Oh(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(Qe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,"")}processInjectorType(s,o,u){if(!(s=xe(s)))return!1;let c=mr(s);const d=null==c&&s.ngModule||void 0,f=void 0===d?s:d,y=-1!==u.indexOf(f);if(void 0!==d&&(c=mr(d)),null==c)return!1;if(null!=c.imports&&!y){let P;u.push(f);try{bs(c.imports,$=>{this.processInjectorType($,o,u)&&(void 0===P&&(P=[]),P.push($))})}finally{}if(void 0!==P)for(let $=0;$<P.length;$++){const{ngModule:ee,providers:he}=P[$];bs(he,Oe=>this.processProvider(Oe,ee,he||q))}}this.injectorDefTypes.add(f);const E=Zn(f)||(()=>new f);this.records.set(f,ro(E,ld));const O=c.providers;if(null!=O&&!y){const P=s;bs(O,$=>this.processProvider($,P,O))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let c=$o(s=xe(s))?s:xe(s&&s.provide);const d=function aI(i,s,o){return Yg(i)?ro(void 0,i.useValue):ro(Ev(i),ld)}(s);if($o(s)||!0!==s.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=ro(void 0,ld,!0),f.factory=()=>k(f.multi),this.records.set(c,f)),c=s,f.multi.push(s)}this.records.set(c,d)}hydrate(s,o){return o.value===ld&&(o.value=cd,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Dv(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=xe(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Zg(i){const s=fr(i),o=null!==s?s.factory:Zn(i);if(null!==o)return o;if(i instanceof Sr)throw new $e(204,"");if(i instanceof Function)return function Ll(i){const s=i.length;if(s>0)throw function la(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?"),new $e(204,"");const o=function je(i){const s=i&&(i[ke]||i[oe]);if(s){const o=function dn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new $e(204,"")}function Ev(i,s,o){let u;if($o(i)){const c=xe(i);return Zn(c)||Zg(c)}if(Yg(i))u=()=>xe(i.useValue);else if(function wv(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...k(i.deps||[]));else if(function _f(i){return!(!i||!i.useExisting)}(i))u=()=>wi(xe(i.useExisting));else{const c=xe(i&&(i.useClass||i.provide));if(!function hs(i){return!!i.deps}(i))return Zn(c)||Zg(c);u=()=>new c(...k(i.deps))}return u}function ro(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Yg(i){return null!==i&&"object"==typeof i&&l_ in i}function $o(i){return"function"==typeof i}let fs=(()=>{class i{static create(o,u){var c;if(Array.isArray(o))return Kg({name:""},u,o,"");{const d=null!==(c=o.name)&&void 0!==c?c:"";return Kg({name:d},o.parent,o.providers,d)}}}return i.THROW_IF_NOT_FOUND=Uo,i.NULL=new gf,i.\u0275prov=Ht({token:i,providedIn:"any",factory:()=>wi(ud)}),i.__NG_ELEMENT_ID__=-1,i})();function Mv(i,s){La(S_(i)[1],_r())}function va(i){let s=function Rv(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(ei(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new $e(903,"");c=s.\u0275dir}if(c){if(o){u.push(c);const f=i;f.inputs=Gl(i.inputs),f.declaredInputs=Gl(i.declaredInputs),f.outputs=Gl(i.outputs);const y=c.hostBindings;y&&br(i,y);const E=c.viewQuery,O=c.contentQueries;if(E&&Tf(i,E),O&&Ov(i,O),It(i.inputs,c.inputs),It(i.declaredInputs,c.declaredInputs),It(i.outputs,c.outputs),ei(c)&&c.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let f=0;f<d.length;f++){const y=d[f];y&&y.ngInherit&&y(i),y===va&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Ea(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=oa(c.hostAttrs,o=oa(o,c.hostAttrs))}}(u)}function Gl(i){return i===Bt?{}:i===q?[]:i}function Tf(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function Ov(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function br(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let Sf=null;function Ru(){if(!Sf){const i=Te.Symbol;if(i&&i.iterator)Sf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Sf=u)}}}return Sf}function gd(i){return!!Ou(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ru()in i)}function Ou(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Hi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function rm(i,s,o,u){const c=qe();return Hi(c,ws(),s)&&(un(),Do(or(),c,i,s,o,u)),rm}function Hl(i,s,o,u){return Hi(i,ws(),o)?s+fe(o)+u:ln}function Fv(i,s,o,u,c,d,f,y){const E=qe(),O=un(),P=i+20,$=O.firstCreatePass?function _d(i,s,o,u,c,d,f,y,E){const O=s.consts,P=ma(s,i,4,f||null,C(O,y));Lg(s,o,P,C(O,E)),La(s,P);const $=P.tViews=ed(2,P,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,O);return null!==s.queries&&(s.queries.template(s,P),$.queries=s.queries.embeddedTView(P)),P}(P,O,E,s,o,u,c,d,f):O.data[P];Yi($,!1);const ee=E[11].createComment("");qh(O,E,ee,$),ds(ee,E),id(E,E[P]=df(ee,E,ee,$)),zs($)&&Ii(O,E,$),null!=f&&Ng(E,$,y)}function bd(i,s=ye.Default){const o=qe();return null===o?wi(i,s):yt(_r(),o,xe(i),s)}function Qv(){throw new Error("invalid")}function Ff(i,s,o){const u=qe();return Hi(u,ws(),s)&&Ts(un(),or(),u,i,s,u[11],o,!1),Ff}function pm(i,s,o,u,c){const f=c?"class":"style";pf(i,o,s.inputs[f],f,u)}function gm(i,s,o,u){const c=qe(),d=un(),f=20+i,y=c[11],E=c[f]=Sl(y,s,function ti(){return de.lFrame.currentNamespace}()),O=d.firstCreatePass?function Lf(i,s,o,u,c,d,f){const y=s.consts,O=ma(s,i,2,c,C(y,d));return Lg(s,o,O,C(y,f)),null!==O.attrs&&Fl(O,O.attrs,!1),null!==O.mergedAttrs&&Fl(O,O.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,O),O}(f,d,c,0,s,o,u):d.data[f];Yi(O,!0);const P=O.mergedAttrs;null!==P&&mu(y,E,P);const $=O.classes;null!==$&&zc(y,E,$);const ee=O.styles;null!==ee&&Kh(y,E,ee),64!=(64&O.flags)&&qh(d,c,E,O),0===function Pn(){return de.lFrame.elementDepthCount}()&&ds(E,c),function Ar(){de.lFrame.elementDepthCount++}(),zs(O)&&(Ii(d,c,O),function Og(i,s,o){if(Fi(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const f=i.data[d];f.contentQueries&&f.contentQueries(1,o[d],d)}}}(d,O,c)),null!==u&&Ng(c,O)}function Vf(){let i=_r();fo()?function cu(){de.lFrame.isParent=!1}():(i=i.parent,Yi(i,!1));const s=i;!function Ui(){de.lFrame.elementDepthCount--}();const o=un();o.firstCreatePass&&(La(o,i),Fi(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function wh(i){return 0!=(16&i.flags)}(s)&&pm(o,s,qe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function go(i){return 0!=(32&i.flags)}(s)&&pm(o,s,qe(),s.stylesWithoutHost,!1)}function gi(i,s,o,u){gm(i,s,o,u),Vf()}function Nr(){return qe()}function Qa(i){return!!i&&"function"==typeof i.then}function Bf(i){return!!i&&"function"==typeof i.subscribe}const Rt=Bf;function zt(i,s,o,u){const c=qe(),d=un(),f=_r();return function Se(i,s,o,u,c,d,f,y){const E=zs(u),P=i.firstCreatePass&&yv(i),$=s[8],ee=Hg(s);let he=!0;if(3&u.type||y){const ot=In(u,s),wt=y?y(ot):ot,Ge=ee.length,jt=y?Dn=>y(At(Dn[u.index])):u.index;if(ve(o)){let Dn=null;if(!y&&E&&(Dn=function Et(i,s,o,u){const c=i.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const f=c[d];if(f===o&&c[d+1]===u){const y=s[7],E=c[d+2];return y.length>E?y[E]:null}"string"==typeof f&&(d+=2)}return null}(i,s,c,u.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=d,Dn.__ngLastListenerFn__=d,he=!1;else{d=Kr(u,s,$,d,!1);const Bn=o.listen(wt,c,d);ee.push(d,Bn),P&&P.push(c,jt,Ge,Ge+1)}}else d=Kr(u,s,$,d,!0),wt.addEventListener(c,d,f),ee.push(d),P&&P.push(c,jt,Ge,f)}else d=Kr(u,s,$,d,!1);const Oe=u.outputs;let et;if(he&&null!==Oe&&(et=Oe[c])){const ot=et.length;if(ot)for(let wt=0;wt<ot;wt+=2){const en=s[et[wt]][et[wt+1]].subscribe(d),uu=ee.length;ee.push(d,en),P&&P.push(c,u.index,uu,-(uu+1))}}}(d,c,c[11],f,i,s,!!o,u),zt}function Je(i,s,o,u){try{return!1!==o(u)}catch(c){return zg(i,c),!1}}function Kr(i,s,o,u,c){return function d(f){if(f===Function)return u;const y=2&i.flags?Wn(i.index,s):s;0==(32&s[2])&&Gg(y);let E=Je(s,0,u,f),O=d.__ngNextListenerFn__;for(;O;)E=Je(s,0,O,f)&&E,O=O.__ngNextListenerFn__;return c&&!1===E&&(f.preventDefault(),f.returnValue=!1),E}}function mm(i=1){return function vl(i){return(de.lFrame.contextLView=function Dc(i,s){for(;i>0;)s=s[15],i--;return s}(i,de.lFrame.contextLView))[8]}(i)}function ym(i,s,o){return _m(i,"",s,"",o),ym}function _m(i,s,o,u,c){const d=qe(),f=Hl(d,s,o,u);return f!==ln&&Ts(un(),or(),d,i,f,d[11],c,!1),_m}function Rn(i,s,o,u,c){const d=i[o+1],f=null===s;let y=u?Eo(d):Go(d),E=!1;for(;0!==y&&(!1===E||f);){const P=i[y+1];CI(i[y],s)&&(E=!0,i[y+1]=u?Ag(P):Nl(P)),y=u?Eo(P):Go(P)}E&&(i[o+1]=u?Nl(d):Ag(d))}function CI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Vo(i,s)>=0}function Sd(i,s){return function ps(i,s,o,u){const c=qe(),d=un(),f=function os(i){const s=de.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);d.firstUpdatePass&&function Xa(i,s,o,u){const c=i.data;if(null===c[o+1]){const d=c[$r()],f=function rE(i,s){return s>=i.expandoStartIndex}(i,o);(function ju(i,s){return 0!=(i.flags&(s?16:32))})(d,u)&&null===s&&!f&&(s=!1),s=function iE(i,s,o,u){const c=function ka(i){const s=de.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=Wl(o=Xi(null,i,s,o,u),s.attrs,u),d=null);else{const f=s.directiveStylingLast;if(-1===f||i[f]!==c)if(o=Xi(c,i,s,o,u),null===d){let E=function Cm(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Go(u))return i[Eo(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=Xi(null,i,s,E[1],u),E=Wl(E,s.attrs,u),function AI(i,s,o,u){i[Eo(o?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else d=function SI(i,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=Wl(u,i[d].hostAttrs,o);return Wl(u,s.attrs,o)}(i,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function Kt(i,s,o,u,c,d){let f=d?s.classBindings:s.styleBindings,y=Eo(f),E=Go(f);i[u]=o;let P,O=!1;if(Array.isArray(o)){const $=o;P=$[1],(null===P||Vo($,P)>0)&&(O=!0)}else P=o;if(c)if(0!==E){const ee=Eo(i[y+1]);i[u+1]=Jh(ee,y),0!==ee&&(i[ee+1]=Xh(i[ee+1],u)),i[y+1]=function zw(i,s){return 131071&i|s<<17}(i[y+1],u)}else i[u+1]=Jh(y,0),0!==y&&(i[y+1]=Xh(i[y+1],u)),y=u;else i[u+1]=Jh(E,0),0===y?y=u:i[E+1]=Xh(i[E+1],u),E=u;O&&(i[u+1]=Nl(i[u+1])),Rn(i,P,u,!0),Rn(i,P,u,!1),function Td(i,s,o,u,c){const d=c?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Vo(d,s)>=0&&(o[u+1]=Ag(o[u+1]))}(s,P,i,u,d),f=Jh(y,E),d?s.classBindings=f:s.styleBindings=f}(c,d,s,o,f,u)}}(d,i,f,u),s!==ln&&Hi(c,f,s)&&function xd(i,s,o,u,c,d,f,y){if(!(3&s.type))return;const E=i.data,O=E[y+1];Qn(function ef(i){return 1==(1&i)}(O)?bi(E,s,o,c,Go(O),f):void 0)||(Qn(d)||function Y_(i){return 2==(2&i)}(O)&&(d=bi(E,null,o,c,y,f)),function Bw(i,s,o,u,c){const d=ve(i);if(s)c?d?i.addClass(o,u):o.classList.add(u):d?i.removeClass(o,u):o.classList.remove(u);else{let f=-1===u.indexOf("-")?void 0:pa.DashCase;if(null==c)d?i.removeStyle(o,u,f):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),f|=pa.Important),d?i.setStyle(o,u,c,f):o.style.setProperty(u,c,y?"important":"")}}}(u,f,mn($r(),o),c,d))}(d,d.data[$r()],c,c[11],i,c[f+1]=function sE(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Qe(Ha(i)))),i}(s,o),u,f)}(i,s,null,!0),Sd}function Xi(i,s,o,u,c){let d=null;const f=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<f&&(d=s[y],u=Wl(u,d.hostAttrs,c),d!==i);)y++;return null!==i&&(o.directiveStylingLast=y),u}function Wl(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const f=s[d];"number"==typeof f?c=f:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ls(i,f,!!o||s[++d]))}return void 0===i?null:i}function bi(i,s,o,u,c,d){const f=null===s;let y;for(;c>0;){const E=i[c],O=Array.isArray(E),P=O?E[1]:E,$=null===P;let ee=o[c+1];ee===ln&&(ee=$?q:void 0);let he=$?Iu(ee,u):P===u?ee:void 0;if(O&&!Qn(he)&&(he=Iu(E,u)),Qn(he)&&(y=he,f))return y;const Oe=i[c+1];c=f?Eo(Oe):Go(Oe)}if(null!==s){let E=d?s.residualClasses:s.residualStyles;null!=E&&(y=Iu(E,u))}return y}function Qn(i){return void 0!==i}function Ms(i,s=""){const o=qe(),u=un(),c=i+20,d=u.firstCreatePass?ma(u,c,1,s,null):u.data[c],f=o[c]=function pg(i,s){return ve(i)?i.createText(s):i.createTextNode(s)}(o[11],s);qh(u,o,f,d),Yi(d,!1)}function oE(i){return Fr("",i,""),oE}function Fr(i,s,o){const u=qe(),c=Hl(u,i,s,o);return c!==ln&&_a(u,$r(),c),Fr}const ru=void 0;var xI=["en",[["a","p"],["AM","PM"],ru],[["AM","PM"],ru,ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ru,"{1} 'at' {0}",ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zu(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ko={};function Ql(i){const s=function RI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Ti(s);if(o)return o;const u=s.split("-")[0];if(o=Ti(u),o)return o;if("en"===u)return xI;throw new Error(`Missing locale data for the locale "${i}".`)}function Pm(i){return Ql(i)[qt.PluralCase]}function Ti(i){return i in Ko||(Ko[i]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[i]),Ko[i]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const zf="en-US";let Fm=zf;function Qu(i,s,o,u,c){if(i=xe(i),Array.isArray(i))for(let d=0;d<i.length;d++)Qu(i[d],s,o,u,c);else{const d=un(),f=qe();let y=$o(i)?i:xe(i.provide),E=Ev(i);const O=_r(),P=1048575&O.providerIndexes,$=O.directiveStart,ee=O.providerIndexes>>20;if($o(i)||!i.multi){const he=new eo(E,c,bd),Oe=si(y,s,c?P:P+ee,$);-1===Oe?(U(m(O,f),d,y),ip(d,i,s.length),s.push(y),O.directiveStart++,O.directiveEnd++,c&&(O.providerIndexes+=1048576),o.push(he),f.push(he)):(o[Oe]=he,f[Oe]=he)}else{const he=si(y,s,P+ee,$),Oe=si(y,s,P,P+ee),et=he>=0&&o[he],ot=Oe>=0&&o[Oe];if(c&&!ot||!c&&!et){U(m(O,f),d,y);const wt=function Jo(i,s,o,u,c){const d=new eo(i,o,bd);return d.multi=[],d.index=s,d.componentProviders=0,RE(d,c,u&&!o),d}(c?OE:Ym,o.length,c,u,E);!c&&ot&&(o[Oe].providerFactory=wt),ip(d,i,s.length,0),s.push(y),O.directiveStart++,O.directiveEnd++,c&&(O.providerIndexes+=1048576),o.push(wt),f.push(wt)}else ip(d,i,he>-1?he:Oe,RE(o[c?Oe:he],E,!c&&u));!c&&u&&ot&&o[Oe].componentProviders++}}}function ip(i,s,o,u){const c=$o(s),d=function Iv(i){return!!i.useClass}(s);if(c||d){const E=(d?xe(s.useClass):s).prototype.ngOnDestroy;if(E){const O=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const P=O.indexOf(o);-1===P?O.push(o,[u,E]):O[P+1].push(u,E)}else O.push(o,E)}}}function RE(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function si(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function Ym(i,s,o,u){return Ju(this.multi,[])}function OE(i,s,o,u){const c=this.multi;let d;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=Qi(o,o[1],this.providerFactory.index,u);d=y.slice(0,f),Ju(c,d);for(let E=f;E<y.length;E++)d.push(y[E])}else d=[],Ju(c,d);return d}function Ju(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function sp(i,s=[]){return o=>{o.providersResolver=(u,c)=>function WI(i,s,o){const u=un();if(u.firstCreatePass){const c=ei(i);Qu(o,u.data,u.blueprint,c,!0),Qu(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class sc{}class ZI{resolveComponentFactory(s){throw function kE(i){const s=Error(`No component factory found for ${Qe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let $d=(()=>{class i{}return i.NULL=new ZI,i})();function Hd(){return iu(_r(),qe())}function iu(i,s){return new zd(In(i,s))}let zd=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Hd,i})();function PE(i){return i instanceof zd?i.nativeElement:i}class Jm{}let YI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function QI(){const i=qe(),o=Wn(_r().index,i);return function LE(i){return i[11]}(zn(o)?o:i)}(),i})(),JI=(()=>{class i{}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:()=>null}),i})();class Xu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const el=new Xu("13.1.3"),Xm={};function op(i,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(At(d)),ui(d))for(let y=10;y<d.length;y++){const E=d[y],O=E[1].firstChild;null!==O&&op(E[1],E,O,u)}const f=o.type;if(8&f)op(i,s,o.child,u);else if(32&f){const y=O_(o,s);let E;for(;E=y();)u.push(E)}else if(16&f){const y=j_(s,o);if(Array.isArray(y))u.push(...y);else{const E=jh(s[16]);op(E[1],E,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class qd{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return op(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ui(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(mg(s,u),Cl(o,u))}this._attachedToViewContainer=!1}L_(this._lView[1],this._lView)}onDestroy(s){iv(this._lView[1],this._lView,null,s)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){od(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Gi(i,s,o){No(!0);try{od(i,s,o)}finally{No(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pw(i,s){Rl(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new $e(902,"");this._appRef=s}}class VE extends qd{constructor(s){super(s),this._view=s}detectChanges(){pi(this._view)}checkNoChanges(){!function ff(i){No(!0);try{pi(i)}finally{No(!1)}}(this._view)}get context(){return null}}class es extends $d{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Hn(s);return new oc(o,this.ngModule)}}function UE(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const Xo=new Sr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Aw});class oc extends sc{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function q_(i){return i.map(Ol).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return UE(this.componentDef.inputs)}get outputs(){return UE(this.componentDef.outputs)}create(s,o,u,c){const d=(c=c||this.ngModule)?function jE(i,s){return{get:(o,u,c)=>{const d=i.get(o,Xm,c);return d!==Xm||u===Xm?d:s.get(o,u,c)}}}(s,c.injector):s,f=d.get(Jm,We),y=d.get(JI,null),E=f.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",P=u?function of(i,s,o){if(ve(i))return i.selectRootElement(s,o===ht.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Sl(f.createRenderer(null,this.componentDef),O,function BE(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(O)),$=this.componentDef.onPush?576:528,ee=function xv(i,s){return{components:[],scheduler:i||Aw,clean:iI,playerHandler:s||null,flags:0}}(),he=ed(0,null,null,1,0,null,null,null,null,null),Oe=ri(null,he,ee,$,null,null,f,E,y,d);let et,ot;Xs(Oe);try{const wt=function Cf(i,s,o,u,c,d){const f=o[1];o[20]=i;const E=ma(f,20,2,"#host",null),O=E.mergedAttrs=s.hostAttrs;null!==O&&(Fl(E,O,!0),null!==i&&(mu(c,i,O),null!==E.classes&&zc(c,i,E.classes),null!==E.styles&&Kh(c,i,E.styles)));const P=u.createRenderer(i,s),$=ri(o,Xc(s),null,s.onPush?64:16,o[20],E,u,P,d||null,null);return f.firstCreatePass&&(U(m(E,o),f,s.type),dv(f,E),cf(E,o.length,1)),id(o,$),o[20]=$}(P,this.componentDef,Oe,f,E);if(P)if(u)mu(E,P,["ng-version",el.full]);else{const{attrs:Ge,classes:jt}=function Hw(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let d=i[u];if("string"==typeof d)2===c?""!==d&&s.push(d,i[++u]):8===c&&o.push(d);else{if(!vo(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ge&&mu(E,P,Ge),jt&&jt.length>0&&zc(E,P,jt.join(" "))}if(ot=qn(he,20),void 0!==o){const Ge=ot.projection=[];for(let jt=0;jt<this.ngContentSelectors.length;jt++){const Dn=o[jt];Ge.push(null!=Dn?Array.from(Dn):null)}}et=function Sv(i,s,o,u,c){const d=o[1],f=function eI(i,s,o){const u=_r();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Vg(i,u,s,Gs(i,s,1,null),o));const c=Qi(s,i,u.directiveStart,u);ds(c,s);const d=In(u,s);return d&&ds(d,s),c}(d,o,s);if(u.components.push(f),i[8]=f,c&&c.forEach(E=>E(f,s)),s.contentQueries){const E=_r();s.contentQueries(1,f,E.directiveStart)}const y=_r();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(as(y.index),uf(o[1],y,0,y.directiveStart,y.directiveEnd,s),cv(s,f)),f}(wt,this.componentDef,Oe,ee,[Mv]),Jc(he,Oe,null)}finally{ra()}return new XI(this.componentType,et,iu(ot,Oe),Oe,ot)}}class XI extends class NE{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new VE(c),this.componentType=s}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class ac{}class $E{}const uc=new Map;class qE extends ac{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new es(this);const u=er(s);this._bootstrapComponents=fa(u.bootstrap),this._r3Injector=dd(s,o,[{provide:ac,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],Qe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=fs.THROW_IF_NOT_FOUND,u=ye.Default){return s===fs||s===ac||s===ud?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ey extends $E{constructor(s){super(),this.moduleType=s,null!==er(s)&&function tD(i){const s=new Set;!function o(u){const c=er(u,!0),d=c.id;null!==d&&(function HE(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Qe(s)} vs ${Qe(s.name)}`)}(d,uc.get(d),u),uc.set(d,u));const f=fa(c.imports);for(const y of f)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new qE(this.moduleType,s)}}function WE(i,s,o){const u=function Gr(){const i=de.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,c=qe();return c[u]===ln?function $i(i,s,o){return i[s]=o}(c,u,o?s.call(o):s()):function $l(i,s){return i[s]}(c,u)}function uy(i){return s=>{setTimeout(i,void 0,s)}}const To=class XE extends Ne.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,d,f;let y=s,E=o||(()=>null),O=u;if(s&&"object"==typeof s){const $=s;y=null===(c=$.next)||void 0===c?void 0:c.bind($),E=null===(d=$.error)||void 0===d?void 0:d.bind($),O=null===(f=$.complete)||void 0===f?void 0:f.bind($)}this.__isAsync&&(E=uy(E),y&&(y=uy(y)),O&&(O=uy(O)));const P=super.subscribe({next:y,error:E,complete:O});return s instanceof Ke.w0&&s.add(P),P}};function e0(){return this._results[Ru()]()}class cc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ru(),u=cc.prototype;u[o]||(u[o]=e0)}get changes(){return this._changes||(this._changes=new To)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=ci(s);(this._changesDetected=!function Ch(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ta=(()=>{class i{}return i.__NG_ELEMENT_ID__=t0,i})();const sl=Ta,iD=class extends sl{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=ri(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),Jc(o,u,s),new qd(u)}};function t0(){return ap(_r(),qe())}function ap(i,s){return 4&i.type?new iD(s,i,iu(i,s)):null}let up=(()=>{class i{}return i.__NG_ELEMENT_ID__=sD,i})();function sD(){return n0(_r(),qe())}const Zd=up,su=class extends Zd{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const s=R(this._hostTNode,this._hostLView);if(Ba(s)){const o=to(s,this._hostLView),u=aa(s);return new us(o[1].data[u+8],o)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ou(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,d){const f=s&&!function Ga(i){return"function"==typeof i}(s);let y;if(f)y=o;else{const $=o||{};y=$.index,u=$.injector,c=$.projectableNodes,d=$.ngModuleRef}const E=f?s:new oc(Hn(s)),O=u||this.parentInjector;if(!d&&null==E.ngModule&&O){const $=O.get(ac,null);$&&(d=$)}const P=E.create(O,c,void 0,d);return this.insert(P.hostView,y),P}insert(s,o){const u=s._lView,c=u[1];if(function M(i){return ui(i[3])}(u)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const $=u[3],ee=new su($,$[6],$[3]);ee.detach(ee.indexOf(s))}}const d=this._adjustIndex(o),f=this._lContainer;!function P_(i,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],Th(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const f=s[17];null!==f&&o!==f&&function Lw(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(f,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(c,u,f,d);const y=vg(d,f),E=u[11],O=zh(E,f[7]);return null!==O&&function kw(i,s,o,u,c,d){u[0]=c,u[6]=s,Rl(i,u,o,1,c,d)}(c,f[6],E,u,O,y),s.attachToViewContainerRef(),Th(lp(f),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ou(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=mg(this._lContainer,o);u&&(Cl(lp(this._lContainer),o),L_(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=mg(this._lContainer,o);return u&&null!=Cl(lp(this._lContainer),o)?new qd(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function ou(i){return i[8]}function lp(i){return i[8]||(i[8]=[])}function n0(i,s){let o;const u=s[i.index];if(ui(u))o=u;else{let c;if(8&i.type)c=At(u);else{const d=s[11];c=d.createComment("");const f=In(i,s);ga(d,zh(d,f),c,function Uw(i,s){return ve(i)?i.nextSibling(s):s.nextSibling}(d,f),!1)}s[i.index]=o=df(u,s,c,i),id(s,o)}return new su(o,i,s)}class dy{constructor(s){this.queryList=s,this.matches=null}clone(){return new dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class cp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const f=o.getByIndex(d);c.push(this.queries[f.indexInDeclarationView].clone())}return new cp(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Aa(s,o).matches&&this.queries[o].setDirty()}}class dc{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class hc{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new hc(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ol{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ol(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,r0(o,d)),this.matchTNodeWithReadOption(s,o,pn(o,s,d,!1,!1))}else u===Ta?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,pn(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===zd||c===up||c===Ta&&4&o.type)this.addMatch(o.index,-2);else{const d=pn(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function r0(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Rs(i,s,o,u){return-1===o?function s0(i,s){return 11&i.type?iu(i,s):4&i.type?ap(i,s):null}(s,i):-2===o?function o0(i,s,o){return o===zd?iu(s,i):o===Ta?ap(s,i):o===up?n0(s,i):void 0}(i,s,u):Qi(i,i[1],o,s)}function Yd(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=i.data,f=o.matches,y=[];for(let E=0;E<f.length;E+=2){const O=f[E];y.push(O<0?null:Rs(s,d[O],f[E+1],o.metadata.read))}c.matches=y}return c.matches}function fc(i,s,o,u){const c=i.queries.getByIndex(o),d=c.matches;if(null!==d){const f=Yd(i,s,c,o);for(let y=0;y<d.length;y+=2){const E=d[y];if(E>0)u.push(f[y/2]);else{const O=d[y+1],P=s[-E];for(let $=10;$<P.length;$++){const ee=P[$];ee[17]===ee[3]&&fc(ee[1],ee,O,u)}if(null!==P[9]){const $=P[9];for(let ee=0;ee<$.length;ee++){const he=$[ee];fc(he[1],he,O,u)}}}}}return u}function hy(i){const s=qe(),o=un(),u=na();Pa(u+1);const c=Aa(o,u);if(i.dirty&&Vi(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const d=c.crossesNgTemplate?fc(o,s,u,[]):Yd(o,s,c,u);i.reset(d,PE),i.notifyOnChanges()}return!0}return!1}function al(i,s,o,u){const c=un();if(c.firstCreatePass){const d=_r();(function ll(i,s,o){null===i.queries&&(i.queries=new hc),i.queries.track(new ol(s,o))})(c,new dc(s,o,u),d.index),function u0(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function a0(i,s,o){const u=new cc(4==(4&o));iv(i,s,u,u.destroy),null===s[19]&&(s[19]=new cp),s[19].queries.push(new dy(u))}(c,qe(),o)}function fy(){return function ul(i,s){return i[19].queries[s].queryList}(qe(),na())}function Aa(i,s){return i.queries.getByIndex(s)}function Ep(...i){}const wp=new Sr("Application Initializer");let hl=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Qa(d))o.push(d);else if(Rt(d)){const f=new Promise((y,E)=>{d.subscribe({complete:y,error:E})});o.push(f)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(wi(wp,8))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const Ip=new Sr("AppId"),rh={provide:Ip,useFactory:function Dp(){return`${gc()}${gc()}${gc()}`},deps:[]};function gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bp=new Sr("Platform Initializer"),Cp=new Sr("Platform ID"),Tp=new Sr("appBootstrapListener");let I0=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const ih=new Sr("LocaleId"),D0=new Sr("DefaultCurrencyCode");class Ap{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let fl=(()=>{class i{compileModuleSync(o){return new ey(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=fa(er(o).declarations).reduce((f,y)=>{const E=Hn(y);return E&&f.push(new oc(E)),f},[]);return new Ap(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const ED=(()=>Promise.resolve(0))();function Cy(i){"undefined"==typeof Zone?ED.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class $s{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function wD(){let i=Te.requestAnimationFrame,s=Te.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function sh(i){const s=()=>{!function ID(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Te,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,oh(i),i.isCheckStableRunning=!0,Ay(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),oh(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,f,y)=>{try{return pl(i),o.invokeTask(c,d,f,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Sp(i)}},onInvoke:(o,u,c,d,f,y,E)=>{try{return pl(i),o.invoke(c,d,f,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),Sp(i)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,oh(i),Ay(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+c,s,Ty,Ep,Ep);try{return d.runTask(f,o,u)}finally{d.cancelTask(f)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ty={};function Ay(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function oh(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function pl(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Sp(i){i._nesting--,Ay(i)}class xp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let mc=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),Cy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(wi($s))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})(),Mp=(()=>{class i{constructor(){this._applications=new Map,ah.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return ah.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();class b0{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function Sy(i){ah=i}let yi,ah=new b0;const T0=new Sr("AllowMultipleToken");class My{constructor(s,o){this.name=s,this.token=o}}function Rp(i,s,o=[]){const u=`Platform: ${s}`,c=new Sr(u);return(d=[])=>{let f=Ry();if(!f||f.injector.get(T0,!1))if(i)i(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:mf,useValue:"platform"});!function DD(i){if(yi&&!yi.destroyed&&!yi.injector.get(T0,!1))throw new $e(400,"");yi=i.get(gl);const s=i.get(bp,null);s&&s.forEach(o=>o())}(fs.create({providers:y,name:u}))}return function Op(i){const s=Ry();if(!s)throw new $e(401,"");return s}()}}function Ry(){return yi&&!yi.destroyed?yi:null}let gl=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function Oy(i,s){let o;return o="noop"===i?new xp:("zone.js"===i?void 0:i)||new $s({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:$s,useValue:y}];return y.run(()=>{const O=fs.create({providers:E,parent:this.injector,name:o.moduleType.name}),P=o.create(O),$=P.injector.get(Bh,null);if(!$)throw new $e(402,"");return y.runOutsideAngular(()=>{const ee=y.onError.subscribe({next:he=>{$.handleError(he)}});P.onDestroy(()=>{Np(this._modules,P),ee.unsubscribe()})}),function bD(i,s,o){try{const u=o();return Qa(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}($,y,()=>{const ee=P.injector.get(hl);return ee.runInitializers(),ee.donePromise.then(()=>(function yE(i){on(i,"Expected localeId to be defined"),"string"==typeof i&&(Fm=i.toLowerCase().replace(/_/g,"-"))}(P.injector.get(ih,zf)||zf),this._moduleDoBootstrap(P),P))})})}bootstrapModule(o,u=[]){const c=S0({},u);return function C0(i,s,o){const u=new ey(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(yc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new $e(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(wi(fs))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function S0(i,s){return Array.isArray(s)?s.reduce(S0,i):Object.assign(Object.assign({},i),s)}let yc=(()=>{class i{constructor(o,u,c,d,f){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new Fe.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),E=new Fe.y(O=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),Cy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{P.unsubscribe(),$.unsubscribe()}});this.isStable=function we(...i){const s=(0,me.yG)(i),o=(0,me._6)(i,1/0),u=i;return u.length?1===u.length?(0,N.Xf)(u[0]):(0,v.J)(o)((0,K.D)(u,s)):ue.E}(y,E.pipe(function it(i={}){const{connector:s=(()=>new Ne.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=i;return d=>{let f=null,y=null,E=null,O=0,P=!1,$=!1;const ee=()=>{null==y||y.unsubscribe(),y=null},he=()=>{ee(),f=E=null,P=$=!1},Oe=()=>{const et=f;he(),null==et||et.unsubscribe()};return(0,Ue.e)((et,ot)=>{O++,!$&&!P&&ee();const wt=E=null!=E?E:s();ot.add(()=>{O--,0===O&&!$&&!P&&(y=Be(Oe,c))}),wt.subscribe(ot),f||(f=new te.Hp({next:Ge=>wt.next(Ge),error:Ge=>{$=!0,ee(),y=Be(he,o,Ge),wt.error(Ge)},complete:()=>{P=!0,ee(),y=Be(he,u),wt.complete()}}),(0,K.D)(et).subscribe(f))})(d)}}()))}bootstrap(o,u){if(!this._initStatus.done)throw new $e(405,"");let c;c=o instanceof sc?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function xy(i){return i.isBoundToModule}(c)?void 0:this._injector.get(ac),y=c.create(fs.NULL,[],u||c.selector,d),E=y.location.nativeElement,O=y.injector.get(mc,null),P=O&&y.injector.get(Mp);return O&&P&&P.registerApplication(E,O),y.onDestroy(()=>{this.detachView(y.hostView),Np(this.components,y),P&&P.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new $e(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Np(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Tp,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(wi($s),wi(fs),wi(Bh),wi($d),wi(hl))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function Np(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let M0=!0;function ky(){M0=!1}let Fy=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ly,i})();function Ly(i){return function Vy(i,s,o){if(Hs(i)&&!o){const u=Wn(i.index,s);return new qd(u,u)}return 47&i.type?new qd(s[16],s):null}(_r(),qe(),16==(16&i))}class P0{constructor(){}supports(s){return gd(s)}create(s){return new jy(s)}}const OD=(i,s)=>s;class jy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||OD}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const f=!u||o&&o.currentIndex<Lp(u,c,d)?o:u,y=Lp(f,c,d),E=f.currentIndex;if(f===u)c--,u=u._nextRemoved;else if(o=o._next,null==f.previousIndex)c++;else{d||(d=[]);const O=y-c,P=E-c;if(O!=P){for(let ee=0;ee<O;ee++){const he=ee<d.length?d[ee]:d[ee]=0,Oe=he+ee;P<=Oe&&Oe<O&&(d[ee]=he+1)}d[f.previousIndex]=P-O}}y!==E&&s(f,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!gd(s))throw new $e(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,f,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)d=s[y],f=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,d,f,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,f,y),u=!0),o=o._next}else c=0,function pI(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Ru()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,y=>{f=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,y,f,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,f,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new Gy(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new F0),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Gy{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $y{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class F0{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new $y,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lp(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class L0{constructor(){}supports(s){return s instanceof Map||Ou(s)}create(){return new Hy}}class Hy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Ou(s)))throw new $e(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,f=c._next;return d&&(d._next=f),f&&(f._prev=d),c._next=null,c._prev=null,c}const u=new V0(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class V0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vp(){return new ph([new P0])}let ph=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Vp()),deps:[[i,new tn,new Vt]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new $e(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Vp}),i})();function Up(){return new Bp([new L0])}let Bp=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Up()),deps:[[i,new tn,new Vt]]}}find(o){const u=this.factories.find(d=>d.supports(o));if(u)return u;throw new $e(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Up}),i})();const zy=[new L0],qy=new ph([new P0]),kD=new Bp(zy),Wy=Rp(null,"core",[{provide:Cp,useValue:"unknown"},{provide:gl,deps:[fs]},{provide:Mp,deps:[]},{provide:I0,deps:[]}]),PD=[{provide:yc,useClass:yc,deps:[$s,fs,Bh,$d,hl]},{provide:Xo,deps:[$s],useFactory:function Yy(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:hl,useClass:hl,deps:[[new Vt,wp]]},{provide:fl,useClass:fl,deps:[]},rh,{provide:ph,useFactory:function Ky(){return qy},deps:[]},{provide:Bp,useFactory:function _c(){return kD},deps:[]},{provide:ih,useFactory:function B0(i){return i||function Zy(){return"undefined"!=typeof $localize&&$localize.locale||zf}()},deps:[[new ut(ih),new Vt,new tn]]},{provide:D0,useValue:"USD"}];let Ma=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(wi(yc))},i.\u0275mod=sr({type:i}),i.\u0275inj=Vr({providers:PD}),i})()},2382:(bt,Me,G)=>{"use strict";G.d(Me,{Wl:()=>Qe,Fj:()=>xe,qu:()=>Vi,u:()=>Ws,sg:()=>ks,u5:()=>qn,JJ:()=>oe,JL:()=>ze,UX:()=>yr,kI:()=>Z,_Y:()=>zn});var v=G(1223),N=G(9808),ue=G(8306),me=G(4742),K=G(8421),we=G(7669),Ne=G(5403),Ke=G(3268),Fe=G(1810),te=G(8996),Ue=G(4004);let it=(()=>{class M{constructor(w,B){this._renderer=w,this._elementRef=B,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(w,B){this._renderer.setProperty(this._elementRef.nativeElement,w,B)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return M.\u0275fac=function(w){return new(w||M)(v.Y36(v.Qsj),v.Y36(v.SBq))},M.\u0275dir=v.lG2({type:M}),M})(),Be=(()=>{class M extends it{}return M.\u0275fac=function(){let C;return function(B){return(C||(C=v.n5z(M)))(B||M)}}(),M.\u0275dir=v.lG2({type:M,features:[v.qOj]}),M})();const Ye=new v.OlP("NgValueAccessor"),It={provide:Ye,useExisting:(0,v.Gpc)(()=>Qe),multi:!0};let Qe=(()=>{class M extends Be{writeValue(w){this.setProperty("checked",w)}}return M.\u0275fac=function(){let C;return function(B){return(C||(C=v.n5z(M)))(B||M)}}(),M.\u0275dir=v.lG2({type:M,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(w,B){1&w&&v.NdJ("change",function(Dt){return B.onChange(Dt.target.checked)})("blur",function(){return B.onTouched()})},features:[v._Bn([It]),v.qOj]}),M})();const at={provide:Ye,useExisting:(0,v.Gpc)(()=>xe),multi:!0},Ct=new v.OlP("CompositionEventMode");let xe=(()=>{class M extends it{constructor(w,B,de){super(w,B),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dt(){const M=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(w){this.setProperty("value",null==w?"":w)}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return M.\u0275fac=function(w){return new(w||M)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Ct,8))},M.\u0275dir=v.lG2({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,B){1&w&&v.NdJ("input",function(Dt){return B._handleInput(Dt.target.value)})("blur",function(){return B.onTouched()})("compositionstart",function(){return B._compositionStart()})("compositionend",function(Dt){return B._compositionEnd(Dt.target.value)})},features:[v._Bn([at]),v.qOj]}),M})();function mt(M){return null==M||0===M.length}function rt(M){return null!=M&&"number"==typeof M.length}const $e=new v.OlP("NgValidators"),Nt=new v.OlP("NgAsyncValidators"),fe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Z{static min(C){return function pe(M){return C=>{if(mt(C.value)||mt(M))return null;const w=parseFloat(C.value);return!isNaN(w)&&w<M?{min:{min:M,actual:C.value}}:null}}(C)}static max(C){return function De(M){return C=>{if(mt(C.value)||mt(M))return null;const w=parseFloat(C.value);return!isNaN(w)&&w>M?{max:{max:M,actual:C.value}}:null}}(C)}static required(C){return function Re(M){return mt(M.value)?{required:!0}:null}(C)}static requiredTrue(C){return function He(M){return!0===M.value?null:{required:!0}}(C)}static email(C){return function ge(M){return mt(M.value)||fe.test(M.value)?null:{email:!0}}(C)}static minLength(C){return function Tt(M){return C=>mt(C.value)||!rt(C.value)?null:C.value.length<M?{minlength:{requiredLength:M,actualLength:C.value.length}}:null}(C)}static maxLength(C){return function Ut(M){return C=>rt(C.value)&&C.value.length>M?{maxlength:{requiredLength:M,actualLength:C.value.length}}:null}(C)}static pattern(C){return function Gn(M){if(!M)return pt;let C,w;return"string"==typeof M?(w="","^"!==M.charAt(0)&&(w+="^"),w+=M,"$"!==M.charAt(M.length-1)&&(w+="$"),C=new RegExp(w)):(w=M.toString(),C=M),B=>{if(mt(B.value))return null;const de=B.value;return C.test(de)?null:{pattern:{requiredPattern:w,actualValue:de}}}}(C)}static nullValidator(C){return null}static compose(C){return sn(C)}static composeAsync(C){return on(C)}}function pt(M){return null}function nr(M){return null!=M}function Ln(M){const C=(0,v.QGY)(M)?(0,te.D)(M):M;return(0,v.CqO)(C),C}function yn(M){let C={};return M.forEach(w=>{C=null!=w?Object.assign(Object.assign({},C),w):C}),0===Object.keys(C).length?null:C}function rr(M,C){return C.map(w=>w(M))}function vr(M){return M.map(C=>function ir(M){return!M.validate}(C)?C:w=>C.validate(w))}function sn(M){if(!M)return null;const C=M.filter(nr);return 0==C.length?null:function(w){return yn(rr(w,C))}}function Tn(M){return null!=M?sn(vr(M)):null}function on(M){if(!M)return null;const C=M.filter(nr);return 0==C.length?null:function(w){return function X(...M){const C=(0,we.jO)(M),{args:w,keys:B}=(0,me.D)(M),de=new ue.y(Dt=>{const{length:Pn}=w;if(!Pn)return void Dt.complete();const Ar=new Array(Pn);let Ui=Pn,is=Pn;for(let vs=0;vs<Pn;vs++){let Es=!1;(0,K.Xf)(w[vs]).subscribe(new Ne.Q(Dt,qe=>{Es||(Es=!0,is--),Ar[vs]=qe},()=>Ui--,void 0,()=>{(!Ui||!Es)&&(is||Dt.next(B?(0,Fe.n)(B,Ar):Ar),Dt.complete())}))}});return C?de.pipe((0,Ke.Z)(C)):de}(rr(w,C).map(Ln)).pipe((0,Ue.U)(yn))}}function kt(M){return null!=M?on(vr(M)):null}function On(M,C){return null===M?[C]:Array.isArray(M)?[...M,C]:[M,C]}function hr(M){return M._rawValidators}function Lr(M){return M._rawAsyncValidators}function Ht(M){return M?Array.isArray(M)?M:[M]:[]}function An(M,C){return Array.isArray(M)?M.includes(C):M===C}function Vr(M,C){const w=Ht(C);return Ht(M).forEach(de=>{An(w,de)||w.push(de)}),w}function fr(M,C){return Ht(C).filter(w=>!An(M,w))}class gr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(C){this._rawValidators=C||[],this._composedValidatorFn=Tn(this._rawValidators)}_setAsyncValidators(C){this._rawAsyncValidators=C||[],this._composedAsyncValidatorFn=kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(C){this._onDestroyCallbacks.push(C)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(C=>C()),this._onDestroyCallbacks=[]}reset(C){this.control&&this.control.reset(C)}hasError(C,w){return!!this.control&&this.control.hasError(C,w)}getError(C,w){return this.control?this.control.getError(C,w):null}}class je extends gr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dn extends gr{get formDirective(){return null}get path(){return null}}class mr{constructor(C){this._cd=C}is(C){var w,B,de;return"submitted"===C?!!(null===(w=this._cd)||void 0===w?void 0:w.submitted):!!(null===(de=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===de?void 0:de[C])}}let oe=(()=>{class M extends mr{constructor(w){super(w)}}return M.\u0275fac=function(w){return new(w||M)(v.Y36(je,2))},M.\u0275dir=v.lG2({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,B){2&w&&v.ekj("ng-untouched",B.is("untouched"))("ng-touched",B.is("touched"))("ng-pristine",B.is("pristine"))("ng-dirty",B.is("dirty"))("ng-valid",B.is("valid"))("ng-invalid",B.is("invalid"))("ng-pending",B.is("pending"))},features:[v.qOj]}),M})(),ze=(()=>{class M extends mr{constructor(w){super(w)}}return M.\u0275fac=function(w){return new(w||M)(v.Y36(dn,10))},M.\u0275dir=v.lG2({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,B){2&w&&v.ekj("ng-untouched",B.is("untouched"))("ng-touched",B.is("touched"))("ng-pristine",B.is("pristine"))("ng-dirty",B.is("dirty"))("ng-valid",B.is("valid"))("ng-invalid",B.is("invalid"))("ng-pending",B.is("pending"))("ng-submitted",B.is("submitted"))},features:[v.qOj]}),M})();function xt(M,C){ae(M,C),C.valueAccessor.writeValue(M.value),function _e(M,C){C.valueAccessor.registerOnChange(w=>{M._pendingValue=w,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&Mt(M,C)})}(M,C),function En(M,C){const w=(B,de)=>{C.valueAccessor.writeValue(B),de&&C.viewToModelUpdate(B)};M.registerOnChange(w),C._registerOnDestroy(()=>{M._unregisterOnChange(w)})}(M,C),function _t(M,C){C.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&Mt(M,C),"submit"!==M.updateOn&&M.markAsTouched()})}(M,C),function Y(M,C){if(C.valueAccessor.setDisabledState){const w=B=>{C.valueAccessor.setDisabledState(B)};M.registerOnDisabledChange(w),C._registerOnDestroy(()=>{M._unregisterOnDisabledChange(w)})}}(M,C)}function Bt(M,C,w=!0){const B=()=>{};C.valueAccessor&&(C.valueAccessor.registerOnChange(B),C.valueAccessor.registerOnTouched(B)),Pe(M,C),M&&(C._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function q(M,C){M.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(C)})}function ae(M,C){const w=hr(M);null!==C.validator?M.setValidators(On(w,C.validator)):"function"==typeof w&&M.setValidators([w]);const B=Lr(M);null!==C.asyncValidator?M.setAsyncValidators(On(B,C.asyncValidator)):"function"==typeof B&&M.setAsyncValidators([B]);const de=()=>M.updateValueAndValidity();q(C._rawValidators,de),q(C._rawAsyncValidators,de)}function Pe(M,C){let w=!1;if(null!==M){if(null!==C.validator){const de=hr(M);if(Array.isArray(de)&&de.length>0){const Dt=de.filter(Pn=>Pn!==C.validator);Dt.length!==de.length&&(w=!0,M.setValidators(Dt))}}if(null!==C.asyncValidator){const de=Lr(M);if(Array.isArray(de)&&de.length>0){const Dt=de.filter(Pn=>Pn!==C.asyncValidator);Dt.length!==de.length&&(w=!0,M.setAsyncValidators(Dt))}}}const B=()=>{};return q(C._rawValidators,B),q(C._rawAsyncValidators,B),w}function Mt(M,C){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),C.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function Oi(M,C){const w=M.indexOf(C);w>-1&&M.splice(w,1)}const Nn="VALID",Er="INVALID",er="PENDING",Qr="DISABLED";function Ur(M){return(ie(M)?M.validators:M)||null}function ai(M){return Array.isArray(M)?Tn(M):M||null}function wr(M,C){return(ie(C)?C.asyncValidators:M)||null}function Un(M){return Array.isArray(M)?kt(M):M||null}function ie(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}const Q=M=>M instanceof xn,V=M=>M instanceof wn,se=M=>M instanceof zi;function Ie(M){return Q(M)?M.value:M.getRawValue()}function ct(M,C){const w=V(M),B=M.controls;if(!(w?Object.keys(B):B).length)throw new v.vHH(1e3,"");if(!B[C])throw new v.vHH(1001,"")}function Yt(M,C){V(M),M._forEachChild((B,de)=>{if(void 0===C[de])throw new v.vHH(1002,"")})}class cn{constructor(C,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=C,this._rawAsyncValidators=w,this._composedValidatorFn=ai(this._rawValidators),this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(C){this._rawValidators=this._composedValidatorFn=C}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(C){this._rawAsyncValidators=this._composedAsyncValidatorFn=C}get parent(){return this._parent}get valid(){return this.status===Nn}get invalid(){return this.status===Er}get pending(){return this.status==er}get disabled(){return this.status===Qr}get enabled(){return this.status!==Qr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(C){this._rawValidators=C,this._composedValidatorFn=ai(C)}setAsyncValidators(C){this._rawAsyncValidators=C,this._composedAsyncValidatorFn=Un(C)}addValidators(C){this.setValidators(Vr(C,this._rawValidators))}addAsyncValidators(C){this.setAsyncValidators(Vr(C,this._rawAsyncValidators))}removeValidators(C){this.setValidators(fr(C,this._rawValidators))}removeAsyncValidators(C){this.setAsyncValidators(fr(C,this._rawAsyncValidators))}hasValidator(C){return An(this._rawValidators,C)}hasAsyncValidator(C){return An(this._rawAsyncValidators,C)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(C={}){this.touched=!0,this._parent&&!C.onlySelf&&this._parent.markAsTouched(C)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(C=>C.markAllAsTouched())}markAsUntouched(C={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}markAsDirty(C={}){this.pristine=!1,this._parent&&!C.onlySelf&&this._parent.markAsDirty(C)}markAsPristine(C={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}markAsPending(C={}){this.status=er,!1!==C.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!C.onlySelf&&this._parent.markAsPending(C)}disable(C={}){const w=this._parentMarkedDirty(C.onlySelf);this.status=Qr,this.errors=null,this._forEachChild(B=>{B.disable(Object.assign(Object.assign({},C),{onlySelf:!0}))}),this._updateValue(),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},C),{skipPristineCheck:w})),this._onDisabledChange.forEach(B=>B(!0))}enable(C={}){const w=this._parentMarkedDirty(C.onlySelf);this.status=Nn,this._forEachChild(B=>{B.enable(Object.assign(Object.assign({},C),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},C),{skipPristineCheck:w})),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(C){this._parent&&!C.onlySelf&&(this._parent.updateValueAndValidity(C),C.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(C){this._parent=C}updateValueAndValidity(C={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nn||this.status===er)&&this._runAsyncValidator(C.emitEvent)),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!C.onlySelf&&this._parent.updateValueAndValidity(C)}_updateTreeValidity(C={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(C)),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qr:Nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(C){if(this.asyncValidator){this.status=er,this._hasOwnPendingAsyncValidator=!0;const w=Ln(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(B=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(B,{emitEvent:C})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(C,w={}){this.errors=C,this._updateControlsErrors(!1!==w.emitEvent)}get(C){return function Ni(M,C,w){if(null==C||(Array.isArray(C)||(C=C.split(w)),Array.isArray(C)&&0===C.length))return null;let B=M;return C.forEach(de=>{B=V(B)?B.controls.hasOwnProperty(de)?B.controls[de]:null:se(B)&&B.at(de)||null}),B}(this,C,".")}getError(C,w){const B=w?this.get(w):this;return B&&B.errors?B.errors[C]:null}hasError(C,w){return!!this.getError(C,w)}get root(){let C=this;for(;C._parent;)C=C._parent;return C}_updateControlsErrors(C){this.status=this._calculateStatus(),C&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(C)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?Qr:this.errors?Er:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(er)?er:this._anyControlsHaveStatus(Er)?Er:Nn}_anyControlsHaveStatus(C){return this._anyControls(w=>w.status===C)}_anyControlsDirty(){return this._anyControls(C=>C.dirty)}_anyControlsTouched(){return this._anyControls(C=>C.touched)}_updatePristine(C={}){this.pristine=!this._anyControlsDirty(),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}_updateTouched(C={}){this.touched=this._anyControlsTouched(),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}_isBoxedValue(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}_registerOnCollectionChange(C){this._onCollectionChange=C}_setUpdateStrategy(C){ie(C)&&null!=C.updateOn&&(this._updateOn=C.updateOn)}_parentMarkedDirty(C){return!C&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xn extends cn{constructor(C=null,w,B){super(Ur(w),wr(B,w)),this._onChange=[],this._pendingChange=!1,this._applyFormState(C),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(C,w={}){this.value=this._pendingValue=C,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(C,w={}){this.setValue(C,w)}reset(C=null,w={}){this._applyFormState(C),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(C){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(C){this._onChange.push(C)}_unregisterOnChange(C){Oi(this._onChange,C)}registerOnDisabledChange(C){this._onDisabledChange.push(C)}_unregisterOnDisabledChange(C){Oi(this._onDisabledChange,C)}_forEachChild(C){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(C){this._isBoxedValue(C)?(this.value=this._pendingValue=C.value,C.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=C}}class wn extends cn{constructor(C,w,B){super(Ur(w),wr(B,w)),this.controls=C,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(C,w){return this.controls[C]?this.controls[C]:(this.controls[C]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(C,w,B={}){this.registerControl(C,w),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}removeControl(C,w={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(C,w,B={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],w&&this.registerControl(C,w),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}contains(C){return this.controls.hasOwnProperty(C)&&this.controls[C].enabled}setValue(C,w={}){Yt(this,C),Object.keys(C).forEach(B=>{ct(this,B),this.controls[B].setValue(C[B],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(C,w={}){null!=C&&(Object.keys(C).forEach(B=>{this.controls[B]&&this.controls[B].patchValue(C[B],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(C={},w={}){this._forEachChild((B,de)=>{B.reset(C[de],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(C,w,B)=>(C[B]=Ie(w),C))}_syncPendingControls(){let C=this._reduceChildren(!1,(w,B)=>!!B._syncPendingControls()||w);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){Object.keys(this.controls).forEach(w=>{const B=this.controls[w];B&&C(B,w)})}_setUpControls(){this._forEachChild(C=>{C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(C){for(const w of Object.keys(this.controls)){const B=this.controls[w];if(this.contains(w)&&C(B))return!0}return!1}_reduceValue(){return this._reduceChildren({},(C,w,B)=>((w.enabled||this.disabled)&&(C[B]=w.value),C))}_reduceChildren(C,w){let B=C;return this._forEachChild((de,Dt)=>{B=w(B,de,Dt)}),B}_allControlsDisabled(){for(const C of Object.keys(this.controls))if(this.controls[C].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class zi extends cn{constructor(C,w,B){super(Ur(w),wr(B,w)),this.controls=C,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(C){return this.controls[C]}push(C,w={}){this.controls.push(C),this._registerControl(C),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(C,w,B={}){this.controls.splice(C,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:B.emitEvent})}removeAt(C,w={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),this.controls.splice(C,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(C,w,B={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),this.controls.splice(C,1),w&&(this.controls.splice(C,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(C,w={}){Yt(this,C),C.forEach((B,de)=>{ct(this,de),this.at(de).setValue(B,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(C,w={}){null!=C&&(C.forEach((B,de)=>{this.at(de)&&this.at(de).patchValue(B,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(C=[],w={}){this._forEachChild((B,de)=>{B.reset(C[de],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(C=>Ie(C))}clear(C={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:C.emitEvent}))}_syncPendingControls(){let C=this.controls.reduce((w,B)=>!!B._syncPendingControls()||w,!1);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){this.controls.forEach((w,B)=>{C(w,B)})}_updateValue(){this.value=this.controls.filter(C=>C.enabled||this.disabled).map(C=>C.value)}_anyControls(C){return this.controls.some(w=>w.enabled&&C(w))}_setUpControls(){this._forEachChild(C=>this._registerControl(C))}_allControlsDisabled(){for(const C of this.controls)if(C.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(C){C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)}}let zn=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275dir=v.lG2({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})(),ei=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({}),M})();const Os=new v.OlP("NgModelWithFormControlWarning"),Oa={provide:dn,useExisting:(0,v.Gpc)(()=>ks)};let ks=(()=>{class M extends dn{constructor(w,B){super(),this.validators=w,this.asyncValidators=B,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(w),this._setAsyncValidators(B)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const B=this.form.get(w.path);return xt(B,w),B.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),B}getControl(w){return this.form.get(w.path)}removeControl(w){Bt(w.control||null,w,!1),Oi(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,B){this.form.get(w.path).setValue(B)}onSubmit(w){return this.submitted=!0,function Yr(M,C){M._syncPendingControls(),C.forEach(w=>{const B=w.control;"submit"===B.updateOn&&B._pendingChange&&(w.viewToModelUpdate(B._pendingValue),B._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(w),!1}onReset(){this.resetForm()}resetForm(w){this.form.reset(w),this.submitted=!1}_updateDomValue(){this.directives.forEach(w=>{const B=w.control,de=this.form.get(w.path);B!==de&&(Bt(B||null,w),Q(de)&&(xt(de,w),w.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const B=this.form.get(w.path);(function Xn(M,C){ae(M,C)})(B,w),B.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const B=this.form.get(w.path);B&&function fn(M,C){return Pe(M,C)}(B,w)&&B.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ae(this.form,this),this._oldForm&&Pe(this._oldForm,this)}_checkFormPresent(){}}return M.\u0275fac=function(w){return new(w||M)(v.Y36($e,10),v.Y36(Nt,10))},M.\u0275dir=v.lG2({type:M,selectors:[["","formGroup",""]],hostBindings:function(w,B){1&w&&v.NdJ("submit",function(Dt){return B.onSubmit(Dt)})("reset",function(){return B.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Oa]),v.qOj,v.TTD]}),M})();const Mo={provide:je,useExisting:(0,v.Gpc)(()=>Ws)};let Ws=(()=>{class M extends je{constructor(w,B,de,Dt,Pn){super(),this._ngModelWarningConfig=Pn,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(B),this._setAsyncValidators(de),this.valueAccessor=function _i(M,C){if(!C)return null;let w,B,de;return Array.isArray(C),C.forEach(Dt=>{Dt.constructor===xe?w=Dt:function sr(M){return Object.getPrototypeOf(M.constructor)===Be}(Dt)?B=Dt:de=Dt}),de||B||w||null}(0,Dt)}set isDisabled(w){}ngOnChanges(w){this._added||this._setUpControl(),function $n(M,C){if(!M.hasOwnProperty("model"))return!1;const w=M.model;return!!w.isFirstChange()||!Object.is(C,w.currentValue)}(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return function tt(M,C){return[...C.path,M]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return M._ngModelWarningSentOnce=!1,M.\u0275fac=function(w){return new(w||M)(v.Y36(dn,13),v.Y36($e,10),v.Y36(Nt,10),v.Y36(Ye,10),v.Y36(Os,8))},M.\u0275dir=v.lG2({type:M,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([Mo]),v.qOj,v.TTD]}),M})(),kn=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({imports:[[ei]]}),M})(),qn=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({imports:[kn]}),M})(),yr=(()=>{class M{static withConfig(w){return{ngModule:M,providers:[{provide:Os,useValue:w.warnOnNgModelWithFormControl}]}}}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({imports:[kn]}),M})(),Vi=(()=>{class M{group(w,B=null){const de=this._reduceControls(w);let Ar,Dt=null,Pn=null;return null!=B&&(function Wn(M){return void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn}(B)?(Dt=null!=B.validators?B.validators:null,Pn=null!=B.asyncValidators?B.asyncValidators:null,Ar=null!=B.updateOn?B.updateOn:void 0):(Dt=null!=B.validator?B.validator:null,Pn=null!=B.asyncValidator?B.asyncValidator:null)),new wn(de,{asyncValidators:Pn,updateOn:Ar,validators:Dt})}control(w,B,de){return new xn(w,B,de)}array(w,B,de){const Dt=w.map(Pn=>this._createControl(Pn));return new zi(Dt,B,de)}_reduceControls(w){const B={};return Object.keys(w).forEach(de=>{B[de]=this._createControl(w[de])}),B}_createControl(w){return Q(w)||V(w)||se(w)?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}}return M.\u0275fac=function(w){return new(w||M)},M.\u0275prov=v.Yz7({token:M,factory:M.\u0275fac,providedIn:yr}),M})()},1022:(bt,Me,G)=>{"use strict";G.d(Me,{F0:()=>Hr,yS:()=>Is,Bz:()=>Ua,lC:()=>_s});var v=G(1223),N=G(7579);class ue extends N.x{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const g=super._subscribe(m);return!g.closed&&m.next(this._value),g}getValue(){const{hasError:m,thrownError:g,_value:b}=this;if(m)throw g;return this._throwIfClosed(),b}next(m){super.next(this._value=m)}}var me=G(8306),K=G(4742),we=G(8996),Ne=G(4671),Ke=G(3268),Fe=G(7669),X=G(1810),te=G(5403),Ue=G(9672);function Ye(_,m,g){_?(0,Ue.f)(g,_,m):m()}const Qe=(0,G(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var at=G(8189);function Ct(..._){return function dt(){return(0,at.J)(1)}()((0,we.D)(_,(0,Fe.yG)(_)))}var xe=G(8421);function mt(_){return new me.y(m=>{(0,xe.Xf)(_()).subscribe(m)})}var rt=G(727),$e=G(4482);function Nt(){return(0,$e.e)((_,m)=>{let g=null;_._refCount++;const b=new te.Q(m,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(g=null);const R=_._connection,U=g;g=null,R&&(!U||R===U)&&R.unsubscribe(),m.unsubscribe()});_.subscribe(b),b.closed||(g=_.connect())})}class fe extends me.y{constructor(m,g){super(),this.source=m,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,null==m||m.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new rt.w0;const g=this.getSubject();m.add(this.source.subscribe(new te.Q(g,void 0,()=>{this._teardown(),g.complete()},b=>{this._teardown(),g.error(b)},()=>this._teardown()))),m.closed&&(this._connection=null,m=rt.w0.EMPTY)}return m}refCount(){return Nt()(this)}}var Z=G(9646),pe=G(515);function De(_,m){return(0,$e.e)((g,b)=>{let R=null,U=0,z=!1;const J=()=>z&&!R&&b.complete();g.subscribe(new te.Q(b,Ae=>{null==R||R.unsubscribe();let yt=0;const Xt=U++;(0,xe.Xf)(_(Ae,Xt)).subscribe(R=new te.Q(b,St=>b.next(m?m(Ae,St,Xt,yt++):St),()=>{R=null,J()}))},()=>{z=!0,J()}))})}function He(_,m,g,b,R){return(U,z)=>{let J=g,Ae=m,yt=0;U.subscribe(new te.Q(z,Xt=>{const St=yt++;Ae=J?_(Ae,Xt,St):(J=!0,Xt),b&&z.next(Ae)},R&&(()=>{J&&z.next(Ae),z.complete()})))}}function ge(_,m){return(0,$e.e)(He(_,m,arguments.length>=2,!0))}function Tt(_){return(0,$e.e)((m,g)=>{let U,b=null,R=!1;b=m.subscribe(new te.Q(g,void 0,void 0,z=>{U=(0,xe.Xf)(_(z,Tt(_)(m))),b?(b.unsubscribe(),b=null,U.subscribe(g)):R=!0})),R&&(b.unsubscribe(),b=null,U.subscribe(g))})}var Ut=G(9300);function Gn(_){return _<=0?()=>pe.E:(0,$e.e)((m,g)=>{let b=[];m.subscribe(new te.Q(g,R=>{b.push(R),_<b.length&&b.shift()},()=>{for(const R of b)g.next(R);g.complete()},void 0,()=>{b=null}))})}function pt(_=nr){return(0,$e.e)((m,g)=>{let b=!1;m.subscribe(new te.Q(g,R=>{b=!0,g.next(R)},()=>b?g.complete():g.error(_())))})}function nr(){return new Qe}function Ln(_){return(0,$e.e)((m,g)=>{let b=!1;m.subscribe(new te.Q(g,R=>{b=!0,g.next(R)},()=>{b||g.next(_),g.complete()}))})}var rr=G(5698);function ir(_,m){const g=arguments.length>=2;return b=>b.pipe(_?(0,Ut.h)((R,U)=>_(R,U,b)):Ne.y,(0,rr.q)(1),g?Ln(m):pt(()=>new Qe))}var sn=G(4004),Tn=G(4351),on=G(5577),kt=G(8505),On=G(9808);class hr{constructor(m,g){this.id=m,this.url=g}}class Lr extends hr{constructor(m,g,b="imperative",R=null){super(m,g),this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ht extends hr{constructor(m,g,b){super(m,g),this.urlAfterRedirects=b}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class An extends hr{constructor(m,g,b){super(m,g),this.reason=b}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vr extends hr{constructor(m,g,b){super(m,g),this.error=b}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fr extends hr{constructor(m,g,b,R){super(m,g),this.urlAfterRedirects=b,this.state=R}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends hr{constructor(m,g,b,R){super(m,g),this.urlAfterRedirects=b,this.state=R}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends hr{constructor(m,g,b,R,U){super(m,g),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=U}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dn extends hr{constructor(m,g,b,R){super(m,g),this.urlAfterRedirects=b,this.state=R}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends hr{constructor(m,g,b,R){super(m,g),this.urlAfterRedirects=b,this.state=R}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(m){this.route=m}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class re{constructor(m){this.route=m}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oe{constructor(m){this.snapshot=m}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(m){this.snapshot=m}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ye{constructor(m){this.snapshot=m}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(m){this.snapshot=m}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(m,g,b){this.routerEvent=m,this.position=g,this.anchor=b}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Le="primary";class Gt{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const g=this.params[m];return Array.isArray(g)?g[0]:g}return null}getAll(m){if(this.has(m)){const g=this.params[m];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function hn(_){return new Gt(_)}const _n="ngNavigationCancelingError";function Sn(_){const m=Error("NavigationCancelingError: "+_);return m[_n]=!0,m}function an(_,m,g){const b=g.path.split("/");if(b.length>_.length||"full"===g.pathMatch&&(m.hasChildren()||b.length<_.length))return null;const R={};for(let U=0;U<b.length;U++){const z=b[U],J=_[U];if(z.startsWith(":"))R[z.substring(1)]=J;else if(z!==J.path)return null}return{consumed:_.slice(0,b.length),posParams:R}}function Jt(_,m){const g=_?Object.keys(_):void 0,b=m?Object.keys(m):void 0;if(!g||!b||g.length!=b.length)return!1;let R;for(let U=0;U<g.length;U++)if(R=g[U],!Wt(_[R],m[R]))return!1;return!0}function Wt(_,m){if(Array.isArray(_)&&Array.isArray(m)){if(_.length!==m.length)return!1;const g=[..._].sort(),b=[...m].sort();return g.every((R,U)=>b[U]===R)}return _===m}function Vn(_){return Array.prototype.concat.apply([],_)}function lt(_){return _.length>0?_[_.length-1]:null}function tt(_,m){for(const g in _)_.hasOwnProperty(g)&&m(_[g],g)}function xt(_){return(0,v.CqO)(_)?_:(0,v.QGY)(_)?(0,we.D)(Promise.resolve(_)):(0,Z.of)(_)}const q={exact:function _e(_,m,g){if(!sr(_.segments,m.segments)||!Xn(_.segments,m.segments,g)||_.numberOfChildren!==m.numberOfChildren)return!1;for(const b in m.children)if(!_.children[b]||!_e(_.children[b],m.children[b],g))return!1;return!0},subset:Mt},Y={exact:function Pe(_,m){return Jt(_,m)},subset:function _t(_,m){return Object.keys(m).length<=Object.keys(_).length&&Object.keys(m).every(g=>Wt(_[g],m[g]))},ignored:()=>!0};function ae(_,m,g){return q[g.paths](_.root,m.root,g.matrixParams)&&Y[g.queryParams](_.queryParams,m.queryParams)&&!("exact"===g.fragment&&_.fragment!==m.fragment)}function Mt(_,m,g){return En(_,m,m.segments,g)}function En(_,m,g,b){if(_.segments.length>g.length){const R=_.segments.slice(0,g.length);return!(!sr(R,g)||m.hasChildren()||!Xn(R,g,b))}if(_.segments.length===g.length){if(!sr(_.segments,g)||!Xn(_.segments,g,b))return!1;for(const R in m.children)if(!_.children[R]||!Mt(_.children[R],m.children[R],b))return!1;return!0}{const R=g.slice(0,_.segments.length),U=g.slice(_.segments.length);return!!(sr(_.segments,R)&&Xn(_.segments,R,b)&&_.children[Le])&&En(_.children[Le],m,U,b)}}function Xn(_,m,g){return m.every((b,R)=>Y[g](_[R].parameters,b.parameters))}class fn{constructor(m,g,b){this.root=m,this.queryParams=g,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return oo.serialize(this)}}class Ft{constructor(m,g){this.segments=m,this.children=g,this.parent=null,tt(g,(b,R)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hn(this)}}class Zt{constructor(m,g){this.path=m,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=hn(this.parameters)),this._parameterMap}toString(){return wr(this)}}function sr(_,m){return _.length===m.length&&_.every((g,b)=>g.path===m[b].path)}class _i{}class Oi{parse(m){const g=new cn(m);return new fn(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(m){const g=`/${Nn(m.root,!0)}`,b=function ie(_){const m=Object.keys(_).map(g=>{const b=_[g];return Array.isArray(b)?b.map(R=>`${er(g)}=${er(R)}`).join("&"):`${er(g)}=${er(b)}`}).filter(g=>!!g);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${g}${b}${"string"==typeof m.fragment?`#${function Qr(_){return encodeURI(_)}(m.fragment)}`:""}`}}const oo=new Oi;function Hn(_){return _.segments.map(m=>wr(m)).join("/")}function Nn(_,m){if(!_.hasChildren())return Hn(_);if(m){const g=_.children[Le]?Nn(_.children[Le],!1):"",b=[];return tt(_.children,(R,U)=>{U!==Le&&b.push(`${U}:${Nn(R,!1)}`)}),b.length>0?`${g}(${b.join("//")})`:g}{const g=function Yr(_,m){let g=[];return tt(_.children,(b,R)=>{R===Le&&(g=g.concat(m(b,R)))}),tt(_.children,(b,R)=>{R!==Le&&(g=g.concat(m(b,R)))}),g}(_,(b,R)=>R===Le?[Nn(_.children[Le],!1)]:[`${R}:${Nn(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Le]?`${Hn(_)}/${g[0]}`:`${Hn(_)}/(${g.join("//")})`}}function Er(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(_){return Er(_).replace(/%3B/gi,";")}function Ni(_){return Er(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ur(_){return decodeURIComponent(_)}function ai(_){return Ur(_.replace(/\+/g,"%20"))}function wr(_){return`${Ni(_.path)}${function Un(_){return Object.keys(_).map(m=>`;${Ni(m)}=${Ni(_[m])}`).join("")}(_.parameters)}`}const Q=/^[^\/()?;=#]+/;function V(_){const m=_.match(Q);return m?m[0]:""}const se=/^[^=?&#]+/,ct=/^[^&#]+/;class cn{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(m.length>0||Object.keys(g).length>0)&&(b[Le]=new Ft(m,g)),b}parseSegment(){const m=V(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(m),new Zt(Ur(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const g=V(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const R=V(this.remaining);R&&(b=R,this.capture(b))}m[Ur(g)]=Ur(b)}parseQueryParam(m){const g=function Ie(_){const m=_.match(se);return m?m[0]:""}(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const z=function Yt(_){const m=_.match(ct);return m?m[0]:""}(this.remaining);z&&(b=z,this.capture(b))}const R=ai(g),U=ai(b);if(m.hasOwnProperty(R)){let z=m[R];Array.isArray(z)||(z=[z],m[R]=z),z.push(U)}else m[R]=U}parseParens(m){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=V(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new Error(`Cannot parse url '${this.url}'`);let U;b.indexOf(":")>-1?(U=b.substr(0,b.indexOf(":")),this.capture(U),this.capture(":")):m&&(U=Le);const z=this.parseChildren();g[U]=1===Object.keys(z).length?z[Le]:new Ft([],z),this.consumeOptional("//")}return g}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new Error(`Expected "${m}".`)}}class xn{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const g=this.pathFromRoot(m);return g.length>1?g[g.length-2]:null}children(m){const g=wn(m,this._root);return g?g.children.map(b=>b.value):[]}firstChild(m){const g=wn(m,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(m){const g=zi(m,this._root);return g.length<2?[]:g[g.length-2].children.map(R=>R.value).filter(R=>R!==m)}pathFromRoot(m){return zi(m,this._root).map(g=>g.value)}}function wn(_,m){if(_===m.value)return m;for(const g of m.children){const b=wn(_,g);if(b)return b}return null}function zi(_,m){if(_===m.value)return[m];for(const g of m.children){const b=zi(_,g);if(b.length)return b.unshift(m),b}return[]}class pr{constructor(m,g){this.value=m,this.children=g}toString(){return`TreeNode(${this.value})`}}function Lt(_){const m={};return _&&_.children.forEach(g=>m[g.value.outlet]=g),m}class ki extends xn{constructor(m,g){super(m),this.snapshot=g,bn(this,m)}toString(){return this.snapshot.toString()}}function Tr(_,m){const g=function Ao(_,m){const z=new Xr([],{},{},"",{},Le,m,null,_.root,-1,{});return new Br("",new pr(z,[]))}(_,m),b=new ue([new Zt("",{})]),R=new ue({}),U=new ue({}),z=new ue({}),J=new ue(""),Ae=new Pi(b,R,z,J,U,Le,m,g.root);return Ae.snapshot=g.root,new ki(new pr(Ae,[]),g)}class Pi{constructor(m,g,b,R,U,z,J,Ae){this.url=m,this.params=g,this.queryParams=b,this.fragment=R,this.data=U,this.outlet=z,this.component=J,this._futureSnapshot=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(m=>hn(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(m=>hn(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jr(_,m="emptyOnly"){const g=_.pathFromRoot;let b=0;if("always"!==m)for(b=g.length-1;b>=1;){const R=g[b],U=g[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if(U.component)break;b--}}return function So(_){return _.reduce((m,g)=>({params:Object.assign(Object.assign({},m.params),g.params),data:Object.assign(Object.assign({},m.data),g.data),resolve:Object.assign(Object.assign({},m.resolve),g._resolvedData)}),{params:{},data:{},resolve:{}})}(g.slice(b))}class Xr{constructor(m,g,b,R,U,z,J,Ae,yt,Xt,St){this.url=m,this.params=g,this.queryParams=b,this.fragment=R,this.data=U,this.outlet=z,this.component=J,this.routeConfig=Ae,this._urlSegment=yt,this._lastPathIndex=Xt,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends xn{constructor(m,g){super(g),this.url=m,bn(this,g)}toString(){return ao(this._root)}}function bn(_,m){m.value._routerState=_,m.children.forEach(g=>bn(_,g))}function ao(_){const m=_.children.length>0?` { ${_.children.map(ao).join(", ")} } `:"";return`${_.value}${m}`}function Ir(_){if(_.snapshot){const m=_.snapshot,g=_._futureSnapshot;_.snapshot=g,Jt(m.queryParams,g.queryParams)||_.queryParams.next(g.queryParams),m.fragment!==g.fragment&&_.fragment.next(g.fragment),Jt(m.params,g.params)||_.params.next(g.params),function ht(_,m){if(_.length!==m.length)return!1;for(let g=0;g<_.length;++g)if(!Jt(_[g],m[g]))return!1;return!0}(m.url,g.url)||_.url.next(g.url),Jt(m.data,g.data)||_.data.next(g.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function zn(_,m){const g=Jt(_.params,m.params)&&function $n(_,m){return sr(_,m)&&_.every((g,b)=>Jt(g.parameters,m[b].parameters))}(_.url,m.url);return g&&!(!_.parent!=!m.parent)&&(!_.parent||zn(_.parent,m.parent))}function Fi(_,m,g){if(g&&_.shouldReuseRoute(m.value,g.value.snapshot)){const b=g.value;b._futureSnapshot=m.value;const R=function Hs(_,m,g){return m.children.map(b=>{for(const R of g.children)if(_.shouldReuseRoute(b.value,R.value.snapshot))return Fi(_,b,R);return Fi(_,b)})}(_,m,g);return new pr(b,R)}{if(_.shouldAttach(m.value)){const U=_.retrieve(m.value);if(null!==U){const z=U.route;return z.value._futureSnapshot=m.value,z.children=m.children.map(J=>Fi(_,J)),z}}const b=function zs(_){return new Pi(new ue(_.url),new ue(_.params),new ue(_.queryParams),new ue(_.fragment),new ue(_.data),_.outlet,_.component,_)}(m.value),R=m.children.map(U=>Fi(_,U));return new pr(b,R)}}function uo(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Li(_){return"object"==typeof _&&null!=_&&_.outlets}function li(_,m,g,b,R){let U={};return b&&tt(b,(z,J)=>{U[J]=Array.isArray(z)?z.map(Ae=>`${Ae}`):`${z}`}),new fn(g.root===_?m:qs(g.root,_,m),U,R)}function qs(_,m,g){const b={};return tt(_.children,(R,U)=>{b[U]=R===m?g:qs(R,m,g)}),new Ft(_.segments,b)}class Os{constructor(m,g,b){if(this.isAbsolute=m,this.numberOfDoubleDots=g,this.commands=b,m&&b.length>0&&uo(b[0]))throw new Error("Root segment cannot have matrix parameters");const R=b.find(Li);if(R&&R!==lt(b))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ns{constructor(m,g,b){this.segmentGroup=m,this.processChildren=g,this.index=b}}function ts(_,m,g){if(_||(_=new Ft([],{})),0===_.segments.length&&_.hasChildren())return lo(_,m,g);const b=function ns(_,m,g){let b=0,R=m;const U={match:!1,pathIndex:0,commandIndex:0};for(;R<_.segments.length;){if(b>=g.length)return U;const z=_.segments[R],J=g[b];if(Li(J))break;const Ae=`${J}`,yt=b<g.length-1?g[b+1]:null;if(R>0&&void 0===Ae)break;if(Ae&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!Ps(Ae,yt,z))return U;b+=2}else{if(!Ps(Ae,{},z))return U;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(_,m,g),R=g.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const U=new Ft(_.segments.slice(0,b.pathIndex),{});return U.children[Le]=new Ft(_.segments.slice(b.pathIndex),_.children),lo(U,0,R)}return b.match&&0===R.length?new Ft(_.segments,{}):b.match&&!_.hasChildren()?co(_,m,g):b.match?lo(_,0,R):co(_,m,g)}function lo(_,m,g){if(0===g.length)return new Ft(_.segments,{});{const b=function xo(_){return Li(_[0])?_[0].outlets:{[Le]:_}}(g),R={};return tt(b,(U,z)=>{"string"==typeof U&&(U=[U]),null!==U&&(R[z]=ts(_.children[z],m,U))}),tt(_.children,(U,z)=>{void 0===b[z]&&(R[z]=U)}),new Ft(_.segments,R)}}function co(_,m,g){const b=_.segments.slice(0,m);let R=0;for(;R<g.length;){const U=g[R];if(Li(U)){const Ae=Mo(U.outlets);return new Ft(b,Ae)}if(0===R&&uo(g[0])){b.push(new Zt(_.segments[m].path,Ws(g[0]))),R++;continue}const z=Li(U)?U.outlets[Le]:`${U}`,J=R<g.length-1?g[R+1]:null;z&&J&&uo(J)?(b.push(new Zt(z,Ws(J))),R+=2):(b.push(new Zt(z,{})),R++)}return new Ft(b,{})}function Mo(_){const m={};return tt(_,(g,b)=>{"string"==typeof g&&(g=[g]),null!==g&&(m[b]=co(new Ft([],{}),0,g))}),m}function Ws(_){const m={};return tt(_,(g,b)=>m[b]=`${g}`),m}function Ps(_,m,g){return _==g.path&&Jt(m,g.parameters)}class Zs{constructor(m,g,b,R){this.routeReuseStrategy=m,this.futureState=g,this.currState=b,this.forwardEvent=R}activate(m){const g=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,b,m),Ir(this.futureState.root),this.activateChildRoutes(g,b,m)}deactivateChildRoutes(m,g,b){const R=Lt(g);m.children.forEach(U=>{const z=U.value.outlet;this.deactivateRoutes(U,R[z],b),delete R[z]}),tt(R,(U,z)=>{this.deactivateRouteAndItsChildren(U,b)})}deactivateRoutes(m,g,b){const R=m.value,U=g?g.value:null;if(R===U)if(R.component){const z=b.getContext(R.outlet);z&&this.deactivateChildRoutes(m,g,z.children)}else this.deactivateChildRoutes(m,g,b);else U&&this.deactivateRouteAndItsChildren(g,b)}deactivateRouteAndItsChildren(m,g){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,g):this.deactivateRouteAndOutlet(m,g)}detachAndStoreRouteSubtree(m,g){const b=g.getContext(m.value.outlet),R=b&&m.value.component?b.children:g,U=Lt(m);for(const z of Object.keys(U))this.deactivateRouteAndItsChildren(U[z],R);if(b&&b.outlet){const z=b.outlet.detach(),J=b.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:z,route:m,contexts:J})}}deactivateRouteAndOutlet(m,g){const b=g.getContext(m.value.outlet),R=b&&m.value.component?b.children:g,U=Lt(m);for(const z of Object.keys(U))this.deactivateRouteAndItsChildren(U[z],R);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(m,g,b){const R=Lt(g);m.children.forEach(U=>{this.activateRoutes(U,R[U.value.outlet],b),this.forwardEvent(new st(U.value.snapshot))}),m.children.length&&this.forwardEvent(new ze(m.value.snapshot))}activateRoutes(m,g,b){const R=m.value,U=g?g.value:null;if(Ir(R),R===U)if(R.component){const z=b.getOrCreateContext(R.outlet);this.activateChildRoutes(m,g,z.children)}else this.activateChildRoutes(m,g,b);else if(R.component){const z=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const J=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),z.children.onOutletReAttached(J.contexts),z.attachRef=J.componentRef,z.route=J.route.value,z.outlet&&z.outlet.attach(J.componentRef,J.route.value),Ir(J.route.value),this.activateChildRoutes(m,null,z.children)}else{const J=function Ys(_){for(let m=_.parent;m;m=m.parent){const g=m.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig;if(g&&g.component)return null}return null}(R.snapshot),Ae=J?J.module.componentFactoryResolver:null;z.attachRef=null,z.route=R,z.resolver=Ae,z.outlet&&z.outlet.activateWith(R,Ae),this.activateChildRoutes(m,null,z.children)}}else this.activateChildRoutes(m,null,b)}}class Qs{constructor(m,g){this.routes=m,this.module=g}}function rs(_){return"function"==typeof _}function Zn(_){return _ instanceof fn}const Fs=Symbol("INITIAL_VALUE");function jr(){return De(_=>function it(..._){const m=(0,Fe.yG)(_),g=(0,Fe.jO)(_),{args:b,keys:R}=(0,K.D)(_);if(0===b.length)return(0,we.D)([],m);const U=new me.y(function Be(_,m,g=Ne.y){return b=>{Ye(m,()=>{const{length:R}=_,U=new Array(R);let z=R,J=R;for(let Ae=0;Ae<R;Ae++)Ye(m,()=>{const yt=(0,we.D)(_[Ae],m);let Xt=!1;yt.subscribe(new te.Q(b,St=>{U[Ae]=St,Xt||(Xt=!0,J--),J||b.next(g(U.slice()))},()=>{--z||b.complete()}))},b)},b)}}(b,m,R?z=>(0,X.n)(R,z):Ne.y));return g?U.pipe((0,Ke.Z)(g)):U}(_.map(m=>m.pipe((0,rr.q)(1),function Re(..._){const m=(0,Fe.yG)(_);return(0,$e.e)((g,b)=>{(m?Ct(_,g,m):Ct(_,g)).subscribe(b)})}(Fs)))).pipe(ge((m,g)=>{let b=!1;return g.reduce((R,U,z)=>R!==Fs?R:(U===Fs&&(b=!0),b||!1!==U&&z!==g.length-1&&!Zn(U)?R:U),m)},Fs),(0,Ut.h)(m=>m!==Fs),(0,sn.U)(m=>Zn(m)?m:!0===m),(0,rr.q)(1)))}class Ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zi,this.attachRef=null}}class Zi{constructor(){this.contexts=new Map}onChildOutletCreated(m,g){const b=this.getOrCreateContext(m);b.outlet=g,this.contexts.set(m,b)}onChildOutletDestroyed(m){const g=this.getContext(m);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let g=this.getContext(m);return g||(g=new Ro,this.contexts.set(m,g)),g}getContext(m){return this.contexts.get(m)||null}}let _s=(()=>{class _{constructor(g,b,R,U,z){this.parentContexts=g,this.location=b,this.resolver=R,this.changeDetector=z,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=U||Le,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,b){this.activated=g,this._activatedRoute=b,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,b){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;const z=(b=b||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),J=this.parentContexts.getOrCreateContext(this.name).children,Ae=new vi(g,J,this.location.injector);this.activated=this.location.createComponent(z,this.location.length,Ae),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(g){return new(g||_)(v.Y36(Zi),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},_.\u0275dir=v.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),_})();class vi{constructor(m,g,b){this.route=m,this.childContexts=g,this.parent=b}get(m,g){return m===Pi?this.route:m===Zi?this.childContexts:this.parent.get(m,g)}}let Or=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275cmp=v.Xpm({type:_,selectors:[["ng-component"]],decls:1,vars:0,template:function(g,b){1&g&&v._UZ(0,"router-outlet")},directives:[_s],encapsulation:2}),_})();function Ls(_,m=""){for(let g=0;g<_.length;g++){const b=_[g];A(b,F(m,b))}}function A(_,m){_.children&&Ls(_.children,m)}function F(_,m){return m?_||m.path?_&&!m.path?`${_}/`:!_&&m.path?m.path:`${_}/${m.path}`:"":_}function x(_){const m=_.children&&_.children.map(x),g=m?Object.assign(Object.assign({},_),{children:m}):Object.assign({},_);return!g.component&&(m||g.loadChildren)&&g.outlet&&g.outlet!==Le&&(g.component=Or),g}function j(_){return _.outlet||Le}function ne(_,m){const g=_.filter(b=>j(b)===m);return g.push(..._.filter(b=>j(b)!==m)),g}const ve={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function We(_,m,g){var b;if(""===m.path)return"full"===m.pathMatch&&(_.hasChildren()||g.length>0)?Object.assign({},ve):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const U=(m.matcher||an)(g,_,m);if(!U)return Object.assign({},ve);const z={};tt(U.posParams,(Ae,yt)=>{z[yt]=Ae.path});const J=U.consumed.length>0?Object.assign(Object.assign({},z),U.consumed[U.consumed.length-1].parameters):z;return{matched:!0,consumedSegments:U.consumed,lastChild:U.consumed.length,parameters:J,positionalParamSegments:null!==(b=U.posParams)&&void 0!==b?b:{}}}function vt(_,m,g,b,R="corrected"){if(g.length>0&&function Yn(_,m,g){return g.some(b=>In(_,m,b)&&j(b)!==Le)}(_,g,b)){const z=new Ft(m,function Cn(_,m,g,b){const R={};R[Le]=b,b._sourceSegment=_,b._segmentIndexShift=m.length;for(const U of g)if(""===U.path&&j(U)!==Le){const z=new Ft([],{});z._sourceSegment=_,z._segmentIndexShift=m.length,R[j(U)]=z}return R}(_,m,b,new Ft(g,_.children)));return z._sourceSegment=_,z._segmentIndexShift=m.length,{segmentGroup:z,slicedSegments:[]}}if(0===g.length&&function mn(_,m,g){return g.some(b=>In(_,m,b))}(_,g,b)){const z=new Ft(_.segments,function At(_,m,g,b,R,U){const z={};for(const J of b)if(In(_,g,J)&&!R[j(J)]){const Ae=new Ft([],{});Ae._sourceSegment=_,Ae._segmentIndexShift="legacy"===U?_.segments.length:m.length,z[j(J)]=Ae}return Object.assign(Object.assign({},R),z)}(_,m,g,b,_.children,R));return z._sourceSegment=_,z._segmentIndexShift=m.length,{segmentGroup:z,slicedSegments:g}}const U=new Ft(_.segments,_.children);return U._sourceSegment=_,U._segmentIndexShift=m.length,{segmentGroup:U,slicedSegments:g}}function In(_,m,g){return(!(_.hasChildren()||m.length>0)||"full"!==g.pathMatch)&&""===g.path}function kn(_,m,g,b){return!!(j(_)===b||b!==Le&&In(m,g,_))&&("**"===_.path||We(m,_,g).matched)}function qn(_,m,g){return 0===m.length&&!_.children[g]}class yr{constructor(m){this.segmentGroup=m||null}}class Wn{constructor(m){this.urlTree=m}}function Vi(_){return new me.y(m=>m.error(new yr(_)))}function Ei(_){return new me.y(m=>m.error(new Wn(_)))}function M(_){return new me.y(m=>m.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${_}'`)))}class B{constructor(m,g,b,R,U){this.configLoader=g,this.urlSerializer=b,this.urlTree=R,this.config=U,this.allowRedirects=!0,this.ngModule=m.get(v.h0i)}apply(){const m=vt(this.urlTree.root,[],[],this.config).segmentGroup,g=new Ft(m.segments,m.children);return this.expandSegmentGroup(this.ngModule,this.config,g,Le).pipe((0,sn.U)(U=>this.createUrlTree(Dt(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tt(U=>{if(U instanceof Wn)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof yr?this.noMatchError(U):U}))}match(m){return this.expandSegmentGroup(this.ngModule,this.config,m.root,Le).pipe((0,sn.U)(R=>this.createUrlTree(Dt(R),m.queryParams,m.fragment))).pipe(Tt(R=>{throw R instanceof yr?this.noMatchError(R):R}))}noMatchError(m){return new Error(`Cannot match any routes. URL Segment: '${m.segmentGroup}'`)}createUrlTree(m,g,b){const R=m.segments.length>0?new Ft([],{[Le]:m}):m;return new fn(R,g,b)}expandSegmentGroup(m,g,b,R){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(m,g,b).pipe((0,sn.U)(U=>new Ft([],U))):this.expandSegment(m,b,g,b.segments,R,!0)}expandChildren(m,g,b){const R=[];for(const U of Object.keys(b.children))"primary"===U?R.unshift(U):R.push(U);return(0,we.D)(R).pipe((0,Tn.b)(U=>{const z=b.children[U],J=ne(g,U);return this.expandSegmentGroup(m,J,z,U).pipe((0,sn.U)(Ae=>({segment:Ae,outlet:U})))}),ge((U,z)=>(U[z.outlet]=z.segment,U),{}),function yn(_,m){const g=arguments.length>=2;return b=>b.pipe(_?(0,Ut.h)((R,U)=>_(R,U,b)):Ne.y,Gn(1),g?Ln(m):pt(()=>new Qe))}())}expandSegment(m,g,b,R,U,z){return(0,we.D)(b).pipe((0,Tn.b)(J=>this.expandSegmentAgainstRoute(m,g,b,J,R,U,z).pipe(Tt(yt=>{if(yt instanceof yr)return(0,Z.of)(null);throw yt}))),ir(J=>!!J),Tt((J,Ae)=>{if(J instanceof Qe||"EmptyError"===J.name){if(qn(g,R,U))return(0,Z.of)(new Ft([],{}));throw new yr(g)}throw J}))}expandSegmentAgainstRoute(m,g,b,R,U,z,J){return kn(R,g,U,z)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(m,g,R,U,z):J&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,g,b,R,U,z):Vi(g):Vi(g)}expandSegmentAgainstRouteUsingRedirect(m,g,b,R,U,z){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,b,R,z):this.expandRegularSegmentAgainstRouteUsingRedirect(m,g,b,R,U,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,g,b,R){const U=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Ei(U):this.lineralizeSegments(b,U).pipe((0,on.z)(z=>{const J=new Ft(z,{});return this.expandSegment(m,J,g,z,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,g,b,R,U,z){const{matched:J,consumedSegments:Ae,lastChild:yt,positionalParamSegments:Xt}=We(g,R,U);if(!J)return Vi(g);const St=this.applyRedirectCommands(Ae,R.redirectTo,Xt);return R.redirectTo.startsWith("/")?Ei(St):this.lineralizeSegments(R,St).pipe((0,on.z)(Kn=>this.expandSegment(m,g,b,Kn.concat(U.slice(yt)),z,!1)))}matchSegmentAgainstRoute(m,g,b,R,U){if("**"===b.path)return b.loadChildren?(b._loadedConfig?(0,Z.of)(b._loadedConfig):this.configLoader.load(m.injector,b)).pipe((0,sn.U)(Kn=>(b._loadedConfig=Kn,new Ft(R,{})))):(0,Z.of)(new Ft(R,{}));const{matched:z,consumedSegments:J,lastChild:Ae}=We(g,b,R);if(!z)return Vi(g);const yt=R.slice(Ae);return this.getChildConfig(m,b,R).pipe((0,on.z)(St=>{const Kn=St.module,pn=St.routes,{segmentGroup:Qi,slicedSegments:Bs}=vt(g,J,yt,pn),Mn=new Ft(Qi.segments,Qi.children);if(0===Bs.length&&Mn.hasChildren())return this.expandChildren(Kn,pn,Mn).pipe((0,sn.U)(Ji=>new Ft(J,Ji)));if(0===pn.length&&0===Bs.length)return(0,Z.of)(new Ft(J,{}));const Ds=j(b)===U;return this.expandSegment(Kn,Mn,pn,Bs,Ds?Le:U,!0).pipe((0,sn.U)(qr=>new Ft(J.concat(qr.segments),qr.children)))}))}getChildConfig(m,g,b){return g.children?(0,Z.of)(new Qs(g.children,m)):g.loadChildren?void 0!==g._loadedConfig?(0,Z.of)(g._loadedConfig):this.runCanLoadGuards(m.injector,g,b).pipe((0,on.z)(R=>R?this.configLoader.load(m.injector,g).pipe((0,sn.U)(U=>(g._loadedConfig=U,U))):function C(_){return new me.y(m=>m.error(Sn(`Cannot load children because the guard of the route "path: '${_.path}'" returned false`)))}(g))):(0,Z.of)(new Qs([],m))}runCanLoadGuards(m,g,b){const R=g.canLoad;if(!R||0===R.length)return(0,Z.of)(!0);const U=R.map(z=>{const J=m.get(z);let Ae;if(function Wi(_){return _&&rs(_.canLoad)}(J))Ae=J.canLoad(g,b);else{if(!rs(J))throw new Error("Invalid CanLoad guard");Ae=J(g,b)}return xt(Ae)});return(0,Z.of)(U).pipe(jr(),(0,kt.b)(z=>{if(!Zn(z))return;const J=Sn(`Redirecting to "${this.urlSerializer.serialize(z)}"`);throw J.url=z,J}),(0,sn.U)(z=>!0===z))}lineralizeSegments(m,g){let b=[],R=g.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,Z.of)(b);if(R.numberOfChildren>1||!R.children[Le])return M(m.redirectTo);R=R.children[Le]}}applyRedirectCommands(m,g,b){return this.applyRedirectCreatreUrlTree(g,this.urlSerializer.parse(g),m,b)}applyRedirectCreatreUrlTree(m,g,b,R){const U=this.createSegmentGroup(m,g.root,b,R);return new fn(U,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(m,g){const b={};return tt(m,(R,U)=>{if("string"==typeof R&&R.startsWith(":")){const J=R.substring(1);b[U]=g[J]}else b[U]=R}),b}createSegmentGroup(m,g,b,R){const U=this.createSegments(m,g.segments,b,R);let z={};return tt(g.children,(J,Ae)=>{z[Ae]=this.createSegmentGroup(m,J,b,R)}),new Ft(U,z)}createSegments(m,g,b,R){return g.map(U=>U.path.startsWith(":")?this.findPosParam(m,U,R):this.findOrReturn(U,b))}findPosParam(m,g,b){const R=b[g.path.substring(1)];if(!R)throw new Error(`Cannot redirect to '${m}'. Cannot find '${g.path}'.`);return R}findOrReturn(m,g){let b=0;for(const R of g){if(R.path===m.path)return g.splice(b),R;b++}return m}}function Dt(_){const m={};for(const b of Object.keys(_.children)){const U=Dt(_.children[b]);(U.segments.length>0||U.hasChildren())&&(m[b]=U)}return function de(_){if(1===_.numberOfChildren&&_.children[Le]){const m=_.children[Le];return new Ft(_.segments.concat(m.segments),m.children)}return _}(new Ft(_.segments,m))}class Ar{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class Ui{constructor(m,g){this.component=m,this.route=g}}function is(_,m,g){const b=_._root;return un(b,m?m._root:null,g,[b.value])}function Es(_,m,g){const b=function qe(_){if(!_)return null;for(let m=_.parent;m;m=m.parent){const g=m.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig}return null}(m);return(b?b.module.injector:g).get(_)}function un(_,m,g,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const U=Lt(m);return _.children.forEach(z=>{(function lu(_,m,g,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const U=_.value,z=m?m.value:null,J=g?g.getContext(_.value.outlet):null;if(z&&U.routeConfig===z.routeConfig){const Ae=function _r(_,m,g){if("function"==typeof g)return g(_,m);switch(g){case"pathParamsChange":return!sr(_.url,m.url);case"pathParamsOrQueryParamsChange":return!sr(_.url,m.url)||!Jt(_.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zn(_,m)||!Jt(_.queryParams,m.queryParams);default:return!zn(_,m)}}(z,U,U.routeConfig.runGuardsAndResolvers);Ae?R.canActivateChecks.push(new Ar(b)):(U.data=z.data,U._resolvedData=z._resolvedData),un(_,m,U.component?J?J.children:null:g,b,R),Ae&&J&&J.outlet&&J.outlet.isActivated&&R.canDeactivateChecks.push(new Ui(J.outlet.component,z))}else z&&ho(m,J,R),R.canActivateChecks.push(new Ar(b)),un(_,null,U.component?J?J.children:null:g,b,R)})(z,U[z.value.outlet],g,b.concat([z.value]),R),delete U[z.value.outlet]}),tt(U,(z,J)=>ho(z,g.getContext(J),R)),R}function ho(_,m,g){const b=Lt(_),R=_.value;tt(b,(U,z)=>{ho(U,R.component?m?m.children.getContext(z):null:m,g)}),g.canDeactivateChecks.push(new Ui(R.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,R))}class Gr{}function ss(_){return new me.y(m=>m.error(_))}class ws{constructor(m,g,b,R,U,z){this.rootComponentType=m,this.config=g,this.urlTree=b,this.url=R,this.paramsInheritanceStrategy=U,this.relativeLinkResolution=z}recognize(){const m=vt(this.urlTree.root,[],[],this.config.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution).segmentGroup,g=this.processSegmentGroup(this.config,m,Le);if(null===g)return null;const b=new Xr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new pr(b,g),U=new Br(this.url,R);return this.inheritParamsAndData(U._root),U}inheritParamsAndData(m){const g=m.value,b=Jr(g,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),m.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(m,g,b){return 0===g.segments.length&&g.hasChildren()?this.processChildren(m,g):this.processSegment(m,g,g.segments,b)}processChildren(m,g){const b=[];for(const U of Object.keys(g.children)){const z=g.children[U],J=ne(m,U),Ae=this.processSegmentGroup(J,z,U);if(null===Ae)return null;b.push(...Ae)}const R=Na(b);return function os(_){_.sort((m,g)=>m.value.outlet===Le?-1:g.value.outlet===Le?1:m.value.outlet.localeCompare(g.value.outlet))}(R),R}processSegment(m,g,b,R){for(const U of m){const z=this.processSegmentAgainstRoute(U,g,b,R);if(null!==z)return z}return qn(g,b,R)?[]:null}processSegmentAgainstRoute(m,g,b,R){if(m.redirectTo||!kn(m,g,b,R))return null;let U,z=[],J=[];if("**"===m.path){const pn=b.length>0?lt(b).parameters:{};U=new Xr(b,pn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,na(m),j(m),m.component,m,po(g),ka(g)+b.length,Pa(m))}else{const pn=We(g,m,b);if(!pn.matched)return null;z=pn.consumedSegments,J=b.slice(pn.lastChild),U=new Xr(z,pn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,na(m),j(m),m.component,m,po(g),ka(g)+z.length,Pa(m))}const Ae=function ko(_){return _.children?_.children:_.loadChildren?_._loadedConfig.routes:[]}(m),{segmentGroup:yt,slicedSegments:Xt}=vt(g,z,J,Ae.filter(pn=>void 0===pn.redirectTo),this.relativeLinkResolution);if(0===Xt.length&&yt.hasChildren()){const pn=this.processChildren(Ae,yt);return null===pn?null:[new pr(U,pn)]}if(0===Ae.length&&0===Xt.length)return[new pr(U,[])];const St=j(m)===R,Kn=this.processSegment(Ae,yt,Xt,St?Le:R);return null===Kn?null:[new pr(U,Kn)]}}function Ec(_){const m=_.value.routeConfig;return m&&""===m.path&&void 0===m.redirectTo}function Na(_){const m=[],g=new Set;for(const b of _){if(!Ec(b)){m.push(b);continue}const R=m.find(U=>b.value.routeConfig===U.value.routeConfig);void 0!==R?(R.children.push(...b.children),g.add(R)):m.push(b)}for(const b of g){const R=Na(b.children);m.push(new pr(b.value,R))}return m.filter(b=>!g.has(b))}function po(_){let m=_;for(;m._sourceSegment;)m=m._sourceSegment;return m}function ka(_){let m=_,g=m._segmentIndexShift?m._segmentIndexShift:0;for(;m._sourceSegment;)m=m._sourceSegment,g+=m._segmentIndexShift?m._segmentIndexShift:0;return g-1}function na(_){return _.data||{}}function Pa(_){return _.resolve||{}}function pu(_){return De(m=>{const g=_(m);return g?(0,we.D)(g).pipe((0,sn.U)(()=>m)):(0,Z.of)(m)})}class vl extends class ra{shouldDetach(m){return!1}store(m,g){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,g){return m.routeConfig===g.routeConfig}}{}const Dc=new v.OlP("ROUTES");class $r{constructor(m,g,b,R){this.injector=m,this.compiler=g,this.onLoadStartListener=b,this.onLoadEndListener=R}load(m,g){if(g._loader$)return g._loader$;this.onLoadStartListener&&this.onLoadStartListener(g);const R=this.loadModuleFactory(g.loadChildren).pipe((0,sn.U)(U=>{this.onLoadEndListener&&this.onLoadEndListener(g);const z=U.create(m);return new Qs(Vn(z.injector.get(Dc,void 0,v.XFs.Self|v.XFs.Optional)).map(x),z)}),Tt(U=>{throw g._loader$=void 0,U}));return g._loader$=new fe(R,()=>new N.x).pipe(Nt()),g._loader$}loadModuleFactory(m){return xt(m()).pipe((0,on.z)(g=>g instanceof v.YKP?(0,Z.of)(g):(0,we.D)(this.compiler.compileModuleAsync(g))))}}class or{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,g){return m}}function Eh(_){throw _}function gu(_,m,g){return m.parse("/")}function bc(_,m){return(0,Z.of)(null)}const Fa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class _{constructor(g,b,R,U,z,J,Ae){this.rootComponentType=g,this.urlSerializer=b,this.rootContexts=R,this.location=U,this.config=Ae,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new N.x,this.errorHandler=Eh,this.malformedUriErrorHandler=gu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bc,afterPreactivation:bc},this.urlHandlingStrategy=new or,this.routeReuseStrategy=new vl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=z.get(v.h0i),this.console=z.get(v.c2e);const St=z.get(v.R0b);this.isNgZoneEnabled=St instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(Ae),this.currentUrlTree=function Bt(){return new fn(new Ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $r(z,J,Kn=>this.triggerEvent(new ke(Kn)),Kn=>this.triggerEvent(new re(Kn))),this.routerState=Tr(this.currentUrlTree,this.rootComponentType),this.transitions=new ue({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var g;return null===(g=this.location.getState())||void 0===g?void 0:g.\u0275routerPageId}setupNavigations(g){const b=this.events;return g.pipe((0,Ut.h)(R=>0!==R.id),(0,sn.U)(R=>Object.assign(Object.assign({},R),{extractedUrl:this.urlHandlingStrategy.extract(R.rawUrl)})),De(R=>{let U=!1,z=!1;return(0,Z.of)(R).pipe((0,kt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.currentRawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),De(J=>{const Ae=this.browserUrlTree.toString(),yt=!this.navigated||J.extractedUrl.toString()!==Ae||Ae!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||yt)&&this.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Vs(J.source)&&(this.browserUrlTree=J.extractedUrl),(0,Z.of)(J).pipe(De(St=>{const Kn=this.transitions.getValue();return b.next(new Lr(St.id,this.serializeUrl(St.extractedUrl),St.source,St.restoredState)),Kn!==this.transitions.getValue()?pe.E:Promise.resolve(St)}),function Pn(_,m,g,b){return De(R=>function w(_,m,g,b,R){return new B(_,m,g,b,R).apply()}(_,m,g,R.extractedUrl,b).pipe((0,sn.U)(U=>Object.assign(Object.assign({},R),{urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(St=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:St.urlAfterRedirects})}),function fu(_,m,g,b,R){return(0,on.z)(U=>function ta(_,m,g,b,R="emptyOnly",U="legacy"){try{const z=new ws(_,m,g,b,R,U).recognize();return null===z?ss(new Gr):(0,Z.of)(z)}catch(z){return ss(z)}}(_,m,U.urlAfterRedirects,g(U.urlAfterRedirects),b,R).pipe((0,sn.U)(z=>Object.assign(Object.assign({},U),{targetSnapshot:z}))))}(this.rootComponentType,this.config,St=>this.serializeUrl(St),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(St=>{if("eager"===this.urlUpdateStrategy){if(!St.extras.skipLocationChange){const pn=this.urlHandlingStrategy.merge(St.urlAfterRedirects,St.rawUrl);this.setBrowserUrl(pn,St)}this.browserUrlTree=St.urlAfterRedirects}const Kn=new fr(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);b.next(Kn)}));if(yt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kn,extractedUrl:pn,source:Qi,restoredState:Bs,extras:Mn}=J,Ds=new Lr(Kn,this.serializeUrl(pn),Qi,Bs);b.next(Ds);const us=Tr(pn,this.rootComponentType).snapshot;return(0,Z.of)(Object.assign(Object.assign({},J),{targetSnapshot:us,urlAfterRedirects:pn,extras:Object.assign(Object.assign({},Mn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=J.rawUrl,J.resolve(null),pe.E}),pu(J=>{const{targetSnapshot:Ae,id:yt,extractedUrl:Xt,rawUrl:St,extras:{skipLocationChange:Kn,replaceUrl:pn}}=J;return this.hooks.beforePreactivation(Ae,{navigationId:yt,appliedUrlTree:Xt,rawUrlTree:St,skipLocationChange:!!Kn,replaceUrl:!!pn})}),(0,kt.b)(J=>{const Ae=new gr(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot);this.triggerEvent(Ae)}),(0,sn.U)(J=>Object.assign(Object.assign({},J),{guards:is(J.targetSnapshot,J.currentSnapshot,this.rootContexts)})),function Js(_,m){return(0,on.z)(g=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:U,canDeactivateChecks:z}}=g;return 0===z.length&&0===U.length?(0,Z.of)(Object.assign(Object.assign({},g),{guardsResult:!0})):function Yi(_,m,g,b){return(0,we.D)(_).pipe((0,on.z)(R=>function No(_,m,g,b,R){const U=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,Z.of)(!0);const z=U.map(J=>{const Ae=Es(J,m,R);let yt;if(function ys(_){return _&&rs(_.canDeactivate)}(Ae))yt=xt(Ae.canDeactivate(_,m,g,b));else{if(!rs(Ae))throw new Error("Invalid CanDeactivate guard");yt=xt(Ae(_,m,g,b))}return yt.pipe(ir())});return(0,Z.of)(z).pipe(jr())}(R.component,R.route,g,m,b)),ir(R=>!0!==R,!0))}(z,b,R,_).pipe((0,on.z)(J=>J&&function qi(_){return"boolean"==typeof _}(J)?function fo(_,m,g,b){return(0,we.D)(m).pipe((0,Tn.b)(R=>Ct(function du(_,m){return null!==_&&m&&m(new oe(_)),(0,Z.of)(!0)}(R.route.parent,b),function cu(_,m){return null!==_&&m&&m(new ye(_)),(0,Z.of)(!0)}(R.route,b),function Oo(_,m,g){const b=m[m.length-1],U=m.slice(0,m.length-1).reverse().map(z=>function vs(_){const m=_.routeConfig?_.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:_,guards:m}:null}(z)).filter(z=>null!==z).map(z=>mt(()=>{const J=z.guards.map(Ae=>{const yt=Es(Ae,z.node,g);let Xt;if(function ea(_){return _&&rs(_.canActivateChild)}(yt))Xt=xt(yt.canActivateChild(b,_));else{if(!rs(yt))throw new Error("Invalid CanActivateChild guard");Xt=xt(yt(b,_))}return Xt.pipe(ir())});return(0,Z.of)(J).pipe(jr())}));return(0,Z.of)(U).pipe(jr())}(_,R.path,g),function hu(_,m,g){const b=m.routeConfig?m.routeConfig.canActivate:null;if(!b||0===b.length)return(0,Z.of)(!0);const R=b.map(U=>mt(()=>{const z=Es(U,m,g);let J;if(function Ki(_){return _&&rs(_.canActivate)}(z))J=xt(z.canActivate(m,_));else{if(!rs(z))throw new Error("Invalid CanActivate guard");J=xt(z(m,_))}return J.pipe(ir())}));return(0,Z.of)(R).pipe(jr())}(_,R.route,g))),ir(R=>!0!==R,!0))}(b,U,_,m):(0,Z.of)(J)),(0,sn.U)(J=>Object.assign(Object.assign({},g),{guardsResult:J})))})}(this.ngModule.injector,J=>this.triggerEvent(J)),(0,kt.b)(J=>{if(Zn(J.guardsResult)){const yt=Sn(`Redirecting to "${this.serializeUrl(J.guardsResult)}"`);throw yt.url=J.guardsResult,yt}const Ae=new je(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.triggerEvent(Ae)}),(0,Ut.h)(J=>!!J.guardsResult||(this.restoreHistory(J),this.cancelNavigationTransition(J,""),!1)),pu(J=>{if(J.guards.canActivateChecks.length)return(0,Z.of)(J).pipe((0,kt.b)(Ae=>{const yt=new dn(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(yt)}),De(Ae=>{let yt=!1;return(0,Z.of)(Ae).pipe(function _l(_,m){return(0,on.z)(g=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=g;if(!R.length)return(0,Z.of)(g);let U=0;return(0,we.D)(R).pipe((0,Tn.b)(z=>function Xs(_,m,g,b){return function Ic(_,m,g,b){const R=Object.keys(_);if(0===R.length)return(0,Z.of)({});const U={};return(0,we.D)(R).pipe((0,on.z)(z=>function Po(_,m,g,b){const R=Es(_,m,b);return xt(R.resolve?R.resolve(m,g):R(m,g))}(_[z],m,g,b).pipe((0,kt.b)(J=>{U[z]=J}))),Gn(1),(0,on.z)(()=>Object.keys(U).length===R.length?(0,Z.of)(U):pe.E))}(_._resolve,_,m,b).pipe((0,sn.U)(U=>(_._resolvedData=U,_.data=Object.assign(Object.assign({},_.data),Jr(_,g).resolve),null)))}(z.route,b,_,m)),(0,kt.b)(()=>U++),Gn(1),(0,on.z)(z=>U===R.length?(0,Z.of)(g):pe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>yt=!0,complete:()=>{yt||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)(Ae=>{const yt=new mr(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(yt)}))}),pu(J=>{const{targetSnapshot:Ae,id:yt,extractedUrl:Xt,rawUrl:St,extras:{skipLocationChange:Kn,replaceUrl:pn}}=J;return this.hooks.afterPreactivation(Ae,{navigationId:yt,appliedUrlTree:Xt,rawUrlTree:St,skipLocationChange:!!Kn,replaceUrl:!!pn})}),(0,sn.U)(J=>{const Ae=function ui(_,m,g){const b=Fi(_,m._root,g?g._root:void 0);return new ki(b,m)}(this.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return Object.assign(Object.assign({},J),{targetRouterState:Ae})}),(0,kt.b)(J=>{this.currentUrlTree=J.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),this.routerState=J.targetRouterState,"deferred"===this.urlUpdateStrategy&&(J.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,J),this.browserUrlTree=J.urlAfterRedirects)}),((_,m,g)=>(0,sn.U)(b=>(new Zs(m,b.targetRouterState,b.currentRouterState,g).activate(_),b)))(this.rootContexts,this.routeReuseStrategy,J=>this.triggerEvent(J)),(0,kt.b)({next(){U=!0},complete(){U=!0}}),function vr(_){return(0,$e.e)((m,g)=>{try{m.subscribe(g)}finally{g.add(_)}})}(()=>{var J;U||z||this.cancelNavigationTransition(R,`Navigation ID ${R.id} is not equal to the current navigation id ${this.navigationId}`),(null===(J=this.currentNavigation)||void 0===J?void 0:J.id)===R.id&&(this.currentNavigation=null)}),Tt(J=>{if(z=!0,function Jn(_){return _&&_[_n]}(J)){const Ae=Zn(J.url);Ae||(this.navigated=!0,this.restoreHistory(R,!0));const yt=new An(R.id,this.serializeUrl(R.extractedUrl),J.message);b.next(yt),Ae?setTimeout(()=>{const Xt=this.urlHandlingStrategy.merge(J.url,this.rawUrlTree),St={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vs(R.source)};this.scheduleNavigation(Xt,"imperative",null,St,{resolve:R.resolve,reject:R.reject,promise:R.promise})},0):R.resolve(!1)}else{this.restoreHistory(R,!0);const Ae=new Vr(R.id,this.serializeUrl(R.extractedUrl),J);b.next(Ae);try{R.resolve(this.errorHandler(J))}catch(yt){R.reject(yt)}}return pe.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),g))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const b="popstate"===g.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{var R;const U={replaceUrl:!0},z=(null===(R=g.state)||void 0===R?void 0:R.navigationId)?g.state:null;if(z){const Ae=Object.assign({},z);delete Ae.navigationId,delete Ae.\u0275routerPageId,0!==Object.keys(Ae).length&&(U.state=Ae)}const J=this.parseUrl(g.url);this.scheduleNavigation(J,b,z,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){Ls(g),this.config=g.map(x),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,b={}){const{relativeTo:R,queryParams:U,fragment:z,queryParamsHandling:J,preserveFragment:Ae}=b,yt=R||this.routerState.root,Xt=Ae?this.currentUrlTree.fragment:z;let St=null;switch(J){case"merge":St=Object.assign(Object.assign({},this.currentUrlTree.queryParams),U);break;case"preserve":St=this.currentUrlTree.queryParams;break;default:St=U||null}return null!==St&&(St=this.removeEmptyProps(St)),function ei(_,m,g,b,R){if(0===g.length)return li(m.root,m.root,m,b,R);const U=function Ra(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Os(!0,0,_);let m=0,g=!1;const b=_.reduce((R,U,z)=>{if("object"==typeof U&&null!=U){if(U.outlets){const J={};return tt(U.outlets,(Ae,yt)=>{J[yt]="string"==typeof Ae?Ae.split("/"):Ae}),[...R,{outlets:J}]}if(U.segmentPath)return[...R,U.segmentPath]}return"string"!=typeof U?[...R,U]:0===z?(U.split("/").forEach((J,Ae)=>{0==Ae&&"."===J||(0==Ae&&""===J?g=!0:".."===J?m++:""!=J&&R.push(J))}),R):[...R,U]},[]);return new Os(g,m,b)}(g);if(U.toRoot())return li(m.root,new Ft([],{}),m,b,R);const z=function Oa(_,m,g){if(_.isAbsolute)return new Ns(m.root,!0,0);if(-1===g.snapshot._lastPathIndex){const U=g.snapshot._urlSegment;return new Ns(U,U===m.root,0)}const b=uo(_.commands[0])?0:1;return function ks(_,m,g){let b=_,R=m,U=g;for(;U>R;){if(U-=R,b=b.parent,!b)throw new Error("Invalid number of '../'");R=b.segments.length}return new Ns(b,!1,R-U)}(g.snapshot._urlSegment,g.snapshot._lastPathIndex+b,_.numberOfDoubleDots)}(U,m,_),J=z.processChildren?lo(z.segmentGroup,z.index,U.commands):ts(z.segmentGroup,z.index,U.commands);return li(z.segmentGroup,J,m,b,R)}(yt,this.currentUrlTree,g,St,null!=Xt?Xt:null)}navigateByUrl(g,b={skipLocationChange:!1}){const R=Zn(g)?g:this.parseUrl(g),U=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,b)}navigate(g,b={skipLocationChange:!1}){return function La(_){for(let m=0;m<_.length;m++){const g=_[m];if(null==g)throw new Error(`The requested path contains ${g} segment at index ${m}`)}}(g),this.navigateByUrl(this.createUrlTree(g,b),b)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let b;try{b=this.urlSerializer.parse(g)}catch(R){b=this.malformedUriErrorHandler(R,this.urlSerializer,g)}return b}isActive(g,b){let R;if(R=!0===b?Object.assign({},Fa):!1===b?Object.assign({},ti):b,Zn(g))return ae(this.currentUrlTree,g,R);const U=this.parseUrl(g);return ae(this.currentUrlTree,U,R)}removeEmptyProps(g){return Object.keys(g).reduce((b,R)=>{const U=g[R];return null!=U&&(b[R]=U),b},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new Ht(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,b,R,U,z){var J,Ae,yt;if(this.disposed)return Promise.resolve(!1);const Xt=this.transitions.value,St=Vs(b)&&Xt&&!Vs(Xt.source),Kn=Xt.rawUrl.toString()===g.toString(),pn=Xt.id===(null===(J=this.currentNavigation)||void 0===J?void 0:J.id);if(St&&Kn&&pn)return Promise.resolve(!0);let Bs,Mn,Ds;z?(Bs=z.resolve,Mn=z.reject,Ds=z.promise):Ds=new Promise((Ji,Ac)=>{Bs=Ji,Mn=Ac});const us=++this.navigationId;let qr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(R=this.location.getState()),qr=R&&R.\u0275routerPageId?R.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0:(null!==(yt=this.browserPageId)&&void 0!==yt?yt:0)+1):qr=0,this.setTransition({id:us,targetPageId:qr,source:b,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:U,resolve:Bs,reject:Mn,promise:Ds,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ds.catch(Ji=>Promise.reject(Ji))}setBrowserUrl(g,b){const R=this.urlSerializer.serialize(g),U=Object.assign(Object.assign({},b.extras.state),this.generateNgRouterState(b.id,b.targetPageId));this.location.isCurrentPathEqualTo(R)||b.extras.replaceUrl?this.location.replaceState(R,"",U):this.location.go(R,"",U)}restoreHistory(g,b=!1){var R,U;if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(R=this.currentNavigation)||void 0===R?void 0:R.finalUrl)||0===z?this.currentUrlTree===(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)&&0===z&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(z)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,b){const R=new An(g.id,this.serializeUrl(g.extractedUrl),b);this.triggerEvent(R),g.resolve(!1)}generateNgRouterState(g,b){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:b}:{navigationId:g}}}return _.\u0275fac=function(g){v.$Z()},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac}),_})();function Vs(_){return"imperative"!==_}let Is=(()=>{class _{constructor(g,b,R){this.router=g,this.route=b,this.locationStrategy=R,this.commands=null,this.href=null,this.onChanges=new N.x,this.subscription=g.events.subscribe(U=>{U instanceof Ht&&this.updateTargetUrlAndHref()})}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:null}ngOnChanges(g){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(g,b,R,U,z){if(0!==g||b||R||U||z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const J={skipLocationChange:Fo(this.skipLocationChange),replaceUrl:Fo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,J),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fo(this.preserveFragment)})}}return _.\u0275fac=function(g){return new(g||_)(v.Y36(Hr),v.Y36(Pi),v.Y36(On.S$))},_.\u0275dir=v.lG2({type:_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(g,b){1&g&&v.NdJ("click",function(U){return b.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&g&&v.uIk("target",b.target)("href",b.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),_})();function Fo(_){return""===_||!!_}class eo{}class Va{preload(m,g){return(0,Z.of)(null)}}let zr=(()=>{class _{constructor(g,b,R,U){this.router=g,this.injector=R,this.preloadingStrategy=U,this.loader=new $r(R,b,Ae=>g.triggerEvent(new ke(Ae)),Ae=>g.triggerEvent(new re(Ae)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ut.h)(g=>g instanceof Ht),(0,Tn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const g=this.injector.get(v.h0i);return this.processRoutes(g,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,b){const R=[];for(const U of b)if(U.loadChildren&&!U.canLoad&&U._loadedConfig){const z=U._loadedConfig;R.push(this.processRoutes(z.module,z.routes))}else U.loadChildren&&!U.canLoad?R.push(this.preloadConfig(g,U)):U.children&&R.push(this.processRoutes(g,U.children));return(0,we.D)(R).pipe((0,at.J)(),(0,sn.U)(U=>{}))}preloadConfig(g,b){return this.preloadingStrategy.preload(b,()=>(b._loadedConfig?(0,Z.of)(b._loadedConfig):this.loader.load(g.injector,b)).pipe((0,on.z)(U=>(b._loadedConfig=U,this.processRoutes(U.module,U.routes)))))}}return _.\u0275fac=function(g){return new(g||_)(v.LFG(Hr),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(eo))},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac}),_})(),sa=(()=>{class _{constructor(g,b,R={}){this.router=g,this.viewportScroller=b,this.options=R,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},R.scrollPositionRestoration=R.scrollPositionRestoration||"disabled",R.anchorScrolling=R.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Ht&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof nt&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,b){this.router.triggerEvent(new nt(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(g){v.$Z()},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac}),_})();const go=new v.OlP("ROUTER_CONFIGURATION"),wl=new v.OlP("ROUTER_FORROOT_GUARD"),Kp=[On.Ye,{provide:_i,useClass:Oi},{provide:Hr,useFactory:function aa(_,m,g,b,R,U,z={},J,Ae){const yt=new Hr(null,_,m,g,b,R,Vn(U));return J&&(yt.urlHandlingStrategy=J),Ae&&(yt.routeReuseStrategy=Ae),function Ih(_,m){_.errorHandler&&(m.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(m.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(m.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(m.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(m.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(m.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(m.canceledNavigationResolution=_.canceledNavigationResolution)}(z,yt),z.enableTracing&&yt.events.subscribe(Xt=>{var St,Kn;null===(St=console.group)||void 0===St||St.call(console,`Router Event: ${Xt.constructor.name}`),console.log(Xt.toString()),console.log(Xt),null===(Kn=console.groupEnd)||void 0===Kn||Kn.call(console)}),yt},deps:[_i,Zi,On.Ye,v.zs3,v.Sil,Dc,go,[class as{},new v.FiY],[class vh{},new v.FiY]]},Zi,{provide:Pi,useFactory:function to(_){return _.routerState.root},deps:[Hr]},zr,Va,class Cc{preload(m,g){return g().pipe(Tt(()=>(0,Z.of)(null)))}},{provide:go,useValue:{enableTracing:!1}}];function mu(){return new v.PXZ("Router",Hr)}let Ua=(()=>{class _{constructor(g,b){}static forRoot(g,b){return{ngModule:_,providers:[Kp,Ba(g),{provide:wl,useFactory:Il,deps:[[Hr,new v.FiY,new v.tp0]]},{provide:go,useValue:b||{}},{provide:On.S$,useFactory:oa,deps:[On.lw,[new v.tBr(On.mr),new v.FiY],go]},{provide:sa,useFactory:yu,deps:[Hr,On.EM,go]},{provide:eo,useExisting:b&&b.preloadingStrategy?b.preloadingStrategy:Va},{provide:v.PXZ,multi:!0,useFactory:mu},[Bi,{provide:v.ip1,multi:!0,useFactory:Lo,deps:[Bi]},{provide:_u,useFactory:Tc,deps:[Bi]},{provide:v.tb,multi:!0,useExisting:_u}]]}}static forChild(g){return{ngModule:_,providers:[Ba(g)]}}}return _.\u0275fac=function(g){return new(g||_)(v.LFG(wl,8),v.LFG(Hr,8))},_.\u0275mod=v.oAB({type:_}),_.\u0275inj=v.cJS({}),_})();function yu(_,m,g){return g.scrollOffset&&m.setOffset(g.scrollOffset),new sa(_,m,g)}function oa(_,m,g={}){return g.useHash?new On.Do(_,m):new On.b0(_,m)}function Il(_){return"guarded"}function Ba(_){return[{provide:v.deG,multi:!0,useValue:_},{provide:Dc,multi:!0,useValue:_}]}let Bi=(()=>{class _{constructor(g){this.injector=g,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new N.x}appInitializer(){return this.injector.get(On.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let b=null;const R=new Promise(J=>b=J),U=this.injector.get(Hr),z=this.injector.get(go);return"disabled"===z.initialNavigation?(U.setUpLocationChangeListener(),b(!0)):"enabled"===z.initialNavigation||"enabledBlocking"===z.initialNavigation?(U.hooks.afterPreactivation=()=>this.initNavigation?(0,Z.of)(null):(this.initNavigation=!0,b(!0),this.resultOfPreactivationDone),U.initialNavigation()):b(!0),R})}bootstrapListener(g){const b=this.injector.get(go),R=this.injector.get(zr),U=this.injector.get(sa),z=this.injector.get(Hr),J=this.injector.get(v.z2F);g===J.components[0]&&(("enabledNonBlocking"===b.initialNavigation||void 0===b.initialNavigation)&&z.initialNavigation(),R.setUpPreloading(),U.init(),z.resetRootComponentType(J.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return _.\u0275fac=function(g){return new(g||_)(v.LFG(v.zs3))},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac}),_})();function Lo(_){return _.appInitializer.bind(_)}function Tc(_){return _.bootstrapListener.bind(_)}const _u=new v.OlP("Router Initializer")},9681:(bt,Me,G)=>{"use strict";G.d(Me,{Jn:()=>Lr,qX:()=>sn,Xd:()=>vr,Mq:()=>An,C6:()=>Vr,ZF:()=>Ht,KN:()=>je});var v=G(5861),N=G(4859),ue=G(1877),me=G(2090),K=G(8766);class we{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function Ne(lt){const Te=lt.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(tt)){const xt=tt.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(tt=>tt).join(" ")}}const Ke="@firebase/app",X=new ue.Yd("@firebase/app"),pt="[DEFAULT]",nr={[Ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ln=new Map,yn=new Map;function rr(lt,Te){try{lt.container.addComponent(Te)}catch(tt){X.debug(`Component ${Te.name} failed to register with FirebaseApp ${lt.name}`,tt)}}function vr(lt){const Te=lt.name;if(yn.has(Te))return X.debug(`There were multiple attempts to register component ${Te}.`),!1;yn.set(Te,lt);for(const tt of Ln.values())rr(tt,lt);return!0}function sn(lt,Te){const tt=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),lt.container.getProvider(Te)}const On=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hr{constructor(Te,tt,xt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Lr="9.11.0";function Ht(lt,Te={}){let tt=lt;"object"!=typeof Te&&(Te={name:Te});const xt=Object.assign({name:pt,automaticDataCollectionEnabled:!1},Te),Bt=xt.name;if("string"!=typeof Bt||!Bt)throw On.create("bad-app-name",{appName:String(Bt)});if(tt||(tt=(0,me.aH)()),!tt)throw On.create("no-options");const q=Ln.get(Bt);if(q){if((0,me.vZ)(tt,q.options)&&(0,me.vZ)(xt,q.config))return q;throw On.create("duplicate-app",{appName:Bt})}const Y=new N.H0(Bt);for(const Pe of yn.values())Y.addComponent(Pe);const ae=new hr(tt,xt,Y);return Ln.set(Bt,ae),ae}function An(lt=pt){const Te=Ln.get(lt);if(!Te&&lt===pt)return Ht();if(!Te)throw On.create("no-app",{appName:lt});return Te}function Vr(){return Array.from(Ln.values())}function je(lt,Te,tt){var xt;let Bt=null!==(xt=nr[lt])&&void 0!==xt?xt:lt;tt&&(Bt+=`-${tt}`);const q=Bt.match(/\s|\//),Y=Te.match(/\s|\//);if(q||Y){const ae=[`Unable to register library "${Bt}" with version "${Te}":`];return q&&ae.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),q&&Y&&ae.push("and"),Y&&ae.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void X.warn(ae.join(" "))}vr(new N.wA(`${Bt}-version`,()=>({library:Bt,version:Te}),"VERSION"))}const oe="firebase-heartbeat-store";let ze=null;function ye(){return ze||(ze=(0,K.X3)("firebase-heartbeat-database",1,{upgrade:(lt,Te)=>{0===Te&&lt.createObjectStore(oe)}}).catch(lt=>{throw On.create("idb-open",{originalErrorMessage:lt.message})})),ze}function nt(){return(nt=(0,v.Z)(function*(lt){var Te;try{return(yield ye()).transaction(oe).objectStore(oe).get(hn(lt))}catch(tt){if(tt instanceof me.ZR)X.warn(tt.message);else{const xt=On.create("idb-get",{originalErrorMessage:null===(Te=tt)||void 0===Te?void 0:Te.message});X.warn(xt.message)}}})).apply(this,arguments)}function Le(lt,Te){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,v.Z)(function*(lt,Te){var tt;try{const Bt=(yield ye()).transaction(oe,"readwrite");return yield Bt.objectStore(oe).put(Te,hn(lt)),Bt.done}catch(xt){if(xt instanceof me.ZR)X.warn(xt.message);else{const Bt=On.create("idb-set",{originalErrorMessage:null===(tt=xt)||void 0===tt?void 0:tt.message});X.warn(Bt.message)}}})).apply(this,arguments)}function hn(lt){return`${lt.name}!${lt.options.appId}`}class Jn{constructor(Te){this.container=Te,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Jt(tt),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Te=this;return(0,v.Z)(function*(){const xt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=an();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Te._heartbeatsCache.heartbeats.some(q=>q.date===Bt))return Te._heartbeatsCache.heartbeats.push({date:Bt,agent:xt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(q=>{const Y=new Date(q.date).valueOf();return Date.now()-Y<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,v.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const tt=an(),{heartbeatsToSend:xt,unsentEntries:Bt}=function ht(lt,Te=1024){const tt=[];let xt=lt.slice();for(const Bt of lt){const q=tt.find(Y=>Y.agent===Bt.agent);if(q){if(q.dates.push(Bt.date),Wt(tt)>Te){q.dates.pop();break}}else if(tt.push({agent:Bt.agent,dates:[Bt.date]}),Wt(tt)>Te){tt.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:xt}}(Te._heartbeatsCache.heartbeats),q=(0,me.L)(JSON.stringify({version:2,heartbeats:xt}));return Te._heartbeatsCache.lastSentHeartbeatDate=tt,Bt.length>0?(Te._heartbeatsCache.heartbeats=Bt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),q})()}}function an(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,v.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function st(lt){return nt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var tt=this;return(0,v.Z)(function*(){var xt;if(yield tt._canUseIndexedDBPromise){const q=yield tt.read();return Le(tt.app,{lastSentHeartbeatDate:null!==(xt=Te.lastSentHeartbeatDate)&&void 0!==xt?xt:q.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var tt=this;return(0,v.Z)(function*(){var xt;if(yield tt._canUseIndexedDBPromise){const q=yield tt.read();return Le(tt.app,{lastSentHeartbeatDate:null!==(xt=Te.lastSentHeartbeatDate)&&void 0!==xt?xt:q.lastSentHeartbeatDate,heartbeats:[...q.heartbeats,...Te.heartbeats]})}})()}}function Wt(lt){return(0,me.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function Vn(lt){vr(new N.wA("platform-logger",Te=>new we(Te),"PRIVATE")),vr(new N.wA("heartbeat",Te=>new Jn(Te),"PRIVATE")),je(Ke,"0.8.0",lt),je(Ke,"0.8.0","esm2017"),je("fire-js","")}("")},4859:(bt,Me,G)=>{"use strict";G.d(Me,{wA:()=>ue,H0:()=>Ke});var v=G(5861),N=G(2090);class ue{constructor(X,te,Ue){this.name=X,this.instanceFactory=te,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const me="[DEFAULT]";class K{constructor(X,te){this.name=X,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const te=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(te)){const Ue=new N.BH;if(this.instancesDeferred.set(te,Ue),this.isInitialized(te)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:te});it&&Ue.resolve(it)}catch(it){}}return this.instancesDeferred.get(te).promise}getImmediate(X){var te;const Ue=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),it=null!==(te=null==X?void 0:X.optional)&&void 0!==te&&te;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(Be){if(it)return null;throw Be}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Ne(Fe){return"EAGER"===Fe.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:me})}catch(te){}for(const[te,Ue]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(te);try{const Be=this.getOrInitializeService({instanceIdentifier:it});Ue.resolve(Be)}catch(Be){}}}}clearInstance(X=me){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,v.Z)(function*(){const te=Array.from(X.instances.values());yield Promise.all([...te.filter(Ue=>"INTERNAL"in Ue).map(Ue=>Ue.INTERNAL.delete()),...te.filter(Ue=>"_delete"in Ue).map(Ue=>Ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=me){return this.instances.has(X)}getOptions(X=me){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:te={}}=X,Ue=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Ue,options:te});for(const[Be,Ye]of this.instancesDeferred.entries())Ue===this.normalizeInstanceIdentifier(Be)&&Ye.resolve(it);return it}onInit(X,te){var Ue;const it=this.normalizeInstanceIdentifier(te),Be=null!==(Ue=this.onInitCallbacks.get(it))&&void 0!==Ue?Ue:new Set;Be.add(X),this.onInitCallbacks.set(it,Be);const Ye=this.instances.get(it);return Ye&&X(Ye,it),()=>{Be.delete(X)}}invokeOnInitCallbacks(X,te){const Ue=this.onInitCallbacks.get(te);if(Ue)for(const it of Ue)try{it(X,te)}catch(Be){}}getOrInitializeService({instanceIdentifier:X,options:te={}}){let Ue=this.instances.get(X);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=X,Fe===me?void 0:Fe),options:te}),this.instances.set(X,Ue),this.instancesOptions.set(X,te),this.invokeOnInitCallbacks(Ue,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Ue)}catch(it){}var Fe;return Ue||null}normalizeInstanceIdentifier(X=me){return this.component?this.component.multipleInstances?X:me:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const te=this.getProvider(X.name);if(te.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);te.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const te=new K(X,this);return this.providers.set(X,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Me,G)=>{"use strict";G.d(Me,{in:()=>N,Yd:()=>Ne});const v=[];var N=(()=>{return(X=N||(N={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",N;var X})();const ue={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},me=N.INFO,K={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},we=(X,te,...Ue)=>{if(te<X.logLevel)return;const it=(new Date).toISOString(),Be=K[te];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Be](`[${it}]  ${X.name}:`,...Ue)};class Ne{constructor(te){this.name=te,this._logLevel=me,this._logHandler=we,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in N))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?ue[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...te),this._logHandler(this,N.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...te),this._logHandler(this,N.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,N.INFO,...te),this._logHandler(this,N.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,N.WARN,...te),this._logHandler(this,N.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...te),this._logHandler(this,N.ERROR,...te)}}},8766:(bt,Me,G)=>{"use strict";G.d(Me,{Lj:()=>xe,X3:()=>Ct});var v=G(5861);let ue,me;const Ne=new WeakMap,Ke=new WeakMap,Fe=new WeakMap,X=new WeakMap,te=new WeakMap;let Be={get(fe,Z,pe){if(fe instanceof IDBTransaction){if("done"===Z)return Ke.get(fe);if("objectStoreNames"===Z)return fe.objectStoreNames||Fe.get(fe);if("store"===Z)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return at(fe[Z])},set:(fe,Z,pe)=>(fe[Z]=pe,!0),has:(fe,Z)=>fe instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in fe};function Qe(fe){return"function"==typeof fe?function It(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Z){return fe.apply(dt(this),Z),at(Ne.get(this))}:function(...Z){return at(fe.apply(dt(this),Z))}:function(Z,...pe){const De=fe.call(dt(this),Z,...pe);return Fe.set(De,Z.sort?Z.sort():[Z]),at(De)}}(fe):(fe instanceof IDBTransaction&&function it(fe){if(Ke.has(fe))return;const Z=new Promise((pe,De)=>{const Re=()=>{fe.removeEventListener("complete",He),fe.removeEventListener("error",ge),fe.removeEventListener("abort",ge)},He=()=>{pe(),Re()},ge=()=>{De(fe.error||new DOMException("AbortError","AbortError")),Re()};fe.addEventListener("complete",He),fe.addEventListener("error",ge),fe.addEventListener("abort",ge)});Ke.set(fe,Z)}(fe),((fe,Z)=>Z.some(pe=>fe instanceof pe))(fe,function K(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Be):fe)}function at(fe){if(fe instanceof IDBRequest)return function Ue(fe){const Z=new Promise((pe,De)=>{const Re=()=>{fe.removeEventListener("success",He),fe.removeEventListener("error",ge)},He=()=>{pe(at(fe.result)),Re()},ge=()=>{De(fe.error),Re()};fe.addEventListener("success",He),fe.addEventListener("error",ge)});return Z.then(pe=>{pe instanceof IDBCursor&&Ne.set(pe,fe)}).catch(()=>{}),te.set(Z,fe),Z}(fe);if(X.has(fe))return X.get(fe);const Z=Qe(fe);return Z!==fe&&(X.set(fe,Z),te.set(Z,fe)),Z}const dt=fe=>te.get(fe);function Ct(fe,Z,{blocked:pe,upgrade:De,blocking:Re,terminated:He}={}){const ge=indexedDB.open(fe,Z),Tt=at(ge);return De&&ge.addEventListener("upgradeneeded",Ut=>{De(at(ge.result),Ut.oldVersion,Ut.newVersion,at(ge.transaction))}),pe&&ge.addEventListener("blocked",()=>pe()),Tt.then(Ut=>{He&&Ut.addEventListener("close",()=>He()),Re&&Ut.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Tt}function xe(fe,{blocked:Z}={}){const pe=indexedDB.deleteDatabase(fe);return Z&&pe.addEventListener("blocked",()=>Z()),at(pe).then(()=>{})}const mt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],$e=new Map;function Nt(fe,Z){if(!(fe instanceof IDBDatabase)||Z in fe||"string"!=typeof Z)return;if($e.get(Z))return $e.get(Z);const pe=Z.replace(/FromIndex$/,""),De=Z!==pe,Re=rt.includes(pe);if(!(pe in(De?IDBIndex:IDBObjectStore).prototype)||!Re&&!mt.includes(pe))return;const He=function(){var ge=(0,v.Z)(function*(Tt,...Ut){const Gn=this.transaction(Tt,Re?"readwrite":"readonly");let pt=Gn.store;return De&&(pt=pt.index(Ut.shift())),(yield Promise.all([pt[pe](...Ut),Re&&Gn.done]))[0]});return function(Ut){return ge.apply(this,arguments)}}();return $e.set(Z,He),He}!function Ye(fe){Be=fe(Be)}(fe=>uT(aT({},fe),{get:(Z,pe,De)=>Nt(Z,pe)||fe.get(Z,pe,De),has:(Z,pe)=>!!Nt(Z,pe)||fe.has(Z,pe)}))},5861:(bt,Me,G)=>{"use strict";function v(ue,me,K,we,Ne,Ke,Fe){try{var X=ue[Ke](Fe),te=X.value}catch(Ue){return void K(Ue)}X.done?me(te):Promise.resolve(te).then(we,Ne)}function N(ue){return function(){var me=this,K=arguments;return new Promise(function(we,Ne){var Ke=ue.apply(me,K);function Fe(te){v(Ke,we,Ne,Fe,X,"next",te)}function X(te){v(Ke,we,Ne,Fe,X,"throw",te)}Fe(void 0)})}}G.d(Me,{Z:()=>N})}},bt=>{bt(bt.s=3636)}]);