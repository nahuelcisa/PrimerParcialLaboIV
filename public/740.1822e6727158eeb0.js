"use strict";(self.webpackChunkprimerParcialLaboIV=self.webpackChunkprimerParcialLaboIV||[]).push([[740],{1740:(Zn,_e,C)=>{C.r(_e),C.d(_e,{RepartidorModule:()=>En});var V=C(9808),ge=C(1022),g=C(2382),o=C(1223),X=C(7e3),ee=C(5861),M=C(9681),G=C(2090),Ge=C(4859);const me="firebasestorage.googleapis.com";class p extends G.ZR{constructor(e,n){super(te(e),`Firebase Storage: ${n} (${te(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,p.prototype)}_codeEquals(e){return te(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function te(t){return"storage/"+t}function re(t){return new p("invalid-argument",t)}function ye(){return new p("app-deleted","The Firebase app was deleted.")}class T{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=T.makeFromUrl(e,n)}catch(s){return new T(e,"")}if(""===r.path)return r;throw function rt(t){return new p("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+s+"(/(.*))?$","i");function c(m){m.path_=decodeURIComponent(m.path)}const h=n.replace(/[.]/g,"\\."),R=[{regex:u,indices:{bucket:1,path:3},postModify:function i(m){"/"===m.path.charAt(m.path.length-1)&&(m.path_=m.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${h}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===me?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let m=0;m<R.length;m++){const F=R[m],L=F.regex.exec(e);if(L){let j=L[F.indices.path];j||(j=""),r=new T(L[F.indices.bucket],j),F.postModify(r);break}}if(null==r)throw function nt(t){return new p("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class lt{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oe(t,e,n,r){if(r<e)throw re(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw re(`Invalid value for '${t}'. Expected ${n} or less.`)}var Z=(()=>{return(t=Z||(Z={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",Z;var t})();class ft{constructor(e,n,r,s,i,a,u,l,c,d,h){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());!function dt(t){return void 0!==t}(l)?i():i(l)}catch(l){a(l)}else if(null!==u){const l=function ne(){return new p("unknown","An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=u.getErrorText(),a(this.errorCallback_?this.errorCallback_(u,l):l)}else a(s.canceled?this.appDelete_?ye():function Re(){return new p("canceled","User canceled the upload/download.")}():function tt(){return new p("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new W(!1,null,!0)):this.backoffId_=function ut(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function l(){return 2===u}let c=!1;function d(...f){c||(c=!0,e.apply(null,f))}function h(f){s=setTimeout(()=>{s=null,t(w,l())},f)}function _(){i&&clearTimeout(i)}function w(f,...P){if(c)return void _();if(f)return _(),void d.call(null,f,...P);if(l()||a)return _(),void d.call(null,f,...P);let R;r<64&&(r*=2),1===u?(u=2,R=0):R=1e3*(r+Math.random()),h(R)}let b=!1;function v(f){b||(b=!0,_(),!c&&(null!==s?(f||(u=2),clearTimeout(s),h(0)):f||(u=1)))}return h(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}((r,s)=>{if(s)return void r(!1,new W(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Z.NO_ERROR,l=i.getStatus();if(!u||this.isRetryStatusCode_(l)){const d=i.getErrorCode()===Z.ABORT;return void r(!1,new W(!1,null,d))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new W(c,i))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ct(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return n||s||i}}class W{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class O{constructor(e,n){this._service=e,this._location=n instanceof T?n:T.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new O(e,n)}get root(){const e=new T(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Ae(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function At(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new T(this._location.bucket,e);return new O(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function at(t){return new p("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function $e(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:T.makeFromBucketSpec(n,t)}class he{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?T.makeFromBucketSpec(s,this._host):$e(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?T.makeFromBucketSpec(this._url,e):$e(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oe("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oe("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ee.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new O(this,e)}_makeRequest(e,n,r,s){if(this._deleted)return new lt(ye());{const i=function Rt(t,e,n,r,s,i){const a=function we(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function mt(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function _t(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function gt(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,i),function bt(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new ft(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}(e,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(e,n){var r=this;return(0,ee.Z)(function*(){const[s,i]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,s,i).getPromise()})()}}const ze="@firebase/storage",Xe="storage";function gn(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new he(n,r,s,e,M.Jn)}!function mn(){(0,M.Xd)(new Ge.wA(Xe,gn,"PUBLIC").setMultipleInstances(!0)),(0,M.KN)(ze,"0.9.10",""),(0,M.KN)(ze,"0.9.10","esm2017")}();let bn=(()=>{class t{constructor(n){this.FireStore=n,this.storage=function fn(t=(0,M.Mq)(),e){t=(0,G.m9)(t);const r=(0,M.qX)(t,Xe).getImmediate({identifier:e}),s=(0,G.q4)("storage");if(s){const[i,a]=s.split(":");!function _n(t,e,n,r={}){!function pn(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken="string"==typeof s?s:(0,G.Sg)(s,t.app.options.projectId))}(t,e,n,r)}(r,i,parseInt(a,10))}return r}(),this.repartidorCollectionReference=(0,X.hJ)(this.FireStore,"repartidores")}AltaRepartidores(n){return(0,X.ET)(this.repartidorCollectionReference,n)}ListaRepartidores(){return(0,X.BS)(this.repartidorCollectionReference,{idField:"id"})}}return t.\u0275fac=function(n){return new(n||t)(o.LFG(X.gg))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Rn=C(5830);function Tn(t,e){if(1&t){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",4),o.TgZ(2,"ul",5),o.TgZ(3,"li",6),o.TgZ(4,"div"),o.TgZ(5,"p"),o._uU(6),o.qZA(),o._UZ(7,"img",7),o.qZA(),o.TgZ(8,"div",8),o.TgZ(9,"button",9),o.NdJ("click",function(){const i=o.CHM(n).$implicit;return o.oxw().cargarNacionalidad(i)}),o._uU(10,"Seleccionar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const n=e.$implicit;o.xp6(6),o.Oqu(n.name),o.xp6(1),o.s9C("src",n.flag,o.LSH)}}let yn=(()=>{class t{constructor(n){this.api=n,this.paisEvent=new o.vpe,this.paises=[],this.cargarTabla()}ngOnInit(){}cargarNacionalidad(n){this.paisEvent.emit(n)}cargarTabla(){this.api.traerPaises().subscribe(n=>{this.paises=n}),console.log(this.paises)}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(Rn.s))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tabla-paises"]],outputs:{paisEvent:"paisEvent"},decls:4,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12","col-xxl-10"],[4,"ngFor","ngForOf"],[1,"mb-2"],[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed"],["width","150px","height","100px",3,"src"],[2,"margin","auto"],[1,"mt-2","btn","btn-dark",3,"click"]],template:function(n,r){1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,Tn,11,2,"div",3),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Q6J("ngForOf",r.paises))},directives:[V.sg],styles:[""]}),t})();function kn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"El dni es requerido"),o.qZA())}function wn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"El dni debe tener 8 digitos"),o.qZA())}function Cn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"El nombre es requerido"),o.qZA())}function vn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"La edad es requerida"),o.qZA())}function Sn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"Debe estar entre 18 y 80"),o.qZA())}function xn(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"La capacidad es requerida"),o.qZA())}function An(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"La capacidad minima debe ser por lo menos 1"),o.qZA())}function Un(t,e){1&t&&(o.TgZ(0,"small",24),o._uU(1,"El pais es requerido"),o.qZA())}function qn(t,e){if(1&t&&o._UZ(0,"img",25),2&t){const n=o.oxw();o.Q6J("src",n.bandera,o.LSH)}}const In=[{path:"altaRepartidor",component:(()=>{class t{constructor(n,r){this.fb=n,this.fs=r,this.nombre="",this.dni=0,this.edad=0,this.capacidadTransporte=0,this.pais="",this.unidadPropia=!1,this.agregado="",this.bandera=""}ngOnInit(){this.grupoControles=this.fb.group({nombre:["",g.kI.required],dni:["",[g.kI.required,g.kI.min(1e7),g.kI.max(99999999)]],edad:["",[g.kI.required,g.kI.min(18),g.kI.max(80)]],capacidadTransporte:["",[g.kI.required,g.kI.min(1)]],pais:["",g.kI.required],unidadPropia:[!1]})}recibirPais(n){var r;this.pais=n.name,null===(r=this.grupoControles.get("pais"))||void 0===r||r.setValue(n.name),this.bandera=n.flag}cargarRepartidor(){var n,r,s,i,a,u;let l={nombre:null===(n=this.grupoControles.get("pais"))||void 0===n?void 0:n.value,bandera:this.bandera},c={dni:null===(r=this.grupoControles.get("dni"))||void 0===r?void 0:r.value,nombre:null===(s=this.grupoControles.get("nombre"))||void 0===s?void 0:s.value,edad:null===(i=this.grupoControles.get("edad"))||void 0===i?void 0:i.value,capacidadTransporte:null===(a=this.grupoControles.get("capacidadTransporte"))||void 0===a?void 0:a.value,pais:l,unidadPropia:null===(u=this.grupoControles.get("unidadPropia"))||void 0===u?void 0:u.value};this.fs.AltaRepartidores(c).then(d=>{this.agregado="Se agrego el repartidor",setTimeout(()=>{this.agregado="",this.grupoControles.reset(),this.bandera="",this.pais=""},3e3)}).catch(d=>{this.agregado="No se pudo agregar el repartidor",setTimeout(()=>{this.agregado=""},3e3)})}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(g.qu),o.Y36(bn))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-alta-repartidor"]],decls:50,vars:12,consts:[[1,"container"],[1,"mt-5","row"],[1,"col-md-4","order-md-2","mb-4"],[3,"paisEvent"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","formControlName","dni","placeholder","Ingrese el dni",1,"form-control"],["class","invalid",4,"ngIf"],["type","text","formControlName","nombre","placeholder","Ingrese el nombre",1,"form-control"],["type","text","formControlName","edad","placeholder","Ingrese la edad",1,"form-control"],["type","text","formControlName","capacidadTransporte","placeholder","Ingrese el capacidad de transporte",1,"form-control"],["type","text","formControlName","pais","placeholder","Ingrese el pais",1,"form-control"],["width","50px","height","30px","style","float: right; margin-top: 36px; margin-bottom: auto;",3,"src",4,"ngIf"],[1,"col-md-12","mb-5"],[1,"form-check"],["type","checkbox","formControlName","unidadPropia",1,"form-check-input"],[1,"form-check-label"],[1,"mb-4"],["type","submit",1,"mb-5","btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"success"],[1,"invalid"],["width","50px","height","30px",2,"float","right","margin-top","36px","margin-bottom","auto",3,"src"]],template:function(n,r){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h4"),o._uU(4,"Paises"),o.qZA(),o.TgZ(5,"app-tabla-paises",3),o.NdJ("paisEvent",function(i){return r.recibirPais(i)}),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"h4",5),o._uU(8,"Repartidor"),o.qZA(),o.TgZ(9,"form",6),o.NdJ("ngSubmit",function(){return r.cargarRepartidor()}),o.TgZ(10,"div",7),o.TgZ(11,"div",8),o.TgZ(12,"label",9),o._uU(13,"DNI"),o.qZA(),o._UZ(14,"input",10),o.YNc(15,kn,2,0,"small",11),o.YNc(16,wn,2,0,"small",11),o.qZA(),o.TgZ(17,"div",8),o.TgZ(18,"label",9),o._uU(19,"Nombre"),o.qZA(),o._UZ(20,"input",12),o.YNc(21,Cn,2,0,"small",11),o.qZA(),o.TgZ(22,"div",8),o.TgZ(23,"label",9),o._uU(24,"Edad"),o.qZA(),o._UZ(25,"input",13),o.YNc(26,vn,2,0,"small",11),o.YNc(27,Sn,2,0,"small",11),o.qZA(),o.TgZ(28,"div",8),o.TgZ(29,"label",9),o._uU(30,"Capacidad Transporte"),o.qZA(),o._UZ(31,"input",14),o.YNc(32,xn,2,0,"small",11),o.YNc(33,An,2,0,"small",11),o.qZA(),o.TgZ(34,"div",8),o.TgZ(35,"label",9),o._uU(36,"Pais Origen"),o.qZA(),o._UZ(37,"input",15),o.YNc(38,Un,2,0,"small",11),o.qZA(),o.YNc(39,qn,1,1,"img",16),o.TgZ(40,"div",17),o.TgZ(41,"div",18),o._UZ(42,"input",19),o.TgZ(43,"label",20),o._uU(44," Tiene unidad propia "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(45,"hr",21),o.TgZ(46,"button",22),o._uU(47,"Agregar repartidor"),o.qZA(),o.TgZ(48,"small",23),o._uU(49),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n){let s,i,a,u,l,c,d,h;o.xp6(9),o.Q6J("formGroup",r.grupoControles),o.xp6(6),o.Q6J("ngIf",(null==(s=r.grupoControles.get("dni"))||null==s.errors?null:s.errors.required)&&(null==(s=r.grupoControles.get("dni"))?null:s.touched)),o.xp6(1),o.Q6J("ngIf",(null==(i=r.grupoControles.get("dni"))||null==i.errors?null:i.errors.min)||(null==(i=r.grupoControles.get("dni"))||null==i.errors?null:i.errors.max)),o.xp6(5),o.Q6J("ngIf",(null==(a=r.grupoControles.get("nombre"))||null==a.errors?null:a.errors.required)&&(null==(a=r.grupoControles.get("nombre"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(u=r.grupoControles.get("edad"))||null==u.errors?null:u.errors.required)&&(null==(u=r.grupoControles.get("edad"))?null:u.touched)),o.xp6(1),o.Q6J("ngIf",(null==(l=r.grupoControles.get("edad"))||null==l.errors?null:l.errors.min)||(null==(l=r.grupoControles.get("edad"))||null==l.errors?null:l.errors.max)),o.xp6(5),o.Q6J("ngIf",(null==(c=r.grupoControles.get("capacidadTransporte"))||null==c.errors?null:c.errors.required)&&(null==(c=r.grupoControles.get("capacidadTransporte"))?null:c.touched)),o.xp6(1),o.Q6J("ngIf",null==(d=r.grupoControles.get("capacidadTransporte"))||null==d.errors?null:d.errors.min),o.xp6(5),o.Q6J("ngIf",(null==(h=r.grupoControles.get("pais"))||null==h.errors?null:h.errors.required)&&(null==(h=r.grupoControles.get("pais"))?null:h.touched)),o.xp6(1),o.Q6J("ngIf",""!=r.pais),o.xp6(7),o.Q6J("disabled",r.grupoControles.invalid),o.xp6(3),o.Oqu(r.agregado)}},directives:[yn,g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,V.O5,g.Wl],styles:[""]}),t})()}];let Pn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[ge.Bz.forChild(In)],ge.Bz]}),t})(),En=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[V.ez,Pn]]}),t})()}}]);