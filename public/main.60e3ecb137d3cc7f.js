var gI=Object.defineProperty,mI=Object.defineProperties,yI=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,_I=Object.prototype.hasOwnProperty,vI=Object.prototype.propertyIsEnumerable,sE=(Qt,ze,Z)=>ze in Qt?gI(Qt,ze,{enumerable:!0,configurable:!0,writable:!0,value:Z}):Qt[ze]=Z,oE=(Qt,ze)=>{for(var Z in ze||(ze={}))_I.call(ze,Z)&&sE(Qt,Z,ze[Z]);if(iE)for(var Z of iE(ze))vI.call(ze,Z)&&sE(Qt,Z,ze[Z]);return Qt},aE=(Qt,ze)=>mI(Qt,yI(ze));(self.webpackChunkprimerParcialLaboIV=self.webpackChunkprimerParcialLaboIV||[]).push([[179],{3692:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Ot:()=>Te,z6:()=>ge,ZF:()=>gt,hX:()=>Dt});var w=Z(5867),E=Z(1223),ve=Z(8321);class Te{constructor(Rt){return Rt}}class ge{constructor(){return(0,w.C6)()}}const ke=new E.OlP("angularfire2._apps"),Ye={provide:Te,useFactory:function We(Ne){return Ne&&1===Ne.length?Ne[0]:new Te((0,w.Mq)())},deps:[[new E.FiY,ke]]},Q={provide:ge,deps:[[new E.FiY,ke]]};function fe(Ne){return(Rt,It)=>{const it=Rt.runOutsideAngular(()=>Ne(It));return new Te(it)}}let Ze=(()=>{class Ne{constructor(It){(0,w.KN)("angularfire",ve.q4.full,"core"),(0,w.KN)("angularfire",ve.q4.full,"app"),(0,w.KN)("angular",E.q4F.full,It.toString())}}return Ne.\u0275fac=function(It){return new(It||Ne)(E.LFG(E.Lbi))},Ne.\u0275mod=E.oAB({type:Ne}),Ne.\u0275inj=E.cJS({providers:[Ye,Q]}),Ne})();function Dt(Ne,...Rt){return{ngModule:Ze,providers:[{provide:ke,useFactory:fe(Ne),multi:!0,deps:[E.R0b,E.zs3,ve.HU,...Rt]}]}}const gt=(0,ve.u3)(w.ZF,!0)},584:(Qt,ze,Z)=>{"use strict";Z.d(ze,{gg:()=>rc,ET:()=>Kc,hJ:()=>Hd,BS:()=>sc,oe:()=>cf,JU:()=>zd,ad:()=>Wd,Cm:()=>Up});var w=Z(8321),E=Z(1223),ve=Z(3692),Te=Z(5867),ge=Z(5861),Ve=Z(2090),We=Z(9681),ke=Z(1877);function Ze(p,l){var f={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&l.indexOf(y)<0&&(f[y]=p[y]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var N=0;for(y=Object.getOwnPropertySymbols(p);N<y.length;N++)l.indexOf(y[N])<0&&Object.prototype.propertyIsEnumerable.call(p,y[N])&&(f[y[N]]=p[y[N]])}return f}var Vt=Z(4859);const xn=function Sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},en=new Ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zr=new ke.Yd("@firebase/auth");function mi(p,...l){zr.logLevel<=ke.in.ERROR&&zr.error(`Auth (${We.Jn}): ${p}`,...l)}function pn(p,...l){throw Wr(p,...l)}function rr(p,...l){return Wr(p,...l)}function yi(p,l,f){const y=Object.assign(Object.assign({},xn()),{[l]:f});return new Ve.LL("auth","Firebase",y).create(l,{appName:p.name})}function Wr(p,...l){if("string"!=typeof p){const f=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=p.name),p._errorFactory.create(f,...y)}return en.create(p,...l)}function tt(p,l,...f){if(!p)throw Wr(l,...f)}function gn(p){const l="INTERNAL ASSERTION FAILED: "+p;throw mi(l),new Error(l)}function $r(p,l){p||gn(l)}const qe=new Map;function pe(p){$r(p instanceof Function,"Expected a class definition");let l=qe.get(p);return l?($r(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,qe.set(p,l),l)}function wt(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Mn{constructor(l,f){this.shortDelay=l,this.longDelay=f,$r(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.uI)()||(0,Ve.b$)()}get(){return function Qe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ct(){return"http:"===wt()||"https:"===wt()}()||(0,Ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ir{static initialize(l,f,y){this.fetchImpl=l,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pn=new Mn(3e4,6e4);function mn(p,l,f,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,ge.Z)(function*(p,l,f,y,N={}){return er(p,N,(0,ge.Z)(function*(){let U={},he={};y&&("GET"===l?he=y:U={body:JSON.stringify(y)});const Le=(0,Ve.xO)(Object.assign({key:p.config.apiKey},he)).slice(1),ht=yield p._getAdditionalHeaders();return ht["Content-Type"]="application/json",p.languageCode&&(ht["X-Firebase-Locale"]=p.languageCode),ir.fetch()(Pt(p,p.config.apiHost,f,Le),Object.assign({method:l,headers:ht,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function er(p,l,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,ge.Z)(function*(p,l,f){p._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ir),l);try{const N=new $t(p),U=yield Promise.race([f(),N.promise]);N.clearNetworkTimeout();const he=yield U.json();if("needConfirmation"in he)throw te(p,"account-exists-with-different-credential",he);if(U.ok&&!("errorMessage"in he))return he;{const Le=U.ok?he.errorMessage:he.error.message,[ht,yt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw te(p,"credential-already-in-use",he);if("EMAIL_EXISTS"===ht)throw te(p,"email-already-in-use",he);if("USER_DISABLED"===ht)throw te(p,"user-disabled",he);const an=y[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw yi(p,an,yt);pn(p,an)}}catch(N){if(N instanceof Ve.ZR)throw N;pn(p,"network-request-failed")}})).apply(this,arguments)}function Pt(p,l,f,y){const N=`${l}${f}?${y}`;return p.config.emulator?function qn(p,l){$r(p.emulator,"Emulator should always be set here");const{url:f}=p.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}(p.config,N):`${p.config.apiScheme}://${N}`}class $t{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(rr(this.auth,"network-request-failed")),Pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function te(p,l,f){const y={appName:p.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const N=rr(p,l,y);return N.customData._tokenResponse=f,N}function _e(){return(_e=(0,ge.Z)(function*(p,l){return mn(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function xt(p,l){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,ge.Z)(function*(p,l){return mn(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Yn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function nn(){return(nn=(0,ge.Z)(function*(p,l=!1){const f=(0,Ve.m9)(p),y=yield f.getIdToken(l),N=mr(y);tt(N&&N.exp&&N.auth_time&&N.iat,f.auth,"internal-error");const U="object"==typeof N.firebase?N.firebase:void 0,he=null==U?void 0:U.sign_in_provider;return{claims:N,token:y,authTime:Yn(_n(N.auth_time)),issuedAtTime:Yn(_n(N.iat)),expirationTime:Yn(_n(N.exp)),signInProvider:he||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function _n(p){return 1e3*Number(p)}function mr(p){var l;const[f,y,N]=p.split(".");if(void 0===f||void 0===y||void 0===N)return mi("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Ve.tV)(y);return U?JSON.parse(U):(mi("Failed to decode base64 JWT payload"),null)}catch(U){return mi("Caught error parsing JWT payload as JSON",null===(l=U)||void 0===l?void 0:l.toString()),null}}function ti(p,l){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,ge.Z)(function*(p,l,f=!1){if(f)return l;try{return yield l}catch(y){throw y instanceof Ve.ZR&&$i(y)&&p.auth.currentUser===p&&(yield p.auth.signOut()),y}})).apply(this,arguments)}function $i({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Js{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const N=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,ge.Z)(function*(){yield f.iteration()}),y)}iteration(){var l=this;return(0,ge.Z)(function*(){var f;try{yield l.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null===(f=y)||void 0===f?void 0:f.code)&&l.schedule(!0))}l.schedule()})()}}class tr{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,ge.Z)(function*(p){var l;const f=p.auth,y=yield p.getIdToken(),N=yield ti(p,xt(f,{idToken:y}));tt(null==N?void 0:N.users.length,f,"internal-error");const U=N.users[0];p._notifyReloadListener(U);const he=(null===(l=U.providerUserInfo)||void 0===l?void 0:l.length)?_i(U.providerUserInfo):[],Le=Ki(p.providerData,he),an=!!p.isAnonymous&&!(p.email&&U.passwordHash||(null==Le?void 0:Le.length)),Nr={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Le,metadata:new tr(U.createdAt,U.lastLoginAt),isAnonymous:an};Object.assign(p,Nr)})).apply(this,arguments)}function ni(){return(ni=(0,ge.Z)(function*(p){const l=(0,Ve.m9)(p);yield sr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Ki(p,l){return[...p.filter(y=>!l.some(N=>N.providerId===y.providerId)),...l]}function _i(p){return p.map(l=>{var{providerId:f}=l,y=Ze(l,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function ci(){return(ci=(0,ge.Z)(function*(p,l){const f=yield er(p,{},(0,ge.Z)(function*(){const y=(0,Ve.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:N,apiKey:U}=p.config,he=Pt(p,N,"/v1/token",`key=${U}`),Le=yield p._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",ir.fetch()(he,{method:"POST",headers:Le,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){tt(l.idToken,"internal-error"),tt(void 0!==l.idToken,"internal-error"),tt(void 0!==l.refreshToken,"internal-error");const f="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function yr(p){const l=mr(p);return tt(l,"internal-error"),tt(void 0!==l.exp,"internal-error"),tt(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var y=this;return(0,ge.Z)(function*(){return tt(!y.accessToken||y.refreshToken,l,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var y=this;return(0,ge.Z)(function*(){const{accessToken:N,refreshToken:U,expiresIn:he}=yield function ri(p,l){return ci.apply(this,arguments)}(l,f);y.updateTokensAndExpiration(N,U,Number(he))})()}updateTokensAndExpiration(l,f,y){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,f){const{refreshToken:y,accessToken:N,expirationTime:U}=f,he=new Rn;return y&&(tt("string"==typeof y,"internal-error",{appName:l}),he.refreshToken=y),N&&(tt("string"==typeof N,"internal-error",{appName:l}),he.accessToken=N),U&&(tt("number"==typeof U,"internal-error",{appName:l}),he.expirationTime=U),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Rn,this.toJSON())}_performRefresh(){return gn("not implemented")}}function _r(p,l){tt("string"==typeof p||void 0===p,"internal-error",{appName:l})}class vr{constructor(l){var{uid:f,auth:y,stsTokenManager:N}=l,U=Ze(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Js(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new tr(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,ge.Z)(function*(){const y=yield ti(f,f.stsTokenManager.getToken(f.auth,l));return tt(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(l){return function Ut(p){return nn.apply(this,arguments)}(this,l)}reload(){return function hr(p){return ni.apply(this,arguments)}(this)}_assign(l){this!==l&&(tt(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new vr(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var y=this;return(0,ge.Z)(function*(){let N=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),N=!0),f&&(yield sr(y)),yield y.auth._persistUserIfCurrent(y),N&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,ge.Z)(function*(){const f=yield l.getIdToken();return yield ti(l,function ae(p,l){return _e.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var y,N,U,he,Le,ht,yt,an;const Nr=null!==(y=f.displayName)&&void 0!==y?y:void 0,Hr=null!==(N=f.email)&&void 0!==N?N:void 0,Ti=null!==(U=f.phoneNumber)&&void 0!==U?U:void 0,js=null!==(he=f.photoURL)&&void 0!==he?he:void 0,Vu=null!==(Le=f.tenantId)&&void 0!==Le?Le:void 0,cc=null!==(ht=f._redirectEventId)&&void 0!==ht?ht:void 0,If=null!==(yt=f.createdAt)&&void 0!==yt?yt:void 0,La=null!==(an=f.lastLoginAt)&&void 0!==an?an:void 0,{uid:Yd,emailVerified:Qc,isAnonymous:Qd,providerData:dc,stsTokenManager:Qs}=f;tt(Yd&&Qs,l,"internal-error");const Jd=Rn.fromJSON(this.name,Qs);tt("string"==typeof Yd,l,"internal-error"),_r(Nr,l.name),_r(Hr,l.name),tt("boolean"==typeof Qc,l,"internal-error"),tt("boolean"==typeof Qd,l,"internal-error"),_r(Ti,l.name),_r(js,l.name),_r(Vu,l.name),_r(cc,l.name),_r(If,l.name),_r(La,l.name);const _l=new vr({uid:Yd,auth:l,email:Hr,emailVerified:Qc,displayName:Nr,isAnonymous:Qd,photoURL:js,phoneNumber:Ti,tenantId:Vu,stsTokenManager:Jd,createdAt:If,lastLoginAt:La});return dc&&Array.isArray(dc)&&(_l.providerData=dc.map(Df=>Object.assign({},Df))),cc&&(_l._redirectEventId=cc),_l}static _fromIdTokenResponse(l,f,y=!1){return(0,ge.Z)(function*(){const N=new Rn;N.updateFromServerResponse(f);const U=new vr({uid:f.localId,auth:l,stsTokenManager:N,isAnonymous:y});return yield sr(U),U})()}}const In=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ge.Z)(function*(){return!0})()}_set(f,y){var N=this;return(0,ge.Z)(function*(){N.storage[f]=y})()}_get(f){var y=this;return(0,ge.Z)(function*(){const N=y.storage[f];return void 0===N?null:N})()}_remove(f){var y=this;return(0,ge.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return p.type="NONE",p})();function Wn(p,l,f){return`firebase:${p}:${l}:${f}`}class Mr{constructor(l,f,y){this.persistence=l,this.auth=f,this.userKey=y;const{config:N,name:U}=this.auth;this.fullUserKey=Wn(this.userKey,N.apiKey,U),this.fullPersistenceKey=Wn("persistence",N.apiKey,U),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,ge.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?vr._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,ge.Z)(function*(){if(f.persistence===l)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,y="authUser"){return(0,ge.Z)(function*(){if(!f.length)return new Mr(pe(In),l,y);const N=(yield Promise.all(f.map(function(){var yt=(0,ge.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let U=N[0]||pe(In);const he=Wn(y,l.config.apiKey,l.name);let Le=null;for(const yt of f)try{const an=yield yt._get(he);if(an){const Nr=vr._fromJSON(l,an);yt!==U&&(Le=Nr),U=yt;break}}catch(an){}const ht=N.filter(yt=>yt._shouldAllowMigration);return U._shouldAllowMigration&&ht.length?(U=ht[0],Le&&(yield U._set(he,Le.toJSON())),yield Promise.all(f.map(function(){var yt=(0,ge.Z)(function*(an){if(an!==U)try{yield an._remove(he)}catch(Nr){}});return function(an){return yt.apply(this,arguments)}}())),new Mr(U,l,y)):new Mr(U,l,y)})()}}function Ln(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(function Ni(p=(0,Ve.z$)()){return/iemobile/i.test(p)}(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(function Er(p=(0,Ve.z$)()){return/firefox\//i.test(p)}(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(function Xt(p=(0,Ve.z$)()){return/blackberry/i.test(p)}(l))return"Blackberry";if(function Ci(p=(0,Ve.z$)()){return/webos/i.test(p)}(l))return"Webos";if(function Fr(p=(0,Ve.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}(l))return"Safari";if((l.includes("chrome/")||function Kn(p=(0,Ve.z$)()){return/crios\//i.test(p)}(l))&&!l.includes("edge/"))return"Chrome";if(function Rr(p=(0,Ve.z$)()){return/android/i.test(p)}(l))return"Android";{const y=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function W(p,l=[]){let f;switch(p){case"Browser":f=Ln((0,Ve.z$)());break;case"Worker":f=`${Ln((0,Ve.z$)())}-${p}`;break;default:f=p}const y=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${We.Jn}/${y}`}class ie{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const y=U=>new Promise((he,Le)=>{try{he(l(U))}catch(ht){Le(ht)}});y.onAbort=f,this.queue.push(y);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,ge.Z)(function*(){var y;if(f.auth.currentUser===l)return;const N=[];try{for(const U of f.queue)yield U(l),U.onAbort&&N.push(U.onAbort)}catch(U){N.reverse();for(const he of N)try{he()}catch(Le){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(y=U)||void 0===y?void 0:y.message})}})()}}class Oe{constructor(l,f,y){this.app=l,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new St(this),this.idTokenSubscription=new St(this),this.beforeStateQueue=new ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=en,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(l,f){var y=this;return f&&(this._popupRedirectResolver=pe(f)),this._initializationPromise=this.queue((0,ge.Z)(function*(){var N,U;if(!y._deleted&&(y.persistenceManager=yield Mr.create(y,l),!y._deleted)){if(null===(N=y._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(he){}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(U=y.currentUser)||void 0===U?void 0:U.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,ge.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,ge.Z)(function*(){var y;const N=yield f.assertedPersistence.getCurrentUser();let U=N,he=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Le=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,ht=null==U?void 0:U._redirectEventId,yt=yield f.tryRedirectSignIn(l);(!Le||Le===ht)&&(null==yt?void 0:yt.user)&&(U=yt.user,he=!0)}if(!U)return f.directlySetCurrentUser(null);if(!U._redirectEventId){if(he)try{yield f.beforeStateQueue.runMiddleware(U)}catch(Le){U=N,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Le))}return U?f.reloadAndSetCurrentUserOrClear(U):f.directlySetCurrentUser(null)}return tt(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===U._redirectEventId?f.directlySetCurrentUser(U):f.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(l){var f=this;return(0,ge.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch(N){yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,ge.Z)(function*(){var y;try{yield sr(l)}catch(N){if("auth/network-request-failed"!==(null===(y=N)||void 0===y?void 0:y.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function sn(){if("undefined"==typeof navigator)return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,ge.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,ge.Z)(function*(){const y=l?(0,Ve.m9)(l):null;return y&&tt(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(l,f=!1){var y=this;return(0,ge.Z)(function*(){if(!y._deleted)return l&&tt(y.tenantId===l.tenantId,y,"tenant-id-mismatch"),f||(yield y.beforeStateQueue.runMiddleware(l)),y.queue((0,ge.Z)(function*(){yield y.directlySetCurrentUser(l),y.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,ge.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,ge.Z)(function*(){yield f.assertedPersistence.setPersistence(pe(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new Ve.LL("auth","Firebase",l())}onAuthStateChanged(l,f,y){return this.registerStateListener(this.authStateSubscription,l,f,y)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,y){return this.registerStateListener(this.idTokenSubscription,l,f,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var y=this;return(0,ge.Z)(function*(){const N=yield y.getOrInitRedirectPersistenceManager(f);return null===l?N.removeCurrentUser():N.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,ge.Z)(function*(){if(!f.redirectPersistenceManager){const y=l&&pe(l)||f._popupRedirectResolver;tt(y,f,"argument-error"),f.redirectPersistenceManager=yield Mr.create(f,[pe(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,ge.Z)(function*(){var y,N;return f._isInitialized&&(yield f.queue((0,ge.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===l?f._currentUser:(null===(N=f.redirectUser)||void 0===N?void 0:N._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,ge.Z)(function*(){if(l===f.currentUser)return f.queue((0,ge.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,y,N){if(this._deleted)return()=>{};const U="function"==typeof f?f:f.next.bind(f),he=this._isInitialized?Promise.resolve():this._initializationPromise;return tt(he,this,"internal-error"),he.then(()=>U(this.currentUser)),"function"==typeof f?l.addObserver(f,y,N):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,ge.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=W(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,ge.Z)(function*(){var f;const y={"X-Client-Version":l.clientVersion};l.app.options.appId&&(y["X-Firebase-gmpid"]=l.app.options.appId);const N=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return N&&(y["X-Firebase-Client"]=N),y})()}}class St{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,Ve.ne)(f=>this.observer=f)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function qi(p){return`__${p}${Math.floor(1e6*Math.random())}`})("rcb"),new Mn(3e4,6e4),new Mn(2e3,1e4),new Mn(3e4,6e4),new Mn(5e3,15e3);var bd="@firebase/auth";class cp{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,ge.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(y=>{var N;l((null===(N=y)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ve.Pz)("authIdTokenMaxAge"),function jn(p){(0,We.Xd)(new Vt.wA("auth",(l,{options:f})=>{const y=l.getProvider("app").getImmediate(),N=l.getProvider("heartbeat"),{apiKey:U,authDomain:he}=y.options;return((Le,ht)=>{tt(U&&!U.includes(":"),"invalid-api-key",{appName:Le.name}),tt(!(null==he?void 0:he.includes(":")),"argument-error",{appName:Le.name});const yt={apiKey:U,authDomain:he,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W(p)},an=new Oe(Le,ht,yt);return function st(p,l){const f=(null==l?void 0:l.persistence)||[],y=(Array.isArray(f)?f:[f]).map(pe);(null==l?void 0:l.errorMap)&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(y,null==l?void 0:l.popupRedirectResolver)}(an,f),an})(y,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,y)=>{l.getProvider("auth-internal").initialize()})),(0,We.Xd)(new Vt.wA("auth-internal",l=>{const f=function ut(p){return(0,Ve.m9)(p)}(l.getProvider("auth").getImmediate());return new cp(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,We.KN)(bd,"0.20.8",function Ah(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,We.KN)(bd,"0.20.8","esm2017")}("Browser");class Dc{constructor(){return(0,w.vb)("auth")}}const Vh=new Map,Au={activated:!1,tokenObservers:[]},xd={initialized:!1,enabled:!1};function Bi(p){return Vh.get(p)||Au}function Gr(p,l){Vh.set(p,l)}function nu(){return xd}class Hl{constructor(l,f,y,N,U){if(this.operation=l,this.retryPolicy=f,this.getWaitDuration=y,this.lowerBound=N,this.upperBound=U,this.pending=null,this.nextErrorWaitInterval=N,N>U)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(l){var f=this;return(0,ge.Z)(function*(){f.stop();try{f.pending=new Ve.BH,yield function Sa(p){return new Promise(l=>{setTimeout(l,p)})}(f.getNextRun(l)),f.pending.resolve(),yield f.pending.promise,f.pending=new Ve.BH,yield f.operation(),f.pending.resolve(),yield f.pending.promise,f.process(!0).catch(()=>{})}catch(y){f.retryPolicy(y)?f.process(!1).catch(()=>{}):f.stop()}})()}getNextRun(l){if(l)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const f=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),f}}}const Di=new Ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rd(p){if(!Bi(p).activated)throw Di.create("use-before-activation",{appName:p.name})}function ra(p,l){return zl.apply(this,arguments)}function zl(){return(zl=(0,ge.Z)(function*({url:p,body:l},f){var y,N;const U={"Content-Type":"application/json"},he=f.getImmediate({optional:!0});if(he){const Ti=yield he.getHeartbeatsHeader();Ti&&(U["X-Firebase-Client"]=Ti)}const Le={method:"POST",body:JSON.stringify(l),headers:U};let ht,yt;try{ht=yield fetch(p,Le)}catch(Ti){throw Di.create("fetch-network-error",{originalErrorMessage:null===(y=Ti)||void 0===y?void 0:y.message})}if(200!==ht.status)throw Di.create("fetch-status-error",{httpStatus:ht.status});try{yt=yield ht.json()}catch(Ti){throw Di.create("fetch-parse-error",{originalErrorMessage:null===(N=Ti)||void 0===N?void 0:N.message})}const an=yt.ttl.match(/^([\d.]+)(s)$/);if(!an||!an[2]||isNaN(Number(an[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${yt.ttl}`});const Nr=1e3*Number(an[1]),Hr=Date.now();return{token:yt.token,expireTimeMillis:Hr+Nr,issuedAtTimeMillis:Hr}})).apply(this,arguments)}function ql(p,l){const{projectId:f,appId:y,apiKey:N}=p.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${f}/apps/${y}:exchangeDebugToken?key=${N}`,body:{debug_token:l}}}const yo="firebase-app-check-store";let xu=null;function Od(){return xu||(xu=new Promise((p,l)=>{var f;try{const y=indexedDB.open("firebase-app-check-database",1);y.onsuccess=N=>{p(N.target.result)},y.onerror=N=>{var U;l(Di.create("storage-open",{originalErrorMessage:null===(U=N.target.error)||void 0===U?void 0:U.message}))},y.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(y){l(Di.create("storage-open",{originalErrorMessage:null===(f=y)||void 0===f?void 0:f.message}))}}),xu)}function al(){return(al=(0,ge.Z)(function*(p,l){const y=(yield Od()).transaction(yo,"readwrite"),U=y.objectStore(yo).put({compositeKey:p,value:l});return new Promise((he,Le)=>{U.onsuccess=ht=>{he()},y.onerror=ht=>{var yt;Le(Di.create("storage-set",{originalErrorMessage:null===(yt=ht.target.error)||void 0===yt?void 0:yt.message}))}})})).apply(this,arguments)}const ou=new ke.Yd("@firebase/app-check");function Ra(p,l){return(0,Ve.hl)()?function Nc(p,l){return function Ma(p,l){return al.apply(this,arguments)}(function Wl(p){return`${p.options.appId}-${p.name}`}(p),l)}(p,l).catch(f=>{ou.warn(`Failed to write token to IndexedDB. Error: ${f}`)}):Promise.resolve()}function Pc(){return nu().enabled}function Pd(){return bs.apply(this,arguments)}function bs(){return(bs=(0,ge.Z)(function*(){const p=nu();if(p.enabled&&p.token)return p.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fc={error:"UNKNOWN_ERROR"};function Ys(p){return Ve.US.encodeString(JSON.stringify(p),!1)}function Yl(p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,ge.Z)(function*(p,l=!1){const f=p.app;Rd(f);const y=Bi(f);let U,N=y.token;if(N&&!Mu(N)&&(Gr(f,Object.assign(Object.assign({},y),{token:void 0})),N=void 0),!N){const ht=yield y.cachedTokenPromise;ht&&(Mu(ht)?N=ht:yield Ra(f,void 0))}if(!l&&N&&Mu(N))return{token:N.token};let Le,he=!1;if(Pc()){y.exchangeTokenPromise||(y.exchangeTokenPromise=ra(ql(f,yield Pd()),p.heartbeatServiceProvider).finally(()=>{y.exchangeTokenPromise=void 0}),he=!0);const ht=yield y.exchangeTokenPromise;return yield Ra(f,ht),Gr(f,Object.assign(Object.assign({},y),{token:ht})),{token:ht.token}}try{y.exchangeTokenPromise||(y.exchangeTokenPromise=y.provider.getToken().finally(()=>{y.exchangeTokenPromise=void 0}),he=!0),N=yield y.exchangeTokenPromise}catch(ht){"appCheck/throttled"===ht.code?ou.warn(ht.message):ou.error(ht),U=ht}return N?U?Le=Mu(N)?{token:N.token,internalError:U}:ka(U):(Le={token:N.token},Gr(f,Object.assign(Object.assign({},y),{token:N})),yield Ra(f,N)):Le=ka(U),he&&lu(f,Le),Le})).apply(this,arguments)}function Lc(p,l){const f=Bi(p),y=f.tokenObservers.filter(N=>N.next!==l);0===y.length&&f.tokenRefresher&&f.tokenRefresher.isRunning()&&f.tokenRefresher.stop(),Gr(p,Object.assign(Object.assign({},f),{tokenObservers:y}))}function uu(p){const{app:l}=p,f=Bi(l);let y=f.tokenRefresher;y||(y=function xp(p){const{app:l}=p;return new Hl((0,ge.Z)(function*(){let y;if(y=Bi(l).token?yield Yl(p,!0):yield Yl(p),y.error)throw y.error;if(y.internalError)throw y.internalError}),()=>!0,()=>{const f=Bi(l);if(f.token){let y=f.token.issuedAtTimeMillis+.5*(f.token.expireTimeMillis-f.token.issuedAtTimeMillis)+3e5;return y=Math.min(y,f.token.expireTimeMillis-3e5),Math.max(0,y-Date.now())}return 0},3e4,96e4)}(p),Gr(l,Object.assign(Object.assign({},f),{tokenRefresher:y}))),!y.isRunning()&&f.isTokenAutoRefreshEnabled&&y.start()}function lu(p,l){const f=Bi(p).tokenObservers;for(const y of f)try{"EXTERNAL"===y.type&&null!=l.error?y.error(l.error):y.next(l)}catch(N){}}function Mu(p){return p.expireTimeMillis-Date.now()>0}function ka(p){return{token:Ys(Fc),error:p}}class zh{constructor(l,f){this.app=l,this.heartbeatServiceProvider=f}_delete(){const{tokenObservers:l}=Bi(this.app);for(const f of l)Lc(this.app,f.next);return Promise.resolve()}}const Rp="app-check-internal";!function ef(){(0,We.Xd)(new Vt.wA("app-check",p=>function Gn(p,l){return new zh(p,l)}(p.getProvider("app").getImmediate(),p.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,l,f)=>{p.getProvider(Rp).initialize()})),(0,We.Xd)(new Vt.wA(Rp,p=>function qh(p){return{getToken:l=>Yl(p,l),addTokenListener:l=>function au(p,l,f,y){const{app:N}=p,U=Bi(N),he={next:f,error:y,type:l};if(Gr(N,Object.assign(Object.assign({},U),{tokenObservers:[...U.tokenObservers,he]})),U.token&&Mu(U.token)){const Le=U.token;Promise.resolve().then(()=>{f({token:Le.token}),uu(p)}).catch(()=>{})}U.cachedTokenPromise.then(()=>uu(p))}(p,"INTERNAL",l),removeTokenListener:l=>Lc(p.app,l)}}(p.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,We.KN)("@firebase/app-check","0.5.13")}();class ku{constructor(){return(0,w.vb)("app-check")}}"undefined"!=typeof window&&window;var Oa=Z(5525),fl=Z(8306),Bc=Z(4004),jc={includeMetadataChanges:!1};function Bd(p,l){return void 0===l&&(l={}),function Fu(p){return function $c(p,l){return void 0===l&&(l=jc),new fl.y(function(f){return{unsubscribe:(0,Oa.cf)(p,l,{next:f.next.bind(f),error:f.error.bind(f),complete:f.complete.bind(f)})}})}(p,{includeMetadataChanges:!0}).pipe((0,Bc.U)(function(l){return l.docs}))}(p).pipe((0,Bc.U)(function(f){return f.map(function(y){return function tf(p,l){void 0===l&&(l={});var f=p.data();return!p.exists()||"object"!=typeof f||null===f||l.idField&&(f[l.idField]=p.id),f}(y,l)})}))}class rc{constructor(l){return l}}const Hc="firestore",Pa=new E.OlP("angularfire2.firestore-instances");function zc(p){return(l,f)=>{const y=l.runOutsideAngular(()=>p(f));return new rc(y)}}const Vp={provide:class jd{constructor(){return(0,w.vb)(Hc)}},deps:[[new E.FiY,Pa]]},sf={provide:rc,useFactory:function ic(p,l){const f=(0,w.JM)(Hc,p,l);return f&&new rc(f)},deps:[[new E.FiY,Pa],ve.Ot]};let of=(()=>{class p{constructor(){(0,Te.KN)("angularfire",w.q4.full,"fst")}}return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=E.oAB({type:p}),p.\u0275inj=E.cJS({providers:[sf,Vp]}),p})();function Up(p,...l){return{ngModule:of,providers:[{provide:Pa,useFactory:zc(p),multi:!0,deps:[E.R0b,E.zs3,w.HU,ve.z6,[new E.FiY,Dc],[new E.FiY,ku],...l]}]}}const sc=(0,w.u3)(Bd,!0),Kc=(0,w.u3)(Oa.ET,!0),Hd=(0,w.u3)(Oa.hJ,!0),cf=(0,w.u3)(Oa.oe,!0),zd=(0,w.u3)(Oa.JU,!0),Wd=(0,w.u3)(Oa.ad,!0)},8321:(Qt,ze,Z)=>{"use strict";Z.d(ze,{q4:()=>xs,HU:()=>Zu,vb:()=>Ml,JM:()=>bu,u3:()=>ns});var w=Z(1223),E=Z(5867),ve=Z(5861),Te=Z(9681),ge=Z(2090),Ve=Z(4859),We=Z(1877),ke=Z(8766);const Ye="@firebase/installations",Q="0.5.13",Ze=`w:${Q}`,Dt="FIS_v2",Et=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(A){return A instanceof ge.ZR&&A.code.includes("request-failed")}function Ne({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Rt(A){return{token:A.token,requestStatus:2,expiresIn:Fe(A.expiresIn),creationTime:Date.now()}}function It(A,M){return it.apply(this,arguments)}function it(){return(it=(0,ve.Z)(function*(A,M){const X=(yield M.json()).error;return Et.create("request-failed",{requestName:A,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function on({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ce(A,{refreshToken:M}){const $=on(A);return $.append("Authorization",function He(A){return`${Dt} ${A}`}(M)),$}function oe(A){return be.apply(this,arguments)}function be(){return(be=(0,ve.Z)(function*(A){const M=yield A();return M.status>=500&&M.status<600?A():M})).apply(this,arguments)}function Fe(A){return Number(A.replace("s","000"))}function Ke(A,M){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ve.Z)(function*({appConfig:A,heartbeatServiceProvider:M},{fid:$}){const X=Ne(A),Ee=on(A),Ue=M.getImmediate({optional:!0});if(Ue){const An=yield Ue.getHeartbeatsHeader();An&&Ee.append("x-firebase-client",An)}const Lt={method:"POST",headers:Ee,body:JSON.stringify({fid:$,authVersion:Dt,appId:A.appId,sdkVersion:Ze})},ln=yield oe(()=>fetch(X,Lt));if(ln.ok){const An=yield ln.json();return{fid:An.fid||$,registrationStatus:2,refreshToken:An.refreshToken,authToken:Rt(An.authToken)}}throw yield It("Create Installation",ln)})).apply(this,arguments)}function Yt(A){return new Promise(M=>{setTimeout(M,A)})}const ur=/^[cdef][\w-]{21}$/;function Pr(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const $=function Hn(A){return function tn(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return ur.test($)?$:""}catch(A){return""}}function $n(A){return`${A.appName}!${A.appId}`}const pr=new Map;function br(A,M){const $=$n(A);Nn($,M),function xn(A,M){const $=function nr(){return!en&&"BroadcastChannel"in self&&(en=new BroadcastChannel("[Firebase] FID Change"),en.onmessage=A=>{Nn(A.data.key,A.data.fid)}),en}();$&&$.postMessage({key:A,fid:M}),function zr(){0===pr.size&&en&&(en.close(),en=null)}()}($,M)}function Nn(A,M){const $=pr.get(A);if($)for(const X of $)X(M)}let en=null;const rr="firebase-installations-store";let yi=null;function xr(){return yi||(yi=(0,ke.X3)("firebase-installations-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(rr)}})),yi}function Wr(A,M){return tt.apply(this,arguments)}function tt(){return(tt=(0,ve.Z)(function*(A,M){const $=$n(A),Ee=(yield xr()).transaction(rr,"readwrite"),Ue=Ee.objectStore(rr),ft=yield Ue.get($);return yield Ue.put(M,$),yield Ee.done,(!ft||ft.fid!==M.fid)&&br(A,M.fid),M})).apply(this,arguments)}function gn(A){return $r.apply(this,arguments)}function $r(){return($r=(0,ve.Z)(function*(A){const M=$n(A),X=(yield xr()).transaction(rr,"readwrite");yield X.objectStore(rr).delete(M),yield X.done})).apply(this,arguments)}function qe(A,M){return pe.apply(this,arguments)}function pe(){return(pe=(0,ve.Z)(function*(A,M){const $=$n(A),Ee=(yield xr()).transaction(rr,"readwrite"),Ue=Ee.objectStore(rr),ft=yield Ue.get($),Lt=M(ft);return void 0===Lt?yield Ue.delete($):yield Ue.put(Lt,$),yield Ee.done,Lt&&(!ft||ft.fid!==Lt.fid)&&br(A,Lt.fid),Lt})).apply(this,arguments)}function ye(A){return st.apply(this,arguments)}function st(){return(st=(0,ve.Z)(function*(A){let M;const $=yield qe(A.appConfig,X=>{const Ee=Re(X),Ue=Ct(A,Ee);return M=Ue.registrationPromise,Ue.installationEntry});return""===$.fid?{installationEntry:yield M}:{installationEntry:$,registrationPromise:M}})).apply(this,arguments)}function Re(A){return ir(A||{fid:Pr(),registrationStatus:0})}function Ct(A,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Et.create("app-offline"))};const $={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},X=function wt(A,M){return Qe.apply(this,arguments)}(A,$);return{installationEntry:$,registrationPromise:X}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:sn(A)}:{installationEntry:M}}function Qe(){return(Qe=(0,ve.Z)(function*(A,M){try{const $=yield Ke(A,M);return Wr(A.appConfig,$)}catch($){throw Wt($)&&409===$.customData.serverCode?yield gn(A.appConfig):yield Wr(A.appConfig,{fid:M.fid,registrationStatus:0}),$}})).apply(this,arguments)}function sn(A){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,ve.Z)(function*(A){let M=yield qn(A.appConfig);for(;1===M.registrationStatus;)yield Yt(100),M=yield qn(A.appConfig);if(0===M.registrationStatus){const{installationEntry:$,registrationPromise:X}=yield ye(A);return X||$}return M})).apply(this,arguments)}function qn(A){return qe(A,M=>{if(!M)throw Et.create("installation-not-found");return ir(M)})}function ir(A){return function Ir(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Pn(A,M){return bt.apply(this,arguments)}function bt(){return(bt=(0,ve.Z)(function*({appConfig:A,heartbeatServiceProvider:M},$){const X=mn(A,$),Ee=Ce(A,$),Ue=M.getImmediate({optional:!0});if(Ue){const An=yield Ue.getHeartbeatsHeader();An&&Ee.append("x-firebase-client",An)}const Lt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:Ze,appId:A.appId}})},ln=yield oe(()=>fetch(X,Lt));if(ln.ok)return Rt(yield ln.json());throw yield It("Generate Auth Token",ln)})).apply(this,arguments)}function mn(A,{fid:M}){return`${Ne(A)}/${M}/authTokens:generate`}function yn(A){return er.apply(this,arguments)}function er(){return(er=(0,ve.Z)(function*(A,M=!1){let $;const X=yield qe(A.appConfig,Ue=>{if(!te(Ue))throw Et.create("not-registered");const ft=Ue.authToken;if(!M&&ae(ft))return Ue;if(1===ft.requestStatus)return $=kt(A,M),Ue;{if(!navigator.onLine)throw Et.create("app-offline");const Lt=Je(Ue);return $=Pt(A,Lt),Lt}});return $?yield $:X.authToken})).apply(this,arguments)}function kt(A,M){return je.apply(this,arguments)}function je(){return(je=(0,ve.Z)(function*(A,M){let $=yield vt(A.appConfig);for(;1===$.authToken.requestStatus;)yield Yt(100),$=yield vt(A.appConfig);const X=$.authToken;return 0===X.requestStatus?yn(A,M):X})).apply(this,arguments)}function vt(A){return qe(A,M=>{if(!te(M))throw Et.create("not-registered");return function xe(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Pt(A,M){return $t.apply(this,arguments)}function $t(){return($t=(0,ve.Z)(function*(A,M){try{const $=yield Pn(A,M),X=Object.assign(Object.assign({},M),{authToken:$});return yield Wr(A.appConfig,X),$}catch($){if(!Wt($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const X=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Wr(A.appConfig,X)}else yield gn(A.appConfig);throw $}})).apply(this,arguments)}function te(A){return void 0!==A&&2===A.registrationStatus}function ae(A){return 2===A.requestStatus&&!function _e(A){const M=Date.now();return M<A.creationTime||A.creationTime+A.expiresIn<M+36e5}(A)}function Je(A){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:M})}function Jt(){return(Jt=(0,ve.Z)(function*(A){const M=A,{installationEntry:$,registrationPromise:X}=yield ye(M);return X?X.catch(console.error):yn(M).catch(console.error),$.fid})).apply(this,arguments)}function dr(){return(dr=(0,ve.Z)(function*(A,M=!1){const $=A;return yield Ut($),(yield yn($,M)).token})).apply(this,arguments)}function Ut(A){return nn.apply(this,arguments)}function nn(){return(nn=(0,ve.Z)(function*(A){const{registrationPromise:M}=yield ye(A);M&&(yield M)})).apply(this,arguments)}function sr(A){return Et.create("missing-app-config-values",{valueName:A})}const Vr="installations",ni=A=>{const M=A.getProvider("app").getImmediate(),$=function tr(A){if(!A||!A.options)throw sr("App Configuration");if(!A.name)throw sr("App Name");const M=["projectId","apiKey","appId"];for(const $ of M)if(!A.options[$])throw sr($);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(M);return{app:M,appConfig:$,heartbeatServiceProvider:(0,Te.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Ki=A=>{const M=A.getProvider("app").getImmediate(),$=(0,Te.qX)(M,Vr).getImmediate();return{getId:()=>function xt(A){return Jt.apply(this,arguments)}($),getToken:Ee=>function Yn(A){return dr.apply(this,arguments)}($,Ee)}};(function _i(){(0,Te.Xd)(new Ve.wA(Vr,ni,"PUBLIC")),(0,Te.Xd)(new Ve.wA("installations-internal",Ki,"PRIVATE"))})(),(0,Te.KN)(Ye,Q),(0,Te.KN)(Ye,Q,"esm2017");const ri="@firebase/remote-config",dt=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Oe{constructor(M,$,X,Ee){this.client=M,this.storage=$,this.storageCache=X,this.logger=Ee}isCachedDataFresh(M,$){if(!$)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-$,Ee=X<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${Ee}.`),Ee}fetch(M){var $=this;return(0,ve.Z)(function*(){const[X,Ee]=yield Promise.all([$.storage.getLastSuccessfulFetchTimestampMillis(),$.storage.getLastSuccessfulFetchResponse()]);if(Ee&&$.isCachedDataFresh(M.cacheMaxAgeMillis,X))return Ee;M.eTag=Ee&&Ee.eTag;const Ue=yield $.client.fetch(M),ft=[$.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&ft.push($.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(ft),Ue})()}}function ut(A=navigator){return A.languages&&A.languages[0]||A.language}class St{constructor(M,$,X,Ee,Ue,ft){this.firebaseInstallations=M,this.sdkVersion=$,this.namespace=X,this.projectId=Ee,this.apiKey=Ue,this.appId=ft}fetch(M){var $=this;return(0,ve.Z)(function*(){var X,Ee,Ue;const[ft,Lt]=yield Promise.all([$.firebaseInstallations.getId(),$.firebaseInstallations.getToken()]),An=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${$.projectId}/namespaces/${$.namespace}:fetch?key=${$.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},fn={sdk_version:$.sdkVersion,app_instance_id:ft,app_instance_id_token:Lt,app_id:$.appId,language_code:ut()},Vi={method:"POST",headers:bn,body:JSON.stringify(fn)},Wi=fetch(An,Vi),po=new Promise((Oo,No)=>{M.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",No(wa)})});let Vs;try{yield Promise.race([Wi,po]),Vs=yield Wi}catch(Oo){let No="fetch-client-network";throw"AbortError"===(null===(X=Oo)||void 0===X?void 0:X.name)&&(No="fetch-timeout"),dt.create(No,{originalErrorMessage:null===(Ee=Oo)||void 0===Ee?void 0:Ee.message})}let va=Vs.status;const Ea=Vs.headers.get("ETag")||void 0;let go,mo;if(200===Vs.status){let Oo;try{Oo=yield Vs.json()}catch(No){throw dt.create("fetch-client-parse",{originalErrorMessage:null===(Ue=No)||void 0===Ue?void 0:Ue.message})}go=Oo.entries,mo=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===mo?va=500:"NO_CHANGE"===mo?va=304:("NO_TEMPLATE"===mo||"EMPTY_CONFIG"===mo)&&(go={}),304!==va&&200!==va)throw dt.create("fetch-status",{httpStatus:va});return{status:va,eTag:Ea,config:go}})()}}class us{constructor(M,$){this.client=M,this.storage=$}fetch(M){var $=this;return(0,ve.Z)(function*(){const X=(yield $.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return $.attemptFetch(M,X)})()}attemptFetch(M,{throttleEndTimeMillis:$,backoffCount:X}){var Ee=this;return(0,ve.Z)(function*(){yield function vn(A,M){return new Promise(($,X)=>{const Ee=Math.max(M-Date.now(),0),Ue=setTimeout($,Ee);A.addEventListener(()=>{clearTimeout(Ue),X(dt.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,$);try{const Ue=yield Ee.client.fetch(M);return yield Ee.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Qn(A){if(!(A instanceof ge.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Ue))throw Ue;const ft={throttleEndTimeMillis:Date.now()+(0,ge.$s)(X),backoffCount:X+1};return yield Ee.storage.setThrottleMetadata(ft),Ee.attemptFetch(M,ft)}})()}}class Hs{constructor(M,$,X,Ee,Ue){this.app=M,this._client=$,this._storageCache=X,this._storage=Ee,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vi(A,M){var $;const X=A.target.error||void 0;return dt.create(M,{originalErrorMessage:X&&(null===($=X)||void 0===$?void 0:$.message)})}const ii="app_namespace_store";class Is{constructor(M,$,X,Ee=function vo(){return new Promise((A,M)=>{var $;try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=Ee=>{M(vi(Ee,"storage-open"))},X.onsuccess=Ee=>{A(Ee.target.result)},X.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(ii,{keyPath:"compositeKey"})}}catch(X){M(dt.create("storage-open",{originalErrorMessage:null===($=X)||void 0===$?void 0:$.message}))}})}()){this.appId=M,this.appName=$,this.namespace=X,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var $=this;return(0,ve.Z)(function*(){const X=yield $.openDbPromise;return new Promise((Ee,Ue)=>{var ft;const ln=X.transaction([ii],"readonly").objectStore(ii),An=$.createCompositeKey(M);try{const bn=ln.get(An);bn.onerror=fn=>{Ue(vi(fn,"storage-get"))},bn.onsuccess=fn=>{const Vi=fn.target.result;Ee(Vi?Vi.value:void 0)}}catch(bn){Ue(dt.create("storage-get",{originalErrorMessage:null===(ft=bn)||void 0===ft?void 0:ft.message}))}})})()}set(M,$){var X=this;return(0,ve.Z)(function*(){const Ee=yield X.openDbPromise;return new Promise((Ue,ft)=>{var Lt;const An=Ee.transaction([ii],"readwrite").objectStore(ii),bn=X.createCompositeKey(M);try{const fn=An.put({compositeKey:bn,value:$});fn.onerror=Vi=>{ft(vi(Vi,"storage-set"))},fn.onsuccess=()=>{Ue()}}catch(fn){ft(dt.create("storage-set",{originalErrorMessage:null===(Lt=fn)||void 0===Lt?void 0:Lt.message}))}})})()}delete(M){var $=this;return(0,ve.Z)(function*(){const X=yield $.openDbPromise;return new Promise((Ee,Ue)=>{var ft;const ln=X.transaction([ii],"readwrite").objectStore(ii),An=$.createCompositeKey(M);try{const bn=ln.delete(An);bn.onerror=fn=>{Ue(vi(fn,"storage-delete"))},bn.onsuccess=()=>{Ee()}}catch(bn){Ue(dt.create("storage-delete",{originalErrorMessage:null===(ft=bn)||void 0===ft?void 0:ft.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Go{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,ve.Z)(function*(){const $=M.storage.getLastFetchStatus(),X=M.storage.getLastSuccessfulFetchTimestampMillis(),Ee=M.storage.getActiveConfig(),Ue=yield $;Ue&&(M.lastFetchStatus=Ue);const ft=yield X;ft&&(M.lastSuccessfulFetchTimestampMillis=ft);const Lt=yield Ee;Lt&&(M.activeConfig=Lt)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Gi(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,ve.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(A){return!1}})).apply(this,arguments)}!function ks(){(0,Te.Xd)(new Ve.wA("remote-config",function A(M,{instanceIdentifier:$}){const X=M.getProvider("app").getImmediate(),Ee=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw dt.create("registration-window");if(!(0,ge.hl)())throw dt.create("indexed-db-unavailable");const{projectId:Ue,apiKey:ft,appId:Lt}=X.options;if(!Ue)throw dt.create("registration-project-id");if(!ft)throw dt.create("registration-api-key");if(!Lt)throw dt.create("registration-app-id");const ln=new Is(Lt,X.name,$=$||"firebase"),An=new Go(ln),bn=new We.Yd(ri);bn.logLevel=We.in.ERROR;const fn=new St(Ee,Te.Jn,$,Ue,ft,Lt),Vi=new us(fn,ln),Wi=new Oe(Vi,ln,An,bn),po=new Hs(X,Wi,An,ln,bn);return function Xt(A){const M=(0,ge.m9)(A);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,Te.KN)(ri,"0.3.12"),(0,Te.KN)(ri,"0.3.12","esm2017")}();const Os="/firebase-messaging-sw.js",ro="/firebase-cloud-messaging-push-scope",lr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ys="google.c.a.c_id",_s="google.c.a.c_l",zs="google.c.a.ts",Ns="google.c.a.e";var vs=(()=>{return(A=vs||(vs={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",vs;var A})();function Dr(A){const M=new Uint8Array(A);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cs(A){const $=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob($),Ee=new Uint8Array(X.length);for(let Ue=0;Ue<X.length;++Ue)Ee[Ue]=X.charCodeAt(Ue);return Ee}const xi="fcm_token_details_db",Es="fcm_token_object_Store";function G(A){return V.apply(this,arguments)}function V(){return V=(0,ve.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(xi))return null;let M=null;return(yield(0,ke.X3)(xi,5,{upgrade:(X=(0,ve.Z)(function*(Ee,Ue,ft,Lt){var ln;if(Ue<2||!Ee.objectStoreNames.contains(Es))return;const An=Lt.objectStore(Es),bn=yield An.index("fcmSenderId").get(A);if(yield An.clear(),bn)if(2===Ue){const fn=bn;if(!fn.auth||!fn.p256dh||!fn.endpoint)return;M={token:fn.fcmToken,createTime:null!==(ln=fn.createTime)&&void 0!==ln?ln:Date.now(),subscriptionOptions:{auth:fn.auth,p256dh:fn.p256dh,endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:"string"==typeof fn.vapidKey?fn.vapidKey:Dr(fn.vapidKey)}}}else if(3===Ue){const fn=bn;M={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Dr(fn.auth),p256dh:Dr(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Dr(fn.vapidKey)}}}else if(4===Ue){const fn=bn;M={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Dr(fn.auth),p256dh:Dr(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Dr(fn.vapidKey)}}}}),function(Ue,ft,Lt,ln){return X.apply(this,arguments)})})).close(),yield(0,ke.Lj)(xi),yield(0,ke.Lj)("fcm_vapid_details_db"),yield(0,ke.Lj)("undefined"),ee(M)?M:null;var X}),V.apply(this,arguments)}function ee(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:M}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const Be="firebase-messaging-store";let _t=null;function Kt(){return _t||(_t=(0,ke.X3)("firebase-messaging-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(Be)}})),_t}function S(A){return j.apply(this,arguments)}function j(){return(j=(0,ve.Z)(function*(A){const M=Xe(A),X=yield(yield Kt()).transaction(Be).objectStore(Be).get(M);if(X)return X;{const Ee=yield G(A.appConfig.senderId);if(Ee)return yield k(A,Ee),Ee}})).apply(this,arguments)}function k(A,M){return z.apply(this,arguments)}function z(){return(z=(0,ve.Z)(function*(A,M){const $=Xe(A),Ee=(yield Kt()).transaction(Be,"readwrite");return yield Ee.objectStore(Be).put(M,$),yield Ee.done,M})).apply(this,arguments)}function ue(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,ve.Z)(function*(A){const M=Xe(A),X=(yield Kt()).transaction(Be,"readwrite");yield X.objectStore(Be).delete(M),yield X.done})).apply(this,arguments)}function Xe({appConfig:A}){return A.appId}const Mt=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Cn(A,M){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,ve.Z)(function*(A,M){var $;const X=yield or(A),Ee=Qi(M),Ue={method:"POST",headers:X,body:JSON.stringify(Ee)};let ft;try{ft=yield(yield fetch(Tr(A.appConfig),Ue)).json()}catch(Lt){throw Mt.create("token-subscribe-failed",{errorInfo:null===($=Lt)||void 0===$?void 0:$.toString()})}if(ft.error)throw Mt.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw Mt.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function un(A,M){return dn.apply(this,arguments)}function dn(){return(dn=(0,ve.Z)(function*(A,M){var $;const X=yield or(A),Ee=Qi(M.subscriptionOptions),Ue={method:"PATCH",headers:X,body:JSON.stringify(Ee)};let ft;try{ft=yield(yield fetch(`${Tr(A.appConfig)}/${M.token}`,Ue)).json()}catch(Lt){throw Mt.create("token-update-failed",{errorInfo:null===($=Lt)||void 0===$?void 0:$.toString()})}if(ft.error)throw Mt.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw Mt.create("token-update-no-token");return ft.token})).apply(this,arguments)}function Zn(A,M){return zn.apply(this,arguments)}function zn(){return(zn=(0,ve.Z)(function*(A,M){var $;const Ee={method:"DELETE",headers:yield or(A)};try{const ft=yield(yield fetch(`${Tr(A.appConfig)}/${M}`,Ee)).json();if(ft.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(Ue){throw Mt.create("token-unsubscribe-failed",{errorInfo:null===($=Ue)||void 0===$?void 0:$.toString()})}})).apply(this,arguments)}function Tr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function or(A){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ve.Z)(function*({appConfig:A,installations:M}){const $=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${$}`})})).apply(this,arguments)}function Qi({p256dh:A,auth:M,endpoint:$,vapidKey:X}){const Ee={web:{endpoint:$,auth:M,p256dh:A}};return X!==lr&&(Ee.web.applicationPubKey=X),Ee}const O=6048e5;function R(A){return C.apply(this,arguments)}function C(){return(C=(0,ve.Z)(function*(A){const M=yield Ts(A.swRegistration,A.vapidKey),$={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:M.endpoint,auth:Dr(M.getKey("auth")),p256dh:Dr(M.getKey("p256dh"))},X=yield S(A.firebaseDependencies);if(X){if(Cs(X.subscriptionOptions,$))return Date.now()>=X.createTime+O?Zt(A,{token:X.token,createTime:Date.now(),subscriptionOptions:$}):X.token;try{yield Zn(A.firebaseDependencies,X.token)}catch(Ee){console.warn(Ee)}return hi(A.firebaseDependencies,$)}return hi(A.firebaseDependencies,$)})).apply(this,arguments)}function K(A){return De.apply(this,arguments)}function De(){return(De=(0,ve.Z)(function*(A){const M=yield S(A.firebaseDependencies);M&&(yield Zn(A.firebaseDependencies,M.token),yield ue(A.firebaseDependencies));const $=yield A.swRegistration.pushManager.getSubscription();return!$||$.unsubscribe()})).apply(this,arguments)}function Zt(A,M){return ar.apply(this,arguments)}function ar(){return(ar=(0,ve.Z)(function*(A,M){try{const $=yield un(A.firebaseDependencies,M),X=Object.assign(Object.assign({},M),{token:$,createTime:Date.now()});return yield k(A.firebaseDependencies,X),$}catch($){throw yield K(A),$}})).apply(this,arguments)}function hi(A,M){return si.apply(this,arguments)}function si(){return(si=(0,ve.Z)(function*(A,M){const X={token:yield Cn(A,M),createTime:Date.now(),subscriptionOptions:M};return yield k(A,X),X.token})).apply(this,arguments)}function Ts(A,M){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ve.Z)(function*(A,M){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cs(M)})})).apply(this,arguments)}function Cs(A,M){return M.vapidKey===A.vapidKey&&M.endpoint===A.endpoint&&M.auth===A.auth&&M.p256dh===A.p256dh}function ot(A){const M={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Un(A,M){if(!M.notification)return;A.notification={};const $=M.notification.title;$&&(A.notification.title=$);const X=M.notification.body;X&&(A.notification.body=X);const Ee=M.notification.image;Ee&&(A.notification.image=Ee)}(M,A),function ua(A,M){!M.data||(A.data=M.data)}(M,A),function qr(A,M){var $,X,Ee,Ue,ft;if(!M.fcmOptions&&!(null===($=M.notification)||void 0===$?void 0:$.click_action))return;A.fcmOptions={};const Lt=null!==(Ee=null===(X=M.fcmOptions)||void 0===X?void 0:X.link)&&void 0!==Ee?Ee:null===(Ue=M.notification)||void 0===Ue?void 0:Ue.click_action;Lt&&(A.fcmOptions.link=Lt);const ln=null===(ft=M.fcmOptions)||void 0===ft?void 0:ft.analytics_label;ln&&(A.fcmOptions.analyticsLabel=ln)}(M,A),M}function io(A){return"object"==typeof A&&!!A&&ys in A}function Fs(A,M){const $=[];for(let X=0;X<A.length;X++)$.push(A.charAt(X)),X<M.length&&$.push(M.charAt(X));return $.join("")}function so(A){return Mt.create("missing-app-config-values",{valueName:A})}Fs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wo{constructor(M,$,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function As(A){if(!A||!A.options)throw so("App Configuration Object");if(!A.name)throw so("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:$}=A;for(const X of M)if(!$[X])throw so(X);return{appName:A.name,projectId:$.projectId,apiKey:$.apiKey,appId:$.appId,senderId:$.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:Ee,installations:$,analyticsProvider:X}}_delete(){return Promise.resolve()}}function ja(A){return $a.apply(this,arguments)}function $a(){return($a=(0,ve.Z)(function*(A){var M;try{A.swRegistration=yield navigator.serviceWorker.register(Os,{scope:ro}),A.swRegistration.update().catch(()=>{})}catch($){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:null===(M=$)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function oo(A,M){return ao.apply(this,arguments)}function ao(){return(ao=(0,ve.Z)(function*(A,M){if(!M&&!A.swRegistration&&(yield ja(A)),M||!A.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");A.swRegistration=M}})).apply(this,arguments)}function Mi(A,M){return ds.apply(this,arguments)}function ds(){return(ds=(0,ve.Z)(function*(A,M){M?A.vapidKey=M:A.vapidKey||(A.vapidKey=lr)})).apply(this,arguments)}function Ls(){return(Ls=(0,ve.Z)(function*(A,M){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield Mi(A,null==M?void 0:M.vapidKey),yield oo(A,null==M?void 0:M.serviceWorkerRegistration),R(A)})).apply(this,arguments)}function Pi(A,M,$){return bo.apply(this,arguments)}function bo(){return(bo=(0,ve.Z)(function*(A,M,$){const X=Bu(M);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:$[ys],message_name:$[_s],message_time:$[zs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bu(A){switch(A){case vs.NOTIFICATION_CLICKED:return"notification_open";case vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ju(){return(ju=(0,ve.Z)(function*(A,M){const $=M.data;if(!$.isFirebaseMessaging)return;A.onMessageHandler&&$.messageType===vs.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(ot($)):A.onMessageHandler.next(ot($)));const X=$.data;io(X)&&"1"===X[Ns]&&(yield Pi(A,$.messageType,X))})).apply(this,arguments)}const qs="@firebase/messaging",zo=A=>{const M=new wo(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",$=>function la(A,M){return ju.apply(this,arguments)}(M,$)),M},ca=A=>{const M=A.getProvider("messaging").getImmediate();return{getToken:X=>function Ho(A,M){return Ls.apply(this,arguments)}(M,X)}};function $u(){return lo.apply(this,arguments)}function lo(){return(lo=(0,ve.Z)(function*(){try{yield(0,ge.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uo(){(0,Te.Xd)(new Ve.wA("messaging",zo,"PUBLIC")),(0,Te.Xd)(new Ve.wA("messaging-internal",ca,"PRIVATE")),(0,Te.KN)(qs,"0.9.17"),(0,Te.KN)(qs,"0.9.17","esm2017")}();const Or="analytics",Cr="firebase_id",_c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mt="https://www.googletagmanager.com/gtag/js",Xn=new We.Yd("@firebase/analytics");function Jr(A){return Promise.all(A.map(M=>M.catch($=>$)))}function Wo(A,M){const $=document.createElement("script");$.src=`${mt}?l=${A}&id=${M}`,$.async=!0,document.head.appendChild($)}function hn(A,M,$,X,Ee,Ue){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,ve.Z)(function*(A,M,$,X,Ee,Ue){const ft=X[Ee];try{if(ft)yield M[ft];else{const ln=(yield Jr($)).find(An=>An.measurementId===Ee);ln&&(yield M[ln.appId])}}catch(Lt){Xn.error(Lt)}A("config",Ee,Ue)})).apply(this,arguments)}function Nt(A,M,$,X,Ee){return $e.apply(this,arguments)}function $e(){return($e=(0,ve.Z)(function*(A,M,$,X,Ee){try{let Ue=[];if(Ee&&Ee.send_to){let ft=Ee.send_to;Array.isArray(ft)||(ft=[ft]);const Lt=yield Jr($);for(const ln of ft){const An=Lt.find(fn=>fn.measurementId===ln),bn=An&&M[An.appId];if(!bn){Ue=[];break}Ue.push(bn)}}0===Ue.length&&(Ue=Object.values(M)),yield Promise.all(Ue),A("event",X,Ee||{})}catch(Ue){Xn.error(Ue)}})).apply(this,arguments)}function Gu(){const A=window.document.getElementsByTagName("script");for(const M of Object.values(A))if(M.src&&M.src.includes(mt))return M;return null}const Fi=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_u=new class Do{constructor(M={},$=1e3){this.throttleMetadata=M,this.intervalMillis=$}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,$){this.throttleMetadata[M]=$}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function ud(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Hu(A){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,ve.Z)(function*(A){var M;const{appId:$,apiKey:X}=A,Ee={method:"GET",headers:ud(X)},Ue=_c.replace("{app-id}",$),ft=yield fetch(Ue,Ee);if(200!==ft.status&&304!==ft.status){let Lt="";try{const ln=yield ft.json();(null===(M=ln.error)||void 0===M?void 0:M.message)&&(Lt=ln.error.message)}catch(ln){}throw Fi.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:Lt})}return ft.json()})).apply(this,arguments)}function za(A){return En.apply(this,arguments)}function En(){return(En=(0,ve.Z)(function*(A,M=_u,$){const{appId:X,apiKey:Ee,measurementId:Ue}=A.options;if(!X)throw Fi.create("no-app-id");if(!Ee){if(Ue)return{measurementId:Ue,appId:X};throw Fi.create("no-api-key")}const ft=M.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Lt=new Ss;return setTimeout((0,ve.Z)(function*(){Lt.abort()}),void 0!==$?$:6e4),To({appId:X,apiKey:Ee,measurementId:Ue},ft,Lt,M)})).apply(this,arguments)}function To(A,M,$){return ga.apply(this,arguments)}function ga(){return(ga=(0,ve.Z)(function*(A,{throttleEndTimeMillis:M,backoffCount:$},X,Ee=_u){var Ue,ft;const{appId:Lt,measurementId:ln}=A;try{yield Lr(X,M)}catch(An){if(ln)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${null===(Ue=An)||void 0===Ue?void 0:Ue.message}]`),{appId:Lt,measurementId:ln};throw An}try{const An=yield Hu(A);return Ee.deleteThrottleMetadata(Lt),An}catch(An){const bn=An;if(!wn(bn)){if(Ee.deleteThrottleMetadata(Lt),ln)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${null==bn?void 0:bn.message}]`),{appId:Lt,measurementId:ln};throw An}const fn=503===Number(null===(ft=null==bn?void 0:bn.customData)||void 0===ft?void 0:ft.httpStatus)?(0,ge.$s)($,Ee.intervalMillis,30):(0,ge.$s)($,Ee.intervalMillis),Vi={throttleEndTimeMillis:Date.now()+fn,backoffCount:$+1};return Ee.setThrottleMetadata(Lt,Vi),Xn.debug(`Calling attemptFetch again in ${fn} millis`),To(A,Vi,X,Ee)}})).apply(this,arguments)}function Lr(A,M){return new Promise(($,X)=>{const Ee=Math.max(M-Date.now(),0),Ue=setTimeout($,Ee);A.addEventListener(()=>{clearTimeout(Ue),X(Fi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function wn(A){if(!(A instanceof ge.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Ss{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Tn,q;function oi(){return(oi=(0,ve.Z)(function*(A,M,$,X,Ee){if(Ee&&Ee.global)A("event",$,X);else{const Ue=yield M;A("event",$,Object.assign(Object.assign({},X),{send_to:Ue}))}})).apply(this,arguments)}function ne(A){q=A}function ce(A){Tn=A}function Ge(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ve.Z)(function*(){var A;if(!(0,ge.hl)())return Xn.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(M){return Xn.warn(Fi.create("indexeddb-unavailable",{errorInfo:null===(A=M)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function qt(){return(qt=(0,ve.Z)(function*(A,M,$,X,Ee,Ue,ft){var Lt;const ln=za(A);ln.then(Wi=>{$[Wi.measurementId]=Wi.appId,A.options.measurementId&&Wi.measurementId!==A.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wi=>Xn.error(Wi)),M.push(ln);const An=Ge().then(Wi=>{if(Wi)return X.getId()}),[bn,fn]=yield Promise.all([ln,An]);Gu()||Wo(Ue,bn.measurementId),q&&(Ee("consent","default",q),ne(void 0)),Ee("js",new Date);const Vi=null!==(Lt=null==ft?void 0:ft.config)&&void 0!==Lt?Lt:{};return Vi.origin="firebase",Vi.update=!0,null!=fn&&(Vi[Cr]=fn),Ee("config",bn.measurementId,Vi),Tn&&(Ee("set",Tn),ce(void 0)),bn.measurementId})).apply(this,arguments)}class wr{constructor(M){this.app=M}_delete(){return delete we[this.app.options.appId],Promise.resolve()}}let we={},Ji=[];const Ei={};let ki,Li,fr="dataLayer",Oi=!1;function ya(A,M,$){!function ma(){const A=[];if((0,ge.ru)()&&A.push("This is a browser extension environment."),(0,ge.zI)()||A.push("Cookies are not available."),A.length>0){const M=A.map((X,Ee)=>`(${Ee+1}) ${X}`).join(" "),$=Fi.create("invalid-analytics-context",{errorInfo:M});Xn.warn($.message)}}();const X=A.options.appId;if(!X)throw Fi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Fi.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=we[X])throw Fi.create("already-exists",{id:X});if(!Oi){!function Gt(A){let M=[];Array.isArray(window[A])?M=window[A]:window[A]=M}(fr);const{wrappedGtag:Ue,gtagCore:ft}=function Ur(A,M,$,X,Ee){let Ue=function(...ft){window[X].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Ue=window[Ee]),window[Ee]=function ct(A,M,$,X){function Ue(){return(Ue=(0,ve.Z)(function*(ft,Lt,ln){try{"event"===ft?yield Nt(A,M,$,Lt,ln):"config"===ft?yield hn(A,M,$,X,Lt,ln):"consent"===ft?A("consent","update",ln):A("set",Lt)}catch(An){Xn.error(An)}})).apply(this,arguments)}return function Ee(ft,Lt,ln){return Ue.apply(this,arguments)}}(Ue,A,M,$),{gtagCore:Ue,wrappedGtag:window[Ee]}}(we,Ji,Ei,fr,"gtag");Li=Ue,ki=ft,Oi=!0}return we[X]=function Fn(A,M,$,X,Ee,Ue,ft){return qt.apply(this,arguments)}(A,Ji,Ei,M,ki,fr,$),new wr(A)}function Eu(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,ve.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(A){return!1}})).apply(this,arguments)}const Ws="@firebase/analytics";!function es(){(0,Te.Xd)(new Ve.wA(Or,(M,{options:$})=>ya(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),$),"PUBLIC")),(0,Te.Xd)(new Ve.wA("analytics-internal",function A(M){try{const $=M.getProvider(Or).getImmediate();return{logEvent:(X,Ee,Ue)=>function _h(A,M,$,X){A=(0,ge.m9)(A),function Ko(A,M,$,X,Ee){return oi.apply(this,arguments)}(Li,we[A.app.options.appId],M,$,X).catch(Ee=>Xn.error(Ee))}($,X,Ee,Ue)}}catch($){throw Fi.create("interop-component-reg-failed",{reason:$})}},"PRIVATE")),(0,Te.KN)(Ws,"0.8.1"),(0,Te.KN)(Ws,"0.8.1","esm2017")}();var Wu=Z(727);class _a extends Wu.w0{constructor(M,$){super()}schedule(M,$=0){return this}}const Bn={setInterval(...A){const{delegate:M}=Bn;return((null==M?void 0:M.setInterval)||setInterval)(...A)},clearInterval(A){const{delegate:M}=Bn;return((null==M?void 0:M.clearInterval)||clearInterval)(A)},delegate:void 0};var Ao=Z(8737);class Zo extends _a{constructor(M,$){super(M,$),this.scheduler=M,this.work=$,this.pending=!1}schedule(M,$=0){if(this.closed)return this;this.state=M;const X=this.id,Ee=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(Ee,X,$)),this.pending=!0,this.delay=$,this.id=this.id||this.requestAsyncId(Ee,this.id,$),this}requestAsyncId(M,$,X=0){return Bn.setInterval(M.flush.bind(M,this),X)}recycleAsyncId(M,$,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return $;Bn.clearInterval($)}execute(M,$){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(M,$);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,$){let Ee,X=!1;try{this.work(M)}catch(Ue){X=!0,Ee=Ue||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:M,scheduler:$}=this,{actions:X}=$;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ao.P)(X,this),null!=M&&(this.id=this.recycleAsyncId($,M,null)),this.delay=null,super.unsubscribe()}}}const Wa={now:()=>(Wa.delegate||Date).now(),delegate:void 0};class ts{constructor(M,$=ts.now){this.schedulerActionCtor=M,this.now=$}schedule(M,$=0,X){return new this.schedulerActionCtor(this,M).schedule(X,$)}}ts.now=Wa.now;class qi extends ts{constructor(M,$=ts.now){super(M,$),this.actions=[],this._active=!1,this._scheduled=void 0}flush(M){const{actions:$}=this;if(this._active)return void $.push(M);let X;this._active=!0;do{if(X=M.execute(M.state,M.delay))break}while(M=$.shift());if(this._active=!1,X){for(;M=$.shift();)M.unsubscribe();throw X}}}const Yo=new class Ka extends qi{}(class Sl extends Zo{constructor(M,$){super(M,$),this.scheduler=M,this.work=$}schedule(M,$=0){return $>0?super.schedule(M,$):(this.delay=$,this.state=M,this.scheduler.flush(this),this)}execute(M,$){return $>0||this.closed?super.execute(M,$):this._execute(M,$)}requestAsyncId(M,$,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(M,$,X):M.flush(this)}}),So=new qi(Zo);var Jo=Z(8306),eo=Z(8505),wu=Z(9468),co=Z(5363);const xs=new w.GfV("7.4.1"),ho="__angularfire_symbol__analyticsIsSupportedValue",fo="__angularfire_symbol__analyticsIsSupported",xo="__angularfire_symbol__remoteConfigIsSupportedValue",Za="__angularfire_symbol__remoteConfigIsSupported",Ya="__angularfire_symbol__messagingIsSupportedValue",Ku="__angularfire_symbol__messagingIsSupported";function bu(A,M,$){if(M){if(1===M.length)return M[0];const Ue=M.filter(ft=>ft.app===$);if(1===Ue.length)return Ue[0]}return $.container.getProvider(A).getImmediate({optional:!0})}globalThis[fo]||(globalThis[fo]=Eu().then(A=>globalThis[ho]=A).catch(()=>globalThis[ho]=!1)),globalThis[Ku]||(globalThis[Ku]=$u().then(A=>globalThis[Ya]=A).catch(()=>globalThis[Ya]=!1)),globalThis[Za]||(globalThis[Za]=Gi().then(A=>globalThis[xo]=A).catch(()=>globalThis[xo]=!1));const Ml=(A,M)=>{const $=M?[M]:(0,E.C6)(),X=[];return $.forEach(Ee=>{Ee.container.getProvider(A).instances.forEach(ft=>{X.includes(ft)||X.push(ft)})}),X};function Xo(){}class Mo{constructor(M,$=Yo){this.zone=M,this.delegate=$}now(){return this.delegate.now()}schedule(M,$,X){const Ee=this.zone;return this.delegate.schedule(function(ft){Ee.runGuarded(()=>{M.apply(this,[ft])})},$,X)}}class bi{constructor(M){this.zone=M,this.task=null}call(M,$){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),$.pipe((0,eo.b)({next:X,complete:X,error:X})).subscribe(M).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zu=(()=>{class A{constructor($){this.ngZone=$,this.outsideAngular=$.runOutsideAngular(()=>new Mo(Zone.current)),this.insideAngular=$.run(()=>new Mo(Zone.current,So)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function($){return new($||A)(w.LFG(w.R0b))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function cr(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function vh(A){return cr().ngZone.runOutsideAngular(()=>A())}function Ms(A){return cr().ngZone.run(()=>A())}function ko(A){return cr(),function Iu(A){return function($){return($=$.lift(new bi(A.ngZone))).pipe((0,wu.R)(A.outsideAngular),(0,co.Q)(A.insideAngular))}}(cr())(A)}const Xa=(A,M)=>{const $=void 0;return function(){const X=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),Ms(()=>A.apply($,X))}},ns=(A,M)=>function(){let $;const X=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof X[Ue]&&(M&&($||($=Ms(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)))),X[Ue]=Xa(X[Ue],$));const Ee=vh(()=>A.apply(this,X));if(!M){if(Ee instanceof Jo.y){const Ue=cr();return Ee.pipe((0,wu.R)(Ue.outsideAngular),(0,co.Q)(Ue.insideAngular))}return Ms(()=>Ee)}return Ee instanceof Jo.y?Ee.pipe(ko):Ee instanceof Promise?Ms(()=>new Promise((Ue,ft)=>Ee.then(Lt=>Ms(()=>Ue(Lt)),Lt=>Ms(()=>ft(Lt))))):"function"==typeof Ee&&$?function(){return setTimeout(()=>{$&&"scheduled"===$.state&&$.invoke()},10),Ee.apply(this,arguments)}:Ms(()=>Ee)}},5525:(Qt,ze,Z)=>{"use strict";Z.d(ze,{ET:()=>bg,hJ:()=>ed,oe:()=>Ly,JU:()=>pc,ad:()=>wy,cf:()=>fh,r7:()=>Fy});var ke,w=Z(5861),E=Z(9681),ve=Z(4859),Te=Z(1877),ge=Z(2090),Ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},We={},Ye=Ye||{},Q=Ve||self;function fe(){}function Ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Dt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function gt(i,e,t){return i.call.apply(i.bind,arguments)}function Ot(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Et(i,e,t){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:Ot).apply(null,arguments)}function Wt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ne(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),I=2;I<arguments.length;I++)g[I-2]=arguments[I];return e.prototype[u].apply(o,g)}}function Rt(){this.s=this.s,this.o=this.o}var it={};Rt.prototype.s=!1,Rt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function nt(i){return Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++zt)}(this);delete it[i]}},Rt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ce(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function oe(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ze(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function be(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",fe,e),Q.removeEventListener("test",fe,e)}catch(t){}return i}();function He(i){return/^[\s\xa0]*$/.test(i)}var Ke=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ae(i,e){return i<e?-1:i>e?1:0}function Yt(){var i=Q.navigator;return i&&(i=i.userAgent)?i:""}function tn(i){return-1!=Yt().indexOf(i)}function ur(i){return ur[" "](i),i}ur[" "]=fe;var Nn,i,Pr=tn("Opera"),Hn=tn("Trident")||tn("MSIE"),$n=tn("Edge"),pr=$n||Hn,br=tn("Gecko")&&!(-1!=Yt().toLowerCase().indexOf("webkit")&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),gr=-1!=Yt().toLowerCase().indexOf("webkit")&&!tn("Edge");function Sn(){var i=Q.document;return i?i.documentMode:void 0}e:{var xn="",en=(i=Yt(),br?/rv:([^\);]+)(\)|;)/.exec(i):$n?/Edge\/([\d\.]+)/.exec(i):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gr?/WebKit\/(\S+)/.exec(i):Pr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(en&&(xn=en?en[1]:""),Hn){var nr=Sn();if(null!=nr&&nr>parseFloat(xn)){Nn=String(nr);break e}}Nn=xn}var zr={};var yi=Q.document&&Hn&&(Sn()||parseInt(Nn,10))||void 0;function xr(i,e){if(be.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(br){e:{try{ur(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&xr.X.h.call(this)}}Ne(xr,be);var Wr={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),gn=0;function $r(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++gn,this.ba=this.ea=!1}function qe(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function pe(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function ye(i){const e={};for(const t in i)e[t]=i[t];return e}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<st.length;d++)t=st[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Ct(i){this.src=i,this.g={},this.h=0}function wt(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=on(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(qe(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Qe(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}Ct.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=Qe(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new $r(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),Mn={};function qn(i,e,t,o,u){if(o&&o.once)return Pn(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)qn(i,e[d],t,o,u);return null}return t=vt(t),i&&i[tt]?i.N(e,t,Dt(o)?!!o.capture:!!o,u):ir(i,e,t,!1,o,u)}function ir(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var g=Dt(u)?!!u.capture:!!u,I=kt(i);if(I||(i[sn]=I=new Ct(i)),(t=I.add(e,t,o,g,d)).proxy)return t;if(o=function Ir(){const e=er;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Fe||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(yn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Pn(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Pn(i,e[d],t,o,u);return null}return t=vt(t),i&&i[tt]?i.O(e,t,Dt(o)?!!o.capture:!!o,u):ir(i,e,t,!0,o,u)}function bt(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)bt(i,e[d],t,o,u);else o=Dt(o)?!!o.capture:!!o,t=vt(t),i&&i[tt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Qe(d=i.g[e],t,o,u))&&(qe(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=kt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Qe(e,t,o,u)),(t=-1<i?e[i]:null)&&mn(t))}function mn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[tt])wt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(yn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=kt(e))?(wt(t,i),0==t.h&&(t.src=null,e[sn]=null)):qe(i)}}}function yn(i){return i in Mn?Mn[i]:Mn[i]="on"+i}function er(i,e){if(i.ba)i=!0;else{e=new xr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&mn(i),i=t.call(o,e)}return i}function kt(i){return(i=i[sn])instanceof Ct?i:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(i){return"function"==typeof i?i:(i[je]||(i[je]=function(e){return i.handleEvent(e)}),i[je])}function Pt(){Rt.call(this),this.i=new Ct(this),this.P=this,this.I=null}function $t(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new be(e,i);else if(e instanceof be)e.target=e.target||i;else{var u=e;Re(e=new be(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];u=te(g,o,!0,e)&&u}if(u=te(g=e.g=i,o,!0,e)&&u,u=te(g,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=te(g=e.g=t[d],o,!1,e)&&u}function te(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var I=g.listener,P=g.ha||g.src;g.ea&&wt(i.i,g),u=!1!==I.call(P,o)&&u}}return u&&!o.defaultPrevented}Ne(Pt,Rt),Pt.prototype[tt]=!0,Pt.prototype.removeEventListener=function(i,e,t,o){bt(this,i,e,t,o)},Pt.prototype.M=function(){if(Pt.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)qe(t[o]);delete i.g[e],i.h--}}this.I=null},Pt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Pt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var ae=Q.JSON.stringify;function _e(){var i=_n;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var dr,xe=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new xt,i=>i.reset());class xt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Jt(i){Q.setTimeout(()=>{throw i},0)}function Yn(i,e){dr||function Ut(){var i=Q.Promise.resolve(void 0);dr=function(){i.then(mr)}}(),nn||(dr(),nn=!0),_n.add(i,e)}var nn=!1,_n=new class Je{constructor(){this.h=this.g=null}add(e,t){const o=xe.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function mr(){for(var i;i=_e();){try{i.h.call(i.g)}catch(t){Jt(t)}var e=xe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}nn=!1}function yr(i,e){Pt.call(this),this.h=i||1,this.g=e||Q,this.j=Et(this.kb,this),this.l=Date.now()}function ti(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Yr(i,e,t){if("function"==typeof i)t&&(i=Et(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Et(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function $i(i){i.g=Yr(()=>{i.g=null,i.i&&(i.i=!1,$i(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ne(yr,Pt),(ke=yr.prototype).ca=!1,ke.R=null,ke.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$t(this,"tick"),this.ca&&(ti(this),this.start()))}},ke.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ke.M=function(){yr.X.M.call(this),ti(this),delete this.g};class Js extends Rt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$i(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(i){Rt.call(this),this.h=i,this.g={}}Ne(tr,Rt);var sr=[];function Vr(i,e,t,o){Array.isArray(t)||(t&&(sr[0]=t.toString()),t=sr);for(var u=0;u<t.length;u++){var d=qn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function hr(i){pe(i.g,function(e,t){this.g.hasOwnProperty(t)&&mn(e)},i),i.g={}}function ni(){this.g=!0}function ri(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return ae(t)}catch(I){return e}}(i,t)+(o?" "+o:"")})}tr.prototype.M=function(){tr.X.M.call(this),hr(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ni.prototype.Aa=function(){this.g=!1},ni.prototype.info=function(){};var _r={},vr=null;function dt(){return vr=vr||new Pt}function In(i){be.call(this,_r.Oa,i)}function Wn(i){const e=dt();$t(e,new In(e,i))}function Mr(i,e){be.call(this,_r.STAT_EVENT,i),this.stat=e}function Ln(i){const e=dt();$t(e,new Mr(e,i))}function Er(i,e){be.call(this,_r.Pa,i),this.size=e}function Fr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}_r.Oa="serverreachability",Ne(In,be),_r.STAT_EVENT="statevent",Ne(Mr,be),_r.Pa="timingevent",Ne(Er,be);var Kn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ni={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rr(){}function Ci(){}Rr.prototype.h=null;var Qr,kr={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function as(){be.call(this,"d")}function di(){be.call(this,"c")}function se(){}function re(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new tr(this),this.O=ie,this.T=new yr(i=pr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new W}function W(){this.i=null,this.g="",this.h=!1}Ne(as,be),Ne(di,be),Ne(se,Rr),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Qr=new se;var ie=45e3,Oe={},ut={};function St(i,e,t){i.K=1,i.v=ms(Gi(e)),i.s=t,i.P=!0,vn(i,null)}function vn(i,e){i.F=Date.now(),Kr(i),i.A=Gi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),V(t.i,"t",o),i.C=0,t=i.l.H,i.h=new W,i.g=la(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Js(Et(i.Ka,i,i.g),i.N)),Vr(i.S,i.g,"readystatechange",i.hb),e=i.H?ye(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Wn(1),function Ki(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",I=d.split("&"),P=0;P<I.length;P++){var B=I[P].split("=");if(1<B.length){var Y=B[0];B=B[1];var de=Y.split("_");g=2<=de.length&&"type"==de[1]?g+(Y+"=")+B+"&":g+(Y+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Qn(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function us(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Gs(i,t),u==ut){4==e&&(i.o=4,Ln(14),o=!1),ri(i.j,i.m,null,"[Incomplete Response]");break}if(u==Oe){i.o=4,Ln(15),ri(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}ri(i.j,i.m,u,null),ls(i,u)}Qn(i)&&u!=ut&&u!=Oe&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ln(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ao(e),e.K=!0,Ln(11))):(ri(i.j,i.m,t,"[Invalid Chunked Response]"),Ai(i),ii(i))}function Gs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ut:(t=Number(e.substring(t,o)),isNaN(t)?Oe:(o+=1)+t>e.length?ut:(e=e.substr(o,t),i.C=o+t,e))}function Kr(i){i.V=Date.now()+i.O,Hs(i,i.O)}function Hs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fr(Et(i.fb,i),e)}function vi(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function ii(i){0==i.l.G||i.I||Ho(i.l,i)}function Ai(i){vi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ti(i.T),hr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ls(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||j(t.h,i)))if(!i.J&&j(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(B){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Fr(Et(t.bb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;ds(t),qr(t)}oo(t),Ln(18)}if(1>=S(t.h)&&t.ja){try{t.ja()}catch(B){}t.ja=void 0}}else Pi(t,11)}else if((i.J||t.g==i)&&ds(t),!He(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let B=u[e];if(t.T=B[0],B=B[1],2==t.G)if("c"==B[0]){t.I=B[1],t.ka=B[2];const Y=B[3];null!=Y&&(t.ma=Y,t.j.info("VER="+t.ma));const de=B[4];null!=de&&(t.Ca=de,t.j.info("SVER="+t.Ca));const Pe=B[5];null!=Pe&&"number"==typeof Pe&&0<Pe&&(t.J=o=1.5*Pe,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const rt=i.g;if(rt){const at=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(at){var d=o.h;d.g||-1==at.indexOf("spdy")&&-1==at.indexOf("quic")&&-1==at.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(k(d,d.h),d.h=null))}if(o.D){const Ht=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ht&&(o.za=Ht,lr(o.F,o.D,Ht))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=Bu(o,o.H?o.ka:null,o.V),g.J){z(o.h,g);var I=g,P=o.J;P&&I.setTimeout(P),I.B&&(vi(I),Kr(I)),o.g=g}else $a(o);0<t.i.length&&Fs(t)}else"stop"!=B[0]&&"close"!=B[0]||Pi(t,7);else 3==t.G&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?Pi(t,7):ua(t):"noop"!=B[0]&&t.l&&t.l.wa(B),t.A=0)}Wn(4)}catch(B){}}function Go(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ze(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Is(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(Ze(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function vo(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ze(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(ke=re.prototype).setTimeout=function(i){this.O=i},ke.hb=function(i){i=i.target;const e=this.L;e&&3==si(i)?e.l():this.Ka(i)},ke.Ka=function(i){try{if(i==this.g)e:{const Y=si(this.g);var e=this.g.Ea();const de=this.g.aa();if(!(3>Y)&&(3!=Y||pr||this.g&&(this.h.h||this.g.fa()||Ts(this.g)))){this.I||4!=Y||7==e||Wn(8==e||0>=de?3:2),vi(this);var t=this.g.aa();this.Y=t;t:if(Qn(this)){var o=Ts(this.g);i="";var u=o.length,d=4==si(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ai(this),ii(this);var g="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function _i(i,e,t,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,Y,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var I,P=this.g;if((I=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(I)){var B=I;break t}}B=null}if(!(t=B)){this.i=!1,this.o=3,Ln(12),Ai(this),ii(this);break e}ri(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ls(this,t)}this.P?(us(this,Y,g),pr&&this.i&&3==Y&&(Vr(this.S,this.T,"tick",this.gb),this.T.start())):(ri(this.j,this.m,g,null),ls(this,g)),4==Y&&Ai(this),this.i&&!this.I&&(4==Y?Ho(this.l,this):(this.i=!1,Kr(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Ln(12)):(this.o=0,Ln(13)),Ai(this),ii(this)}}}catch(Y){}},ke.gb=function(){if(this.g){var i=si(this.g),e=this.g.fa();this.C<e.length&&(vi(this),us(this,i,e),this.i&&4!=i&&Kr(this))}},ke.cancel=function(){this.I=!0,Ai(this)},ke.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ci(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wn(3),Ln(17)),Ai(this),this.o=2,ii(this)):Hs(this,this.V-i)};var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Si(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Si){this.h=void 0!==e?e:i.h,Zi(this,i.j),this.s=i.s,this.g=i.g,Os(this,i.m),this.l=i.l,e=i.i;var t=new xi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ro(this,t),this.o=i.o}else i&&(t=String(i).match(ks))?(this.h=!!e,Zi(this,t[1]||"",!0),this.s=ys(t[2]||""),this.g=ys(t[3]||"",!0),Os(this,t[4]),this.l=ys(t[5]||"",!0),ro(this,t[6]||"",!0),this.o=ys(t[7]||"")):(this.h=!!e,this.i=new xi(null,this.h))}function Gi(i){return new Si(i)}function Zi(i,e,t){i.j=t?ys(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Os(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ro(i,e,t){e instanceof xi?(i.i=e,function le(i,e){e&&!i.j&&(Yi(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Es(this,o),V(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=_s(e,Dr)),i.i=new xi(e,i.h))}function lr(i,e,t){i.i.set(e,t)}function ms(i){return lr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ys(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _s(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,zs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function zs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Si.prototype.toString=function(){var i=[],e=this.j;e&&i.push(_s(e,Ns,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(_s(e,Ns,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(_s(t,"/"==t.charAt(0)?vs:Ds,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",_s(t,cs)),i.join("")};var Ns=/[#\/\?@]/g,Ds=/[#\?:]/g,vs=/[#\?]/g,Dr=/[#\?@]/g,cs=/#/g;function xi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Yi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Eo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Es(i,e){Yi(i),e=ee(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function G(i,e){return Yi(i),e=ee(i,e),i.g.has(e)}function V(i,e,t){Es(i,e),0<t.length&&(i.i=null,i.g.set(ee(i,e),Ce(t)),i.h+=t.length)}function ee(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Be(i){this.l=i||_t,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ke=xi.prototype).add=function(i,e){Yi(this),this.i=null,i=ee(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ke.forEach=function(i,e){Yi(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ke.oa=function(){Yi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},ke.W=function(i){Yi(this);let e=[];if("string"==typeof i)G(this,i)&&(e=e.concat(this.g.get(ee(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ke.set=function(i,e){return Yi(this),this.i=null,G(this,i=ee(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ke.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var _t=10;function Kt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function S(i){return i.h?1:i.g?i.g.size:0}function j(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function k(i,e){i.g?i.g.add(e):i.h=e}function z(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ue(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ce(i.i)}function Se(){}function Xe(){this.g=new Se}function At(i,e,t){const o=t||"";try{Go(i,function(u,d){let g=u;Dt(u)&&(g=ae(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Cn(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function Vn(i){this.l=i.$b||null,this.j=i.ib||!1}function un(i,e){Pt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be.prototype.cancel=function(){if(this.i=ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Se.prototype.stringify=function(i){return Q.JSON.stringify(i,void 0)},Se.prototype.parse=function(i){return Q.JSON.parse(i,void 0)},Ne(Vn,Rr),Vn.prototype.g=function(){return new un(this.l,this.j)},Vn.prototype.i=function(i){return function(){return i}}({}),Ne(un,Pt);var dn=0;function Zn(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function zn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Tr(i)}function Tr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ke=un.prototype).open=function(i,e){if(this.readyState!=dn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Tr(this)},ke.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zn(this)),this.readyState=dn},ke.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==Q.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zn(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},ke.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?zn(this):Tr(this),3==this.readyState&&Zn(this)}},ke.Ua=function(i){this.g&&(this.response=this.responseText=i,zn(this))},ke.Ta=function(i){this.g&&(this.response=i,zn(this))},ke.ga=function(){this.g&&zn(this)},ke.setRequestHeader=function(i,e){this.v.append(i,e)},ke.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ke.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(un.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var or=Q.JSON.parse;function Jn(i){Pt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qi,this.K=this.L=!1}Ne(Jn,Pt);var Qi="",O=/^https?$/i,R=["POST","PUT"];function K(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,De(i),ar(i)}function De(i){i.D||(i.D=!0,$t(i,"complete"),$t(i,"error"))}function Zt(i){if(i.h&&void 0!==Ye&&(!i.C[1]||4!=si(i)||2!=i.aa()))if(i.v&&4==si(i))Yr(i.Ha,0,i);else if($t(i,"readystatechange"),4==si(i)){i.h=!1;try{const I=i.aa();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===I){var u=String(i.H).match(ks)[1]||null;if(!u&&Q.self&&Q.self.location){var d=Q.self.location.protocol;u=d.substr(0,d.length-1)}o=!O.test(u?u.toLowerCase():"")}t=o}if(t)$t(i,"complete"),$t(i,"success");else{i.m=6;try{var g=2<si(i)?i.g.statusText:""}catch(P){g=""}i.j=g+" ["+i.aa()+"]",De(i)}}finally{ar(i)}}}function ar(i,e){if(i.g){hi(i);const t=i.g,o=i.C[0]?fe:null;i.g=null,i.C=null,e||$t(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function hi(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function si(i){return i.g?i.g.readyState:0}function Ts(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Qi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ps(i){let e="";return pe(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Cs(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ps(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):lr(i,e,t))}function ot(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Un(i){this.Ca=0,this.i=[],this.j=new ni,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=ot("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=ot("baseRetryDelayMs",5e3,i),this.ab=ot("retryDelaySeedMs",1e4,i),this.Za=ot("forwardChannelMaxRetries",2,i),this.ta=ot("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Be(i&&i.concurrentRequestLimit),this.Fa=new Xe,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ua(i){if(io(i),3==i.G){var e=i.U++,t=Gi(i.F);lr(t,"SID",i.I),lr(t,"RID",e),lr(t,"TYPE","terminate"),wo(i,t),(e=new re(i,i.j,e,void 0)).K=2,e.v=ms(Gi(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon&&(t=Q.navigator.sendBeacon(e.v.toString(),"")),!t&&Q.Image&&((new Image).src=e.v,t=!0),t||(e.g=la(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kr(e)}bo(i)}function qr(i){i.g&&(ao(i),i.g.cancel(),i.g=null)}function io(i){qr(i),i.u&&(Q.clearTimeout(i.u),i.u=null),ds(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function Fs(i){Kt(i.h)||i.m||(i.m=!0,Yn(i.Ja,i),i.C=0)}function so(i,e){var t;t=e?e.m:i.U++;const o=Gi(i.F);lr(o,"SID",i.I),lr(o,"RID",t),lr(o,"AID",i.T),wo(i,o),i.o&&i.s&&Cs(o,i.o,i.s),t=new re(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ja(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),k(i.h,t),St(t,o,e)}function wo(i,e){i.ia&&pe(i.ia,function(t,o){lr(e,o,t)}),i.l&&Go({},function(t,o){lr(e,o,t)})}function ja(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Et(i.l.Qa,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let I=!0;for(let P=0;P<t;P++){let B=u[P].h;const Y=u[P].g;if(B-=d,0>B)d=Math.max(0,u[P].h-100),I=!1;else try{At(Y,g,"req"+B+"_")}catch(de){o&&o(Y)}}if(I){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function $a(i){i.g||i.u||(i.Z=1,Yn(i.Ia,i),i.A=0)}function oo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Fr(Et(i.Ia,i),Ls(i,i.A)),i.A++,0))}function ao(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Mi(i){i.g=new re(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Gi(i.sa);lr(e,"RID","rpc"),lr(e,"SID",i.I),lr(e,"CI",i.L?"0":"1"),lr(e,"AID",i.T),lr(e,"TYPE","xmlhttp"),wo(i,e),i.o&&i.s&&Cs(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=ms(Gi(e)),t.s=null,t.P=!0,vn(t,i)}function ds(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function Ho(i,e){var t=null;if(i.g==e){ds(i),ao(i),i.g=null;var o=2}else{if(!j(i.h,e))return;t=e.D,z(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;$t(o=dt(),new Er(o,t,e,u)),Fs(i)}else $a(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function As(i,e){return!(S(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=Fr(Et(i.Ja,i,e),Ls(i,i.C)),i.C++,0)))}(i,e)||2==o&&oo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:Pi(i,5);break;case 4:Pi(i,10);break;case 3:Pi(i,6);break;default:Pi(i,2)}}function Ls(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function Pi(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Et(i.jb,i);t||(t=new Si("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Zi(t,"https"),ms(t)),function Mt(i,e){const t=new ni;if(Q.Image){const o=new Image;o.onload=Wt(Cn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Wt(Cn,t,o,"TestLoadImage: error",!1,e),o.onabort=Wt(Cn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Wt(Cn,t,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Ln(2);i.G=0,i.l&&i.l.va(e),bo(i),io(i)}function bo(i){if(i.G=0,i.la=[],i.l){const e=ue(i.h);(0!=e.length||0!=i.i.length)&&(oe(i.la,e),oe(i.la,i.i),i.h.i.length=0,Ce(i.i),i.i.length=0),i.l.ua()}}function Bu(i,e,t){var o=t instanceof Si?Gi(t):new Si(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Os(o,o.m);else{var u=Q.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Si(null,void 0);o&&Zi(d,o),e&&(d.g=e),u&&Os(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&lr(o,t,e),lr(o,"VER",i.ma),wo(i,o),o}function la(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(t&&i.Da&&!i.ra?new Vn({ib:!0}):i.ra)).L=i.H,e}function ju(){}function qs(){if(Hn&&!(10<=Number(yi)))throw Error("Environmental error: no available transport.")}function Hi(i,e){Pt.call(this),this.g=new Un(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!He(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!He(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new uo(this)}function zo(i){as.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ca(){di.call(this),this.status=1}function uo(i){this.g=i}(ke=Jn.prototype).da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qr.g(),this.C=function Xt(i){return i.h||(i.h=i.i())}(this.u?this.u:Qr),this.g.onreadystatechange=Et(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void K(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=Q.FormData&&i instanceof Q.FormData,!(0<=on(R,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hi(this),0<this.B&&((this.K=function C(i){return Hn&&function mi(){return function Vt(i){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ke(String(Nn)).split("."),t=Ke("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Ae(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Ae(0==u[2].length,0==d[2].length)||Ae(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.qa,this)):this.A=Yr(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){K(this,d)}},ke.qa=function(){void 0!==Ye&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},ke.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$t(this,"complete"),$t(this,"abort"),ar(this))},ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ar(this,!0)),Jn.X.M.call(this)},ke.Ha=function(){this.s||(this.F||this.v||this.l?Zt(this):this.eb())},ke.eb=function(){Zt(this)},ke.aa=function(){try{return 2<si(this)?this.g.status:-1}catch(i){return-1}},ke.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ke.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),or(e)}},ke.Ea=function(){return this.m},ke.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ke=Un.prototype).ma=8,ke.G=1,ke.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new re(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=ye(d),Re(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ja(this,u,e),lr(t=Gi(this.F),"RID",i),lr(t,"CVER",22),this.D&&lr(t,"X-HTTP-Session-Id",this.D),wo(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Ps(d)))+"&"+e:this.o&&Cs(t,this.o,d)),k(this.h,u),this.Xa&&lr(t,"TYPE","init"),this.O?(lr(t,"$req",e),lr(t,"SID","null"),u.Z=!0,St(u,t,null)):St(u,t,e),this.G=2}}else 3==this.G&&(i?so(this,i):0==this.i.length||Kt(this.h)||so(this))},ke.Ia=function(){if(this.u=null,Mi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Fr(Et(this.cb,this),i)}},ke.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ln(10),qr(this),Mi(this))},ke.bb=function(){null!=this.v&&(this.v=null,qr(this),oo(this),Ln(19))},ke.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))},(ke=ju.prototype).xa=function(){},ke.wa=function(){},ke.va=function(){},ke.ua=function(){},ke.Qa=function(){},qs.prototype.g=function(i,e){return new Hi(i,e)},Ne(Hi,Pt),Hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Ln(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Bu(i,null,i.V),Fs(i)},Hi.prototype.close=function(){ua(this.g)},Hi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ae(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&Fs(e)},Hi.prototype.M=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,Hi.X.M.call(this)},Ne(zo,as),Ne(ca,di),Ne(uo,ju),uo.prototype.xa=function(){$t(this.g,"a")},uo.prototype.wa=function(i){$t(this.g,new zo(i))},uo.prototype.va=function(i){$t(this.g,new ca(i))},uo.prototype.ua=function(){$t(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,Ni.COMPLETE="complete",Ci.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.Na,Jn.prototype.getLastErrorCode=Jn.prototype.Ea,Jn.prototype.getStatus=Jn.prototype.aa,Jn.prototype.getResponseJson=Jn.prototype.Ra,Jn.prototype.getResponseText=Jn.prototype.fa,Jn.prototype.send=Jn.prototype.da;var $u=We.createWebChannelTransport=function(){return new qs},lo=We.getStatEventTarget=function(){return dt()},mu=We.ErrorCode=Kn,qo=We.EventType=Ni,yu=We.Event=_r,Cl=We.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},da=We.FetchXmlHttpFactory=Vn,ha=We.WebChannel=Ci,Al=We.XhrIo=Jn;const Ri="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Cr="9.11.0";const Io=new Te.Yd("@firebase/firestore");function fa(){return Io.logLevel}function mt(i,...e){if(Io.logLevel<=Te.in.DEBUG){const t=e.map(Wo);Io.debug(`Firestore (${Cr}): ${i}`,...t)}}function Xn(i,...e){if(Io.logLevel<=Te.in.ERROR){const t=e.map(Wo);Io.error(`Firestore (${Cr}): ${i}`,...t)}}function Jr(i,...e){if(Io.logLevel<=Te.in.WARN){const t=e.map(Wo);Io.warn(`Firestore (${Cr}): ${i}`,...t)}}function Wo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Gt(i="Unexpected state"){const e=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+i;throw Xn(e),new Error(e)}function hn(i,e){i||Gt()}function Nt(i,e){return i}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class Fi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pa{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=B=>this.i!==u?(u=this.i,t(B)):Promise.resolve();let g=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ur,e.enqueueRetryable(()=>d(this.currentUser))};const I=()=>{const B=g;e.enqueueRetryable((0,w.Z)(function*(){yield B.promise,yield d(o.currentUser)}))},P=B=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(B=>P(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?P(B):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ur)}},0),I()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(hn("string"==typeof o.accessToken),new Gu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hn(null===e||"string"==typeof e),new Or(e)}}class vc{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(hn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Do{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new vc(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _u{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ud{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,mt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn("string"==typeof t.token),this.A=t.token,new _u(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ha(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class za{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ha(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function En(i,e){return i<e?-1:i>e?1:0}function To(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ct($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ct($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ct($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Lr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new Lr(0,0))}static max(){return new wn(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ss{constructor(e,t,o){void 0===t?t=0:t>e.length&&Gt(),void 0===o?o=e.length-t:o>e.length-t&&Gt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ss.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),g=t.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Ss{construct(e,t,o){return new Tn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new ct($e.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const Ko=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends Ss{construct(e,t,o){return new oi(e,t,o)}static isValidIdentifier(e){return Ko.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new ct($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const I=e[u];if("\\"===I){if(u+1===e.length)throw new ct($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new ct($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=P,u+=2}else"`"===I?(g=!g,u++):"."!==I||g?(o+=I,u++):(d(),u++)}if(d(),g)throw new ct($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)}static emptyPath(){return new oi([])}}class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(Tn.fromString(e))}static fromName(e){return new Ft(Tn.fromString(e).popFirst(5))}static empty(){return new Ft(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new Tn(e.slice()))}}function ne(i){return new ce(i.readTime,i.key,-1)}class ce{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ce(wn.min(),Ft.empty(),-1)}static max(){return new ce(wn.max(),Ft.empty(),-1)}}function Ge(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ft.comparator(i.documentKey,e.documentKey),0!==t?t:En(i.largestBatchId,e.largestBatchId))}const Bt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function qt(i){return wr.apply(this,arguments)}function wr(){return wr=(0,w.Z)(function*(i){if(i.code!==$e.FAILED_PRECONDITION||i.message!==Bt)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),wr.apply(this,arguments)}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,o)=>{t(e)})}static reject(e){return new we((t,o)=>{o(e)})}static waitFor(e){return new we((t,o)=>{let u=0,d=0,g=!1;e.forEach(I=>{++u,I.next(()=>{++d,g&&d===u&&t()},P=>o(P))}),g=!0,d===u&&t()})}static or(e){let t=we.resolve(!1);for(const o of e)t=t.next(u=>u?we.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new we((o,u)=>{const d=e.length,g=new Array(d);let I=0;for(let P=0;P<d;P++){const B=P;t(e[B]).next(Y=>{g[B]=Y,++I,I===d&&o(g)},Y=>u(Y))}})}static doWhile(e,t){return new we((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}function ki(i){return"IndexedDbTransactionError"===i.name}class zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Eu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Xi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ec(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}zi.at=-1;class wi{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xr(this.root,e,this.comparator,!0)}}class Xr{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=null!=o?o:ws.RED,this.left=null!=u?u:ws.EMPTY,this.right=null!=d?d:ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new ws(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ws.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new ws(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _h(this.data.getIterator())}getIteratorFrom(e){return new _h(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class _h{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ws{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new Br(oi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new es(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}es.EMPTY_BYTE_STRING=new es("");const Wu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(i){if(hn(!!i),"string"==typeof i){let e=0;const t=Wu.exec(i);if(hn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Bn(i.seconds),nanos:Bn(i.nanos)}}function Bn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ao(i){return"string"==typeof i?es.fromBase64String(i):es.fromUint8Array(i)}function Zo(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Sl(i){const e=i.mapValue.fields.__previous_value__;return Zo(e)?Sl(e):e}function Wa(i){const e=_a(i.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class ts{constructor(e,t,o,u,d,g,I,P){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=I,this.useFetchStreams=P}}class qi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qi&&e.projectId===this.projectId&&e.database===this.database}}function Ka(i){return null==i}function Yo(i){return 0===i&&1/i==-1/0}const So_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Jo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zo(i)?4:ld(i)?9007199254740991:10:Gt()}function eo(i,e){if(i===e)return!0;const t=Jo(i);if(t!==Jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wa(i).isEqual(Wa(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=_a(o.timestampValue),g=_a(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ao(i.bytesValue).isEqual(Ao(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Bn(o.geoPointValue.latitude)===Bn(u.geoPointValue.latitude)&&Bn(o.geoPointValue.longitude)===Bn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Bn(o.integerValue)===Bn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Bn(o.doubleValue),g=Bn(u.doubleValue);return d===g?Yo(d)===Yo(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return To(i.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Eu(d)!==Eu(g))return!1;for(const I in d)if(d.hasOwnProperty(I)&&(void 0===g[I]||!eo(d[I],g[I])))return!1;return!0}(i,e);default:return Gt()}var u}function wu(i,e){return void 0!==(i.values||[]).find(t=>eo(t,e))}function co(i,e){if(i===e)return 0;const t=Jo(i),o=Jo(e);if(t!==o)return En(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return En(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Bn(u.integerValue||u.doubleValue),I=Bn(d.integerValue||d.doubleValue);return g<I?-1:g>I?1:g===I?0:isNaN(g)?isNaN(I)?0:-1:1}(i,e);case 3:return xs(i.timestampValue,e.timestampValue);case 4:return xs(Wa(i),Wa(e));case 5:return En(i.stringValue,e.stringValue);case 6:return function(u,d){const g=Ao(u),I=Ao(d);return g.compareTo(I)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),I=d.split("/");for(let P=0;P<g.length&&P<I.length;P++){const B=En(g[P],I[P]);if(0!==B)return B}return En(g.length,I.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=En(Bn(u.latitude),Bn(d.latitude));return 0!==g?g:En(Bn(u.longitude),Bn(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],I=d.values||[];for(let P=0;P<g.length&&P<I.length;++P){const B=co(g[P],I[P]);if(B)return B}return En(g.length,I.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===So_mapValue&&d===So_mapValue)return 0;if(u===So_mapValue)return 1;if(d===So_mapValue)return-1;const g=u.fields||{},I=Object.keys(g),P=d.fields||{},B=Object.keys(P);I.sort(),B.sort();for(let Y=0;Y<I.length&&Y<B.length;++Y){const de=En(I[Y],B[Y]);if(0!==de)return de;const Pe=co(g[I[Y]],P[B[Y]]);if(0!==Pe)return Pe}return En(I.length,B.length)}(i.mapValue,e.mapValue);default:throw Gt()}}function xs(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return En(i,e);const t=_a(i),o=_a(e),u=En(t.seconds,o.seconds);return 0!==u?u:En(t.nanos,o.nanos)}function ho(i){return fo(i)}function fo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=_a(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ao(i.bytesValue).toBase64():"referenceValue"in i?Ft.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=fo(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const I of u)g?g=!1:d+=",",d+=`${I}:${fo(o.fields[I])}`;return d+"}"}(i.mapValue):Gt();var e}function Za(i){return!!i&&"integerValue"in i}function Ya(i){return!!i&&"arrayValue"in i}function Ku(i){return!!i&&"nullValue"in i}function Qa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wc(i){return!!i&&"mapValue"in i}function Ja(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Ja(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ld(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=oi.emptyPath(),o={},u=[];e.forEach((g,I)=>{if(!t.isImmediateParentOf(I)){const P=this.getFieldsMap(t);this.applyChanges(P,o,u),o={},u=[],t=I.popLast()}g?o[I.lastSegment()]=Ja(g):u.push(I.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];wc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Xi(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new bi(Ja(this.value))}}function Zu(i){const e=[];return Xi(i.fields,(t,o)=>{const u=new oi([t]);if(wc(o)){const d=Zu(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new Ws(e)}class cr{constructor(e,t,o,u,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new cr(e,0,wn.min(),wn.min(),bi.empty(),0)}static newFoundDocument(e,t,o){return new cr(e,1,t,wn.min(),o,0)}static newNoDocument(e,t){return new cr(e,2,t,wn.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,wn.min(),bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,t=null,o=[],u=[],d=null,g=null,I=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=I,this.ht=null}}function Ms(i,e=null,t=[],o=[],u=null,d=null,g=null){return new vh(i,e,t,o,u,d,g)}function Ro(i){const e=Nt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ho(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ka(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ho(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ho(o)).join(",")),e.ht=t}return e.ht}function ko(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Vi(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!eo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!po(i.startAt,e.startAt)&&po(i.endAt,e.endAt)}function Iu(i){return Ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class M extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new $(e,t,o):"array-contains"===t?new ft(e,o):"in"===t?new Lt(e,o):"not-in"===t?new ln(e,o):"array-contains-any"===t?new An(e,o):new M(e,t,o)}static lt(e,t,o){return"in"===t?new X(e,o):new Ee(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(co(t,this.value)):null!==t&&Jo(this.value)===Jo(t)&&this.ft(co(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $ extends M{constructor(e,t,o){super(e,t,o),this.key=Ft.fromName(o.referenceValue)}matches(e){const t=Ft.comparator(e.key,this.key);return this.ft(t)}}class X extends M{constructor(e,t){super(e,"in",t),this.keys=Ue(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ee extends M{constructor(e,t){super(e,"not-in",t),this.keys=Ue(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ue(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ft.fromName(o.referenceValue))}class ft extends M{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ya(t)&&wu(t.arrayValue,this.value)}}class Lt extends M{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wu(this.value.arrayValue,t)}}class ln extends M{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wu(this.value.arrayValue,t)}}class An extends M{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ya(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>wu(this.value.arrayValue,o))}}class bn{constructor(e,t){this.position=e,this.inclusive=t}}class fn{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vi(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Wi(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Ft.comparator(Ft.fromName(g.referenceValue),t.key):co(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function po(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!eo(i.position[t],e.position[t]))return!1;return!0}class Vs{constructor(e,t=null,o=[],u=[],d=null,g="F",I=null,P=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=I,this.endAt=P,this._t=null,this.wt=null}}function Ea(i){return new Vs(i)}function go(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function wa(i){const e=Nt(i);if(null===e._t){e._t=[];const t=function Oo(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function mo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new fn(t)),e._t.push(new fn(oi.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fn(oi.keyField(),d))}}}return e._t}function Us(i){const e=Nt(i);if(!e.wt)if("F"===e.limitType)e.wt=Ms(e.path,e.collectionGroup,wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of wa(e))t.push(new fn(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new bn(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new bn(e.startAt.position,e.startAt.inclusive):null;e.wt=Ms(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function Rl(i,e,t){return new Vs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function bc(i,e){return ko(Us(i),Us(e))&&i.limitType===e.limitType}function wh(i){return`${Ro(Us(i))}|lt:${i.limitType}`}function kl(i){return`Query(target=${function Eh(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ho(o.value)}`;var o}).join(", ")}]`),Ka(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ho(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ho(t)).join(",")),`Target(${e})`}(Us(i))}; limitType=${i.limitType})`}function Ol(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ft.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,g){const I=Wi(u,d,g);return u.inclusive?I<=0:I<0}(t.startAt,wa(t),o)||t.endAt&&!function(u,d,g){const I=Wi(u,d,g);return u.inclusive?I>=0:I>0}(t.endAt,wa(t),o)));var t,o}function eu(i){return(e,t)=>{let o=!1;for(const u of wa(i)){const d=cd(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function cd(i,e,t){const o=i.field.isKeyField()?Ft.comparator(e.key,t.key):function(u,d,g){const I=d.data.field(u),P=g.data.field(u);return null!==I&&null!==P?co(I,P):Gt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Gt()}}function dd(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function hd(i){return{integerValue:""+i}}function Nl(i,e){return function Qo(i){return"number"==typeof i&&Number.isInteger(i)&&!Yo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?hd(e):dd(i,e)}class Qu{constructor(){this._=void 0}}function fd(i,e,t){return i instanceof Du?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof ba?bh(i,e):i instanceof Tu?Ih(i,e):function(o,u){const d=gd(o,u),g=Ia(d)+Ia(o.yt);return Za(d)&&Za(o.yt)?hd(g):dd(o.It,g)}(i,e)}function pd(i,e,t){return i instanceof ba?bh(i,e):i instanceof Tu?Ih(i,e):t}function gd(i,e){return i instanceof tu?Za(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Du extends Qu{}class ba extends Qu{constructor(e){super(),this.elements=e}}function bh(i,e){const t=Ju(e);for(const o of i.elements)t.some(u=>eo(u,o))||t.push(o);return{arrayValue:{values:t}}}class Tu extends Qu{constructor(e){super(),this.elements=e}}function Ih(i,e){let t=Ju(e);for(const o of i.elements)t=t.filter(u=>!eo(u,o));return{arrayValue:{values:t}}}class tu extends Qu{constructor(e,t){super(),this.It=e,this.yt=t}}function Ia(i){return Bn(i.integerValue||i.doubleValue)}function Ju(i){return Ya(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class md{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class _d{}function vd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ea(i.key,Ii.none()):new Cu(i.key,i.data,Ii.none());{const t=i.data,o=bi.empty();let u=new Br(oi.comparator);for(let d of e.fields)if(!u.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new Da(i.key,o,new Ws(u.toArray()),Ii.none())}}function op(i,e,t){i instanceof Cu?function(o,u,d){const g=o.value.clone(),I=Ed(o.fieldTransforms,u,d.transformResults);g.setAll(I),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Da?function(o,u,d){if(!yd(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Ed(o.fieldTransforms,u,d.transformResults),I=u.data;I.setAll(Fl(o)),I.setAll(g),u.convertToFoundDocument(d.version,I).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pl(i,e,t,o){return i instanceof Cu?function(u,d,g,I){if(!yd(u.precondition,d))return g;const P=u.value.clone(),B=Po(u.fieldTransforms,I,d);return P.setAll(B),d.convertToFoundDocument(d.version,P).setHasLocalMutations(),null}(i,e,t,o):i instanceof Da?function(u,d,g,I){if(!yd(u.precondition,d))return g;const P=Po(u.fieldTransforms,I,d),B=d.data;return B.setAll(Fl(u)),B.setAll(P),d.convertToFoundDocument(d.version,B).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Y=>Y.field))}(i,e,t,o):(g=t,yd(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function ap(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=gd(o.transform,u||null);null!=d&&(null===t&&(t=bi.empty()),t.set(o.field,d))}return t||null}function Dh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&To(t,o,(u,d)=>function Vg(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof ba&&o instanceof ba||t instanceof Tu&&o instanceof Tu?To(t.elements,o.elements,eo):t instanceof tu&&o instanceof tu?eo(t.yt,o.yt):t instanceof Du&&o instanceof Du);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Cu extends _d{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Da extends _d{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Fl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Ed(i,e,t){const o=new Map;hn(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],g=d.transform,I=e.data.field(d.field);o.set(d.field,pd(g,I,t[u]))}return o}function Po(i,e,t){const o=new Map;for(const u of i){const d=u.transform,g=t.data.field(u.field);o.set(u.field,fd(d,g,e))}return o}class ea extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ll extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Th{constructor(e){this.count=e}}var Ui,Ar;function up(i){switch(i){default:return Gt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function Ch(i){if(void 0===i)return Xn("GRPC error has no .code"),$e.UNKNOWN;switch(i){case Ui.OK:return $e.OK;case Ui.CANCELLED:return $e.CANCELLED;case Ui.UNKNOWN:return $e.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return $e.INTERNAL;case Ui.UNAVAILABLE:return $e.UNAVAILABLE;case Ui.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Ui.NOT_FOUND:return $e.NOT_FOUND;case Ui.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Ui.ABORTED:return $e.ABORTED;case Ui.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Ui.DATA_LOSS:return $e.DATA_LOSS;default:return Gt()}}(Ar=Ui||(Ui={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Ec(this.inner)}size(){return this.innerSize}}const Vl=new wi(Ft.comparator);function Bs(){return Vl}const lp=new wi(Ft.comparator);function wd(...i){let e=lp;for(const t of i)e=e.insert(t.key,t);return e}function Ic(i){let e=lp;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ta(){return el()}function bd(){return el()}function el(){return new ta(i=>i.toString(),(i,e)=>i.isEqual(e))}const cp=new wi(Ft.comparator),Ah=new Br(Ft.comparator);function jn(...i){let e=Ah;for(const t of i)e=e.add(t);return e}const dp=new Br(En);function tl(){return dp}class nl{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,fi.createSynthesizedTargetChangeForCurrentChange(e,t)),new nl(wn.min(),o,tl(),Bs(),jn())}}class fi{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new fi(es.EMPTY_BYTE_STRING,t,jn(),jn(),jn())}}class Id{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class Dd{constructor(e,t){this.targetId=e,this.At=t}}class rl{constructor(e,t,o=es.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Dc{constructor(){this.Rt=0,this.bt=Sh(),this.Pt=es.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=jn(),t=jn(),o=jn();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Gt()}}),new fi(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=Sh()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ug{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bs(),this.qt=Tc(),this.Kt=new Br(En)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(Iu(d))if(0===o){const g=new Ft(d.path);this.jt(t,g,cr.newNoDocument(g,wn.min()))}else hn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const I=this.Xt(g);if(I){if(d.current&&Iu(I.target)){const P=new Ft(I.target.path);null!==this.Ut.get(P)||this.ee(g,P)||this.jt(g,P,cr.newNoDocument(P,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let o=jn();this.qt.forEach((d,g)=>{let I=!0;g.forEachWhile(P=>{const B=this.Xt(P);return!B||2===B.purpose||(I=!1,!1)}),I&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new nl(e,t,this.Kt,this.Ut,o);return this.Ut=Bs(),this.qt=Tc(),this.Kt=new Br(En),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Dc,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Br(En),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Dc),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new wi(Ft.comparator)}function Sh(){return new wi(Ft.comparator)}const hp={asc:"ASCENDING",desc:"DESCENDING"},Bg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jm{constructor(e,t){this.databaseId=e,this.gt=t}}function Cc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ul(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Ks(i,e){return Cc(i,e.toTimestamp())}function rs(i){return hn(!!i),wn.fromTimestamp(function(e){const t=_a(e);return new Lr(t.seconds,t.nanos)}(i))}function Td(i,e){return(t=i,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xh(i){const e=Tn.fromString(i);return hn(vp(e)),e}function is(i,e){return Td(i.databaseId,e.path)}function to(i,e){const t=xh(e);if(t.get(1)!==i.databaseId.projectId)throw new ct($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ct($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ft(Mh(t))}function Ac(i,e){return Td(i.databaseId,e)}function Sc(i){return new Tn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mh(i){return hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pp(i,e,t){return{name:is(i,e),fields:t.value.mapValue.fields}}function mp(i,e){return{documents:[Ac(i,e.path)]}}function Nh(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ac(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ac(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(P){if(0===P.length)return;const B=P.map(Y=>function(de){if("=="===de.op){if(Qa(de.value))return{unaryFilter:{field:Bl(de.field),op:"IS_NAN"}};if(Ku(de.value))return{unaryFilter:{field:Bl(de.field),op:"IS_NULL"}}}else if("!="===de.op){if(Qa(de.value))return{unaryFilter:{field:Bl(de.field),op:"IS_NOT_NAN"}};if(Ku(de.value))return{unaryFilter:{field:Bl(de.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(de.field),op:Gg(de.op),value:de.value}}}(Y));return 1===B.length?B[0]:{compositeFilter:{op:"AND",filters:B}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(P){if(0!==P.length)return P.map(B=>{return{field:Bl((Y=B).field),direction:Mc(Y.dir)};var Y})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(B=e.limit,i.gt||Ka(B)?B:{value:B});var B,I,P;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(t.structuredQuery.endAt={before:!(P=e.endAt).inclusive,values:P.position}),t}function Cd(i){let e=function fp(i){const e=xh(i);return 4===e.length?Tn.emptyPath():Mh(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){hn(1===o);const Y=t.from[0];Y.allDescendants?u=Y.collectionId:e=e.child(Y.collectionId)}let d=[];t.where&&(d=yp(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(Y=>{return new fn(jl((de=Y).field),function(Pe){switch(Pe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let I=null;t.limit&&(I=function(Y){let de;return de="object"==typeof Y?Y.value:Y,Ka(de)?null:de}(t.limit));let P=null;var Y;t.startAt&&(P=new bn((Y=t.startAt).values||[],!!Y.before));let B=null;return t.endAt&&(B=function(Y){return new bn(Y.values||[],!Y.before)}(t.endAt)),function va(i,e,t,o,u,d,g,I){return new Vs(i,e,t,o,u,d,g,I)}(e,u,g,d,I,"F",P,B)}function yp(i){return i?void 0!==i.unaryFilter?[zg(i)]:void 0!==i.fieldFilter?[Hg(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>yp(e)).reduce((e,t)=>e.concat(t)):Gt():[]}function Mc(i){return hp[i]}function Gg(i){return Bg[i]}function Bl(i){return{fieldPath:i.canonicalString()}}function jl(i){return oi.fromServerFormat(i.fieldPath)}function Hg(i){return M.create(jl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(i.fieldFilter.op),i.fieldFilter.value)}function zg(i){switch(i.unaryFilter.op){case"IS_NAN":const e=jl(i.unaryFilter.field);return M.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=jl(i.unaryFilter.field);return M.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jl(i.unaryFilter.field);return M.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=jl(i.unaryFilter.field);return M.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}function _p(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class nu{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&op(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Pl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Pl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=bd();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let I=this.applyToLocalView(g,d.mutatedFields);I=t.has(u.key)?null:I;const P=vd(g,I);null!==P&&o.set(u.key,P),g.isValidDocument()||g.convertToNoDocument(wn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jn())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(t,o)=>Dh(t,o))&&To(this.baseMutations,e.baseMutations,(t,o)=>Dh(t,o))}}class Gl{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){hn(e.mutations.length===o.length);let u=cp;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new Gl(e,t,o,u)}}class Md{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ru{constructor(e,t,o,u,d=wn.min(),g=wn.min(),I=es.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=I}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Uh{constructor(e){this.re=e}}function il(i){const e=Cd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Rl(e,e.limit,"L"):e}class yo{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Bn(e.integerValue));else if("doubleValue"in e){const o=Bn(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Yo(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ao(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?ld(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Gt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),Ft.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}yo.Te=new yo;class Nd{constructor(){this.Ye=new Wl}addToCollectionParentIndex(e,t){return this.Ye.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(ce.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(ce.min())}updateCollectionGroup(e,t,o){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class Wl{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Br(Tn.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Br(Tn.comparator)).toArray()}}new Uint8Array(0);class bs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class uu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new uu(0)}static vn(){return new uu(-1)}}class Qh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jh{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Pl(o.mutation,u,Ws.empty(),Lr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,jn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=jn()){const u=Ta();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let g=wd();return d.forEach((I,P)=>{g=g.insert(I,P.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Ta();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,jn()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,I)=>{t.set(g,I)})})}computeViews(e,t,o,u){let d=Bs();const g=el(),I=el();return t.forEach((P,B)=>{const Y=o.get(B.key);u.has(B.key)&&(void 0===Y||Y.mutation instanceof Da)?d=d.insert(B.key,B):void 0!==Y&&(g.set(B.key,Y.mutation.getFieldMask()),Pl(Y.mutation,B,Y.mutation.getFieldMask(),Lr.now()))}),this.recalculateAndSaveOverlays(e,d).next(P=>(P.forEach((B,Y)=>g.set(B,Y)),t.forEach((B,Y)=>{var de;return I.set(B,new Qh(Y,null!==(de=g.get(B))&&void 0!==de?de:null))}),I))}recalculateAndSaveOverlays(e,t){const o=el();let u=new wi((g,I)=>g-I),d=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const I of g)I.keys().forEach(P=>{const B=t.get(P);if(null===B)return;let Y=o.get(P)||Ws.empty();Y=I.applyToLocalView(B,Y),o.set(P,Y);const de=(u.get(I.batchId)||jn()).add(P);u=u.insert(I.batchId,de)})}).next(()=>{const g=[],I=u.getReverseIterator();for(;I.hasNext();){const P=I.getNext(),B=P.key,Y=P.value,de=bd();Y.forEach(Pe=>{if(!d.has(Pe)){const rt=vd(t.get(Pe),o.get(Pe));null!==rt&&de.set(Pe,rt),d=d.add(Pe)}}),g.push(this.documentOverlayCache.saveOverlays(e,B,de))}return we.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Ft.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function No(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):we.resolve(Ta());let I=-1,P=d;return g.next(B=>we.forEach(B,(Y,de)=>(I<de.largestBatchId&&(I=de.largestBatchId),d.get(Y)?we.resolve():this.getBaseDocument(e,Y,de).next(Pe=>{P=P.insert(Y,Pe)}))).next(()=>this.populateOverlays(e,B,d)).next(()=>this.computeViews(e,P,B,jn())).next(Y=>({batchId:I,changes:Ic(Y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ft(t)).next(o=>{let u=wd();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=wd();return this.indexManager.getCollectionParents(e,u).next(g=>we.forEach(g,I=>{const P=(B=t,Y=I.child(u),new Vs(Y,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt));var B,Y;return this.getDocumentsMatchingCollectionQuery(e,P,o).next(B=>{B.forEach((Y,de)=>{d=d.insert(Y,de)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((I,P)=>{const B=P.getKey();null===u.get(B)&&(u=u.insert(B,cr.newInvalidDocument(B)))});let g=wd();return u.forEach((I,P)=>{const B=d.get(I);void 0!==B&&Pl(B.mutation,P,Ws.empty(),Lr.now()),Ol(t,P)&&(g=g.insert(I,P))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):we.resolve(cr.newInvalidDocument(t))}}class Ql{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return we.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:rs(o.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:il(o.bundledQuery),readTime:rs(o.readTime)}),we.resolve();var o}}class Jl{constructor(){this.overlays=new wi(Ft.comparator),this.es=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ta();return we.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.ue(e,t,d)}),we.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),we.resolve()}getOverlaysForCollection(e,t,o){const u=Ta(),d=t.length+1,g=new Ft(t.child("")),I=this.overlays.getIteratorFrom(g);for(;I.hasNext();){const P=I.getNext().value,B=P.getKey();if(!t.isPrefixOf(B.path))break;B.path.length===d&&P.largestBatchId>o&&u.set(P.getKey(),P)}return we.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new wi((B,Y)=>B-Y);const g=this.overlays.getIterator();for(;g.hasNext();){const B=g.getNext().value;if(B.getKey().getCollectionGroup()===t&&B.largestBatchId>o){let Y=d.get(B.largestBatchId);null===Y&&(Y=Ta(),d=d.insert(B.largestBatchId,Y)),Y.set(B.getKey(),B)}}const I=Ta(),P=d.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((B,Y)=>I.set(B,Y)),!(I.size()>=u)););return we.resolve(I)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Md(t,o));let d=this.es.get(t);void 0===d&&(d=jn(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class dl{constructor(){this.ns=new Br(ji.ss),this.rs=new Br(ji.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ji(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ji(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Ft(new Tn([])),o=new ji(t,e),u=new ji(t,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ft(new Tn([])),o=new ji(t,e),u=new ji(t,e+1);let d=jn();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new ji(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ft.comparator(e.key,t.key)||En(e._s,t._s)}static os(e,t){return En(e._s,t._s)||Ft.comparator(e.key,t.key)}}class Xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Br(ji.ss)}checkEmpty(e){return we.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const g=new nu(d,t,o,u);this.mutationQueue.push(g);for(const I of u)this.gs=this.gs.add(new ji(I.key,d)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return we.resolve(g)}lookupMutationBatch(e,t){return we.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return we.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ji(t,0),u=new ji(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const I=this.ys(g._s);d.push(I)}),we.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Br(En);return t.forEach(u=>{const d=new ji(u,0),g=new ji(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],I=>{o=o.add(I._s)})}),we.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Ft.isDocumentKey(d)||(d=d.child(""));const g=new ji(new Ft(d),0);let I=new Br(En);return this.gs.forEachWhile(P=>{const B=P.key.path;return!!o.isPrefixOf(B)&&(B.length===u&&(I=I.add(P._s)),!0)},g),we.resolve(this.Is(I))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){hn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return we.forEach(t.mutations,u=>{const d=new ji(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ji(t,0),u=this.gs.firstAfterOrEqual(o);return we.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return we.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kg{constructor(e){this.Es=e,this.docs=new wi(Ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return we.resolve(o?o.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let o=Bs();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():cr.newInvalidDocument(u))}),we.resolve(o)}getAllFromCollection(e,t,o){let u=Bs();const d=new Ft(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:I,value:{document:P}}=g.getNext();if(!t.isPrefixOf(I.path))break;I.path.length>t.length+1||Ge(ne(P),o)<=0||(u=u.insert(P.key,P.mutableCopy()))}return we.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Gt()}As(e,t){return we.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Zg(this)}getSize(e){return we.resolve(this.size)}}class Zg extends class Lo{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?we.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),we.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Yg{constructor(e){this.persistence=e,this.Rs=new ta(t=>Ro(t),ko),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dl,this.targetCount=0,this.vs=uu.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),we.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new uu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Dn(t),we.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((g,I)=>{I.sequenceNumber<=t&&null===o.get(I.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,I.targetId)),u++)}),we.waitFor(d).next(()=>u)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return we.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),we.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),we.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),we.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return we.resolve(o)}containsKey(e,t){return we.resolve(this.Ps.containsKey(t))}}class Uc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new zi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Yg(this),this.indexManager=new Nd,this.remoteDocumentCache=new Kg(o=>this.referenceDelegate.xs(o)),this.It=new Uh(t),this.Ns=new Ql(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Xh(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){mt("MemoryPersistence","Starting transaction:",e);const u=new Qg(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return we.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Qg extends class Fn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.Fs=new dl,this.$s=null}static Bs(e){return new Xl(e)}get Ls(){if(this.$s)return this.$s;throw Gt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),we.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),we.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Ls,o=>{const u=Ft.fromPath(o);return this.Us(e,u).next(d=>{d||t.removeEntry(u,wn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return we.or([()=>we.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class kp{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=jn(),u=jn();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new kp(e,t.fromCache,o,u)}}class Op{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(go(t))return we.resolve(null);let o=Us(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Rl(t,null,"F"),o=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=jn(...d);return this.Ni.getDocuments(e,g).next(I=>this.indexManager.getMinOffset(e,o).next(P=>{const B=this.Fi(t,I);return this.$i(t,B,g,P.readTime)?this.ki(e,Rl(t,null,"F")):this.Bi(e,B,t,P)}))})))}Oi(e,t,o,u){return go(t)||u.isEqual(wn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,o,u)?this.Mi(e,t):(fa()<=Te.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),kl(t)),this.Bi(e,g,t,function q(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=wn.fromTimestamp(1e9===o?new Lr(t+1,0):new Lr(t,o));return new ce(u,Ft.empty(),e)}(u,-1)))})}Fi(e,t){let o=new Br(eu(e));return t.forEach((u,d)=>{Ol(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return fa()<=Te.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",kl(t)),this.Ni.getDocumentsMatchingQuery(e,t,ce.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class ny{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new wi(En),this.qi=new ta(d=>Ro(d),ko),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Pp(i,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,w.Z)(function*(i,e){const t=Nt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],I=[];let P=jn();for(const B of u){g.push(B.batchId);for(const Y of B.mutations)P=P.add(Y.key)}for(const B of d){I.push(B.batchId);for(const Y of B.mutations)P=P.add(Y.key)}return t.localDocuments.getDocuments(o,P).next(B=>({ji:B,removedBatchIds:g,addedBatchIds:I}))})})}),Fp.apply(this,arguments)}function ry(i,e){const t=Nt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,I,P,B){const Y=P.batch,de=Y.keys();let Pe=we.resolve();return de.forEach(rt=>{Pe=Pe.next(()=>B.getEntry(I,rt)).next(at=>{const Ht=P.docVersions.get(rt);hn(null!==Ht),at.version.compareTo(Ht)<0&&(Y.applyToRemoteDocument(at,P),at.isValidDocument()&&(at.setReadTime(P.commitVersion),B.addEntry(at)))})}),Pe.next(()=>g.mutationQueue.removeMutationBatch(I,Y))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let I=jn();for(let P=0;P<g.mutationResults.length;++P)g.mutationResults[P].transformResults.length>0&&(I=I.add(g.batch.mutations[P].key));return I}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Lp(i){const e=Nt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function iy(i,e){const t=Nt(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const I=[];e.targetChanges.forEach((Y,de)=>{const Pe=u.get(de);if(!Pe)return;I.push(t.Cs.removeMatchingKeys(d,Y.removedDocuments,de).next(()=>t.Cs.addMatchingKeys(d,Y.addedDocuments,de)));let rt=Pe.withSequenceNumber(d.currentSequenceNumber);var at,Ht,cn;e.targetMismatches.has(de)?rt=rt.withResumeToken(es.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):Y.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken(Y.resumeToken,o)),u=u.insert(de,rt),Ht=rt,cn=Y,(0===(at=Pe).resumeToken.approximateByteSize()||Ht.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&I.push(t.Cs.updateTargetData(d,rt))});let P=Bs(),B=jn();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&I.push(t.persistence.referenceDelegate.updateLimboDocument(d,Y))}),I.push(function Jg(i,e,t){let o=jn(),u=jn();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=Bs();return t.forEach((I,P)=>{const B=d.get(I);P.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(I)),P.isNoDocument()&&P.version.isEqual(wn.min())?(e.removeEntry(I,P.readTime),g=g.insert(I,P)):!B.isValidDocument()||P.version.compareTo(B.version)>0||0===P.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(P),g=g.insert(I,P)):mt("LocalStore","Ignoring outdated watch update for ",I,". Current version:",B.version," Watch version:",P.version)}),{Wi:g,zi:u}})}(d,g,e.documentUpdates).next(Y=>{P=Y.Wi,B=Y.zi})),!o.isEqual(wn.min())){const Y=t.Cs.getLastRemoteSnapshotVersion(d).next(de=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));I.push(Y)}return we.waitFor(I).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,P,B)).next(()=>P)}).then(d=>(t.Ui=u,d))}function Nu(i,e){const t=Nt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Pu(i,e){const t=Nt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,we.resolve(u)):t.Cs.allocateTargetId(o).next(g=>(u=new ru(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function ec(i,e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,w.Z)(function*(i,e,t){const o=Nt(i),u=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ki(g))throw g;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Oa.apply(this,arguments)}function fl(i,e,t){const o=Nt(i);let u=wn.min(),d=jn();return o.persistence.runTransaction("Execute query","readonly",g=>function(I,P,B){const Y=Nt(I),de=Y.qi.get(B);return void 0!==de?we.resolve(Y.Ui.get(de)):Y.Cs.getTargetData(P,B)}(o,g,Us(e)).next(I=>{if(I)return u=I.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,I.targetId).next(P=>{d=P})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?u:wn.min(),t?d:jn())).next(I=>(function $c(i,e,t){let o=i.Ki.get(e)||wn.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}(o,function Yu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),I),{documents:I,Hi:d})))}class Na{constructor(){this.activeTargetIds=tl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gl{constructor(){this.Lr=new Na,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Na,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xg{qr(e){}shutdown(){}}class Bd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hc{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class jd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const g=this.ho(e,t);mt("RestConnection","Sending: ",g,o);const I={};return this.lo(I,u,d),this.fo(e,g,I,o).then(P=>(mt("RestConnection","Received: ",P),P),P=>{throw Jr("RestConnection",`${e} failed with error: `,P,"url: ",g,"request:",o),P})}_o(e,t,o,u,d,g){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${rc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,g)=>{const I=new Al;I.listenOnce(qo.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case mu.NO_ERROR:const B=I.getResponseJson();mt("Connection","XHR received:",JSON.stringify(B)),d(B);break;case mu.TIMEOUT:mt("Connection",'RPC "'+e+'" timed out'),g(new ct($e.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:const Y=I.getStatus();if(mt("Connection",'RPC "'+e+'" failed with status:',Y,"response text:",I.getResponseText()),Y>0){const de=I.getResponseJson().error;if(de&&de.status&&de.message){const Pe=function(rt){const at=rt.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(at)>=0?at:$e.UNKNOWN}(de.status);g(new ct(Pe,de.message))}else g(new ct($e.UNKNOWN,"Server responded with status "+I.getStatus()))}else g(new ct($e.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{mt("Connection",'RPC "'+e+'" completed.')}});const P=JSON.stringify(u);I.send(t,"POST",P,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$u(),g=lo(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new da({})),this.lo(I.initMessageHeaders,t,o),I.encodeInitMessageHeaders=!0;const P=u.join("");mt("Connection","Creating WebChannel: "+P,I);const B=d.createWebChannel(P,I);let Y=!1,de=!1;const Pe=new Hc({Hr:at=>{de?mt("Connection","Not sending because WebChannel is closed:",at):(Y||(mt("Connection","Opening WebChannel transport."),B.open(),Y=!0),mt("Connection","WebChannel sending:",at),B.send(at))},Jr:()=>B.close()}),rt=(at,Ht,cn)=>{at.listen(Ht,jr=>{try{cn(jr)}catch(ai){setTimeout(()=>{throw ai},0)}})};return rt(B,ha.EventType.OPEN,()=>{de||mt("Connection","WebChannel transport opened.")}),rt(B,ha.EventType.CLOSE,()=>{de||(de=!0,mt("Connection","WebChannel transport closed"),Pe.io())}),rt(B,ha.EventType.ERROR,at=>{de||(de=!0,Jr("Connection","WebChannel transport errored:",at),Pe.io(new ct($e.UNAVAILABLE,"The operation could not be completed")))}),rt(B,ha.EventType.MESSAGE,at=>{var Ht;if(!de){const cn=at.data[0];hn(!!cn);const jr=cn,ai=jr.error||(null===(Ht=jr[0])||void 0===Ht?void 0:Ht.error);if(ai){mt("Connection","WebChannel received error:",ai);const ui=ai.status;let ps=function(Zr){const Rs=Ui[Zr];if(void 0!==Rs)return Ch(Rs)}(ui),li=ai.message;void 0===ps&&(ps=$e.INTERNAL,li="Unknown error status: "+ui+" with message "+ai.message),de=!0,Pe.io(new ct(ps,li)),B.close()}else mt("Connection","WebChannel received:",cn),Pe.ro(cn)}}),rt(g,yu.STAT_EVENT,at=>{at.stat===Cl.PROXY?mt("Connection","Detected buffering proxy"):at.stat===Cl.NOPROXY&&mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Pe.so()},0),Pe}}function Pa(){return"undefined"!=typeof document?document:null}function ic(i){return new Jm(i,!0)}class zc{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&mt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Vp{constructor(e,t,o,u,d,g,I,P){this.Hs=e,this.vo=o,this.Vo=u,this.So=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=I,this.listener=P,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new zc(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,w.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,w.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,w.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===$e.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===t&&this.Qo(o,u)},o=>{e(()=>{const u=new ct($e.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,w.Z)(function*(){e.state=0,e.start()}))}jo(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sf extends Vp{constructor(e,t,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.It=d}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function gp(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:Gt(),u=e.targetChange.targetIds||[],d=function(P,B){return P.gt?(hn(void 0===B||"string"==typeof B),es.fromBase64String(B||"")):(hn(void 0===B||B instanceof Uint8Array),es.fromUint8Array(B||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,I=g&&function(P){const B=void 0===P.code?$e.UNKNOWN:Ch(P.code);return new ct(B,P.message||"")}(g);t=new rl(o,u,d,I||null)}else if("documentChange"in e){const o=e.documentChange,u=to(i,o.document.name),d=rs(o.document.updateTime),g=new bi({mapValue:{fields:o.document.fields}}),I=cr.newFoundDocument(u,d,g);t=new Id(o.targetIds||[],o.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const o=e.documentDelete,u=to(i,o.document),d=o.readTime?rs(o.readTime):wn.min(),g=cr.newNoDocument(u,d);t=new Id([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=to(i,o.document);t=new Id([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Gt();{const o=e.filter,d=new Th(o.count||0);t=new Dd(o.targetId,d)}}var P;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return wn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?wn.min():d.readTime?rs(d.readTime):wn.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=Sc(this.It),t.addTarget=function(u,d){let g;const I=d.target;return g=Iu(I)?{documents:mp(u,I)}:{query:Nh(u,I)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=Ul(u,d.resumeToken):d.snapshotVersion.compareTo(wn.min())>0&&(g.readTime=Cc(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function $g(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=Sc(this.It),t.removeTarget=e,this.Lo(t)}}class of extends Vp{constructor(e,t,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.It=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Oh(i,e){return i&&i.length>0?(hn(void 0!==e),i.map(t=>function(o,u){let d=rs(o.updateTime?o.updateTime:u);return d.isEqual(wn.min())&&(d=rs(u)),new md(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=rs(e.commitTime);return this.listener.tu(o,t)}return hn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Sc(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function xc(i,e){let t;if(e instanceof Cu)t={update:pp(i,e.key,e.value)};else if(e instanceof ea)t={delete:is(i,e.key)};else if(e instanceof Da)t={update:pp(i,e.key,e.data),updateMask:_p(e.fieldMask)};else{if(!(e instanceof Ll))return Gt();t={verify:is(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof Du)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ba)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw Gt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ks(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Gt()),t;var u}(this.It,o))};this.Lo(t)}}class Up extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new ct($e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct($e.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.So._o(e,t,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($e.UNKNOWN,d.toString())})}terminate(){this.su=!0}}class em{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xn(t),this.uu=!1):mt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class _o{constructor(e,t,o,u,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.qr(I=>{o.enqueueAndForget((0,w.Z)(function*(){var P;hu(g)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,w.Z)(function*(B){const Y=Nt(B);Y.wu.add(4),yield qc(Y),Y.yu.set("Unknown"),Y.wu.delete(4),yield sc(Y)}),function(B){return P.apply(this,arguments)})(g))}))}),this.yu=new em(o,u)}}function sc(i){return uf.apply(this,arguments)}function uf(){return uf=(0,w.Z)(function*(i){if(hu(i))for(const e of i.mu)yield e(!0)}),uf.apply(this,arguments)}function qc(i){return jp.apply(this,arguments)}function jp(){return jp=(0,w.Z)(function*(i){for(const e of i.mu)yield e(!1)}),jp.apply(this,arguments)}function Wc(i,e){const t=Nt(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Hd(t)?Gd(t):ac(t).Oo()&&lf(t,e))}function Kc(i,e){const t=Nt(i),o=ac(t);t._u.delete(e),o.Oo()&&$d(t,e),0===t._u.size&&(o.Oo()?o.$o():hu(t)&&t.yu.set("Unknown"))}function lf(i,e){i.pu.Mt(e.targetId),ac(i).Ho(e)}function $d(i,e){i.pu.Mt(e),ac(i).Jo(e)}function Gd(i){i.pu=new Ug({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),ac(i).start(),i.yu.cu()}function Hd(i){return hu(i)&&!ac(i).ko()&&i._u.size>0}function hu(i){return 0===Nt(i).wu.size}function $p(i){i.pu=void 0}function cf(i){return df.apply(this,arguments)}function df(){return df=(0,w.Z)(function*(i){i._u.forEach((e,t)=>{lf(i,e)})}),df.apply(this,arguments)}function Gp(i,e){return zd.apply(this,arguments)}function zd(){return zd=(0,w.Z)(function*(i,e){$p(i),Hd(i)?(i.yu.lu(e),Gd(i)):i.yu.set("Unknown")}),zd.apply(this,arguments)}function tm(i,e,t){return qd.apply(this,arguments)}function qd(){return qd=(0,w.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof rl&&2===e.state&&e.cause)try{yield(o=(0,w.Z)(function*(u,d){const g=d.cause;for(const I of d.targetIds)u._u.has(I)&&(yield u.remoteSyncer.rejectListen(I,g),u._u.delete(I),u.pu.removeTarget(I))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Zc(i,o)}else if(e instanceof Id?i.pu.Gt(e):e instanceof Dd?i.pu.Yt(e):i.pu.Wt(e),!t.isEqual(wn.min()))try{const o=yield Lp(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const g=u.pu.te(d);return g.targetChanges.forEach((I,P)=>{if(I.resumeToken.approximateByteSize()>0){const B=u._u.get(P);B&&u._u.set(P,B.withResumeToken(I.resumeToken,d))}}),g.targetMismatches.forEach(I=>{const P=u._u.get(I);if(!P)return;u._u.set(I,P.withResumeToken(es.EMPTY_BYTE_STRING,P.snapshotVersion)),$d(u,I);const B=new ru(P.target,I,1,P.sequenceNumber);lf(u,B)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){mt("RemoteStore","Failed to raise snapshot:",o),yield Zc(i,o)}var o}),qd.apply(this,arguments)}function Zc(i,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,w.Z)(function*(i,e,t){if(!ki(e))throw e;i.wu.add(1),yield qc(i),i.yu.set("Offline"),t||(t=()=>Lp(i.localStore)),i.asyncQueue.enqueueRetryable((0,w.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield sc(i)}))}),hf.apply(this,arguments)}function oa(i,e){return e().catch(t=>Zc(i,t,e))}function Lu(i){return ff.apply(this,arguments)}function ff(){return ff=(0,w.Z)(function*(i){const e=Nt(i),t=Fa(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;nm(e);)try{const u=yield Nu(e.localStore,o);if(null===u){0===e.du.length&&t.$o();break}o=u.batchId,sy(e,u)}catch(u){yield Zc(e,u)}pf(e)&&Hp(e)}),ff.apply(this,arguments)}function nm(i){return hu(i)&&i.du.length<10}function sy(i,e){i.du.push(e);const t=Fa(i);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function pf(i){return hu(i)&&!Fa(i).ko()&&i.du.length>0}function Hp(i){Fa(i).start()}function rm(i){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,w.Z)(function*(i){Fa(i).nu()}),Wd.apply(this,arguments)}function gf(i){return mf.apply(this,arguments)}function mf(){return mf=(0,w.Z)(function*(i){const e=Fa(i);for(const t of i.du)e.Zo(t.mutations)}),mf.apply(this,arguments)}function im(i,e,t){return oc.apply(this,arguments)}function oc(){return oc=(0,w.Z)(function*(i,e,t){const o=i.du.shift(),u=Gl.from(o,e,t);yield oa(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Lu(i)}),oc.apply(this,arguments)}function yf(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,w.Z)(function*(i,e){var t;e&&Fa(i).Xo&&(yield(t=(0,w.Z)(function*(o,u){if(up(d=u.code)&&d!==$e.ABORTED){const g=o.du.shift();Fa(o).Fo(),yield oa(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Lu(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),pf(i)&&Hp(i)}),_f.apply(this,arguments)}function Kd(i,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,w.Z)(function*(i,e){const t=Nt(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const o=hu(t);t.wu.add(3),yield qc(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield sc(t)}),Yc.apply(this,arguments)}function vf(){return vf=(0,w.Z)(function*(i,e){const t=Nt(i);e?(t.wu.delete(2),yield sc(t)):e||(t.wu.add(2),yield qc(t),t.yu.set("Unknown"))}),vf.apply(this,arguments)}function ac(i){return i.Iu||(i.Iu=function(e,t,o){const u=Nt(e);return u.iu(),new sf(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:cf.bind(null,i),Zr:Gp.bind(null,i),zo:tm.bind(null,i)}),i.mu.push(function(){var e=(0,w.Z)(function*(t){t?(i.Iu.Fo(),Hd(i)?Gd(i):i.yu.set("Unknown")):(yield i.Iu.stop(),$p(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Fa(i){return i.Tu||(i.Tu=function(e,t,o){const u=Nt(e);return u.iu(),new of(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:rm.bind(null,i),Zr:yf.bind(null,i),eu:gf.bind(null,i),tu:im.bind(null,i)}),i.mu.push(function(){var e=(0,w.Z)(function*(t){t?(i.Tu.Fo(),yield Lu(i)):(yield i.Tu.stop(),i.du.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class zp{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,d){const g=Date.now()+o,I=new zp(e,t,g,u,d);return I.start(o),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(i,e){if(Xn("AsyncQueue",`${e}: ${i}`),ki(i))return new ct($e.UNAVAILABLE,`${e}: ${i}`);throw i}class ml{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ft.comparator(t.key,o.key):(t,o)=>Ft.comparator(t.key,o.key),this.keyedMap=wd(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new ml(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ml;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Ef{constructor(){this.Eu=new wi(Ft.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Gt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class yl{constructor(e,t,o,u,d,g,I,P){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=I,this.excludesMetadataChanges=P}static fromInitialDocuments(e,t,o,u){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new yl(e,t,ml.emptySet(t),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class qp{constructor(){this.Ru=void 0,this.listeners=[]}}class Wp{constructor(){this.queries=new ta(e=>wh(e),bc),this.onlineState="Unknown",this.bu=new Set}}function lc(){return lc=(0,w.Z)(function*(i,e){const t=Nt(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new qp),u)try{d.Ru=yield t.onListen(o)}catch(g){const I=uc(g,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(I)}t.queries.set(o,d),d.listeners.push(e),e.Pu(t.onlineState),d.Ru&&e.vu(d.Ru)&&l(t)}),lc.apply(this,arguments)}function bf(){return bf=(0,w.Z)(function*(i,e){const t=Nt(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),bf.apply(this,arguments)}function oy(i,e){const t=Nt(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const I of g.listeners)I.vu(u)&&(o=!0);g.Ru=u}}o&&l(t)}function p(i,e,t){const o=Nt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function l(i){i.bu.forEach(e=>{e.next()})}class f{constructor(e,t,o){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new yl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class Le{constructor(e){this.key=e}}class ht{constructor(e){this.key=e}}class yt{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=jn(),this.mutatedKeys=jn(),this.Gu=eu(e),this.Qu=new ml(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Ef,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,g=u,I=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Y,de)=>{const Pe=u.get(Y),rt=Ol(this.query,de)?de:null,at=!!Pe&&this.mutatedKeys.has(Pe.key),Ht=!!rt&&(rt.hasLocalMutations||this.mutatedKeys.has(rt.key)&&rt.hasCommittedMutations);let cn=!1;Pe&&rt?Pe.data.isEqual(rt.data)?at!==Ht&&(o.track({type:3,doc:rt}),cn=!0):this.Hu(Pe,rt)||(o.track({type:2,doc:rt}),cn=!0,(P&&this.Gu(rt,P)>0||B&&this.Gu(rt,B)<0)&&(I=!0)):!Pe&&rt?(o.track({type:0,doc:rt}),cn=!0):Pe&&!rt&&(o.track({type:1,doc:Pe}),cn=!0,(P||B)&&(I=!0)),cn&&(rt?(g=g.add(rt),d=Ht?d.add(Y):d.delete(Y)):(g=g.delete(Y),d=d.delete(Y)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Y="F"===this.query.limitType?g.last():g.first();g=g.delete(Y.key),d=d.delete(Y.key),o.track({type:1,doc:Y})}return{Qu:g,zu:o,$i:I,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((B,Y)=>function(de,Pe){const rt=at=>{switch(at){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return rt(de)-rt(Pe)}(B.type,Y.type)||this.Gu(B.doc,Y.doc)),this.Ju(o);const g=t?this.Yu():[],I=0===this.Ku.size&&this.current?1:0,P=I!==this.qu;return this.qu=I,0!==d.length||P?{snapshot:new yl(this.query,e.Qu,u,d,e.mutatedKeys,0===I,P,!1),Xu:g}:{Xu:g}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ef,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=jn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new ht(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Le(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=jn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return yl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class an{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Nr{constructor(e){this.key=e,this.nc=!1}}class Hr{constructor(e,t,o,u,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new ta(I=>wh(I),bc),this.rc=new Map,this.oc=new Set,this.uc=new wi(Ft.comparator),this.cc=new Map,this.ac=new dl,this.hc={},this.lc=new Map,this.fc=uu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ti(i,e){return js.apply(this,arguments)}function js(){return js=(0,w.Z)(function*(i,e){const t=rg(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const g=yield Pu(t.localStore,Us(e));t.isPrimaryClient&&Wc(t.remoteStore,g);const I=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield Vu(t,e,o,"current"===I)}return u}),js.apply(this,arguments)}function Vu(i,e,t,o){return cc.apply(this,arguments)}function cc(){return cc=(0,w.Z)(function*(i,e,t,o){i._c=(Y,de,Pe)=>{return(rt=(0,w.Z)(function*(at,Ht,cn,jr){let ai=Ht.view.Wu(cn);ai.$i&&(ai=yield fl(at.localStore,Ht.query,!1).then(({documents:li})=>Ht.view.Wu(li,ai)));const ui=jr&&jr.targetChanges.get(Ht.targetId),ps=Ht.view.applyChanges(ai,at.isPrimaryClient,ui);return Jp(at,Ht.targetId,ps.Xu),ps.snapshot}),function(at,Ht,cn,jr){return rt.apply(this,arguments)})(i,Y,de,Pe);var rt};const u=yield fl(i.localStore,e,!0),d=new yt(e,u.Hi),g=d.Wu(u.documents),I=fi.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),P=d.applyChanges(g,i.isPrimaryClient,I);Jp(i,t,P.Xu);const B=new an(e,t,d);return i.ic.set(e,B),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),P.snapshot}),cc.apply(this,arguments)}function If(i,e){return La.apply(this,arguments)}function La(){return La=(0,w.Z)(function*(i,e){const t=Nt(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!bc(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ec(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Kc(t.remoteStore,o.targetId),Xd(t,o.targetId)}).catch(qt))):(Xd(t,o.targetId),yield ec(t.localStore,o.targetId,!0))}),La.apply(this,arguments)}function Qc(){return Qc=(0,w.Z)(function*(i,e,t){const o=ig(i);try{const u=yield function(d,g){const I=Nt(d),P=Lr.now(),B=g.reduce((Pe,rt)=>Pe.add(rt.key),jn());let Y,de;return I.persistence.runTransaction("Locally write mutations","readwrite",Pe=>{let rt=Bs(),at=jn();return I.Gi.getEntries(Pe,B).next(Ht=>{rt=Ht,rt.forEach((cn,jr)=>{jr.isValidDocument()||(at=at.add(cn))})}).next(()=>I.localDocuments.getOverlayedDocuments(Pe,rt)).next(Ht=>{Y=Ht;const cn=[];for(const jr of g){const ai=ap(jr,Y.get(jr.key).overlayedDocument);null!=ai&&cn.push(new Da(jr.key,ai,Zu(ai.value.mapValue),Ii.exists(!0)))}return I.mutationQueue.addMutationBatch(Pe,P,cn,g)}).next(Ht=>{de=Ht;const cn=Ht.applyToLocalDocumentSet(Y,at);return I.documentOverlayCache.saveOverlays(Pe,Ht.batchId,cn)})}).then(()=>({batchId:de.batchId,changes:Ic(Y)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,I){let P=d.hc[d.currentUser.toKey()];P||(P=new wi(En)),P=P.insert(g,I),d.hc[d.currentUser.toKey()]=P}(o,u.batchId,t),yield vl(o,u.changes),yield Lu(o.remoteStore)}catch(u){const d=uc(u,"Failed to persist write");t.reject(d)}}),Qc.apply(this,arguments)}function Qd(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,w.Z)(function*(i,e){const t=Nt(i);try{const o=yield iy(t.localStore,e);e.targetChanges.forEach((u,d)=>{const g=t.cc.get(d);g&&(hn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.nc=!0:u.modifiedDocuments.size>0?hn(g.nc):u.removedDocuments.size>0&&(hn(g.nc),g.nc=!1))}),yield vl(t,o,e)}catch(o){yield qt(o)}}),dc.apply(this,arguments)}function Qs(i,e,t){const o=Nt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,g)=>{const I=g.view.Pu(e);I.snapshot&&u.push(I.snapshot)}),function(d,g){const I=Nt(d);I.onlineState=g;let P=!1;I.queries.forEach((B,Y)=>{for(const de of Y.listeners)de.Pu(g)&&(P=!0)}),P&&l(I)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Jd(i,e,t){return _l.apply(this,arguments)}function _l(){return _l=(0,w.Z)(function*(i,e,t){const o=Nt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let g=new wi(Ft.comparator);g=g.insert(d,cr.newNoDocument(d,wn.min()));const I=jn().add(d),P=new nl(wn.min(),new Map,new Br(En),g,I);yield Qd(o,P),o.uc=o.uc.remove(d),o.cc.delete(e),om(o)}else yield ec(o.localStore,e,!1).then(()=>Xd(o,e,t)).catch(qt)}),_l.apply(this,arguments)}function Df(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,w.Z)(function*(i,e){const t=Nt(i),o=e.batch.batchId;try{const u=yield ry(t.localStore,e);Cf(t,o,null),Yp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield vl(t,u)}catch(u){yield qt(u)}}),Tf.apply(this,arguments)}function sm(i,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,w.Z)(function*(i,e,t){const o=Nt(i);try{const u=yield function(d,g){const I=Nt(d);return I.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let B;return I.mutationQueue.lookupMutationBatch(P,g).next(Y=>(hn(null!==Y),B=Y.keys(),I.mutationQueue.removeMutationBatch(P,Y))).next(()=>I.mutationQueue.performConsistencyCheck(P)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(P,B,g)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,B)).next(()=>I.localDocuments.getDocuments(P,B))})}(o.localStore,e);Cf(o,e,t),Yp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield vl(o,u)}catch(u){yield qt(u)}}),Kp.apply(this,arguments)}function Yp(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Cf(i,e,t){const o=Nt(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function Xd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Qp(i,o)})}function Qp(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Kc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),om(i))}function Jp(i,e,t){for(const o of t)o instanceof Le?(i.ac.addReference(o.key,e),uy(i,o)):o instanceof ht?(mt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Qp(i,o.key)):Gt()}function uy(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(mt("SyncEngine","New document in limbo: "+t),i.oc.add(o),om(i))}function om(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Ft(Tn.fromString(e)),o=i.fc.next();i.cc.set(o,new Nr(t)),i.uc=i.uc.insert(t,o),Wc(i.remoteStore,new ru(Us(Ea(t.path)),o,2,zi.at))}}function vl(i,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,w.Z)(function*(i,e,t){const o=Nt(i),u=[],d=[],g=[];var I;o.ic.isEmpty()||(o.ic.forEach((I,P)=>{g.push(o._c(P,e,t).then(B=>{if((B||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(P.targetId,(null==B?void 0:B.fromCache)?"not-current":"current"),B){u.push(B);const Y=kp.Ci(P.targetId,B);d.push(Y)}}))}),yield Promise.all(g),o.sc.zo(u),yield(I=(0,w.Z)(function*(P,B){const Y=Nt(P);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>we.forEach(B,Pe=>we.forEach(Pe.Si,rt=>Y.persistence.referenceDelegate.addReference(de,Pe.targetId,rt)).next(()=>we.forEach(Pe.Di,rt=>Y.persistence.referenceDelegate.removeReference(de,Pe.targetId,rt)))))}catch(de){if(!ki(de))throw de;mt("LocalStore","Failed to update sequence numbers: "+de)}for(const de of B){const Pe=de.targetId;if(!de.fromCache){const rt=Y.Ui.get(Pe),Ht=rt.withLastLimboFreeSnapshotVersion(rt.snapshotVersion);Y.Ui=Y.Ui.insert(Pe,Ht)}}}),function(P,B){return I.apply(this,arguments)})(o.localStore,d))}),eh.apply(this,arguments)}function ly(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,w.Z)(function*(i,e){const t=Nt(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const o=yield Pp(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(g=>{g.forEach(I=>{I.reject(new ct($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vl(t,o.ji)}var u}),Af.apply(this,arguments)}function am(i,e){const t=Nt(i),o=t.cc.get(e);if(o&&o.nc)return jn().add(o.key);{let u=jn();const d=t.rc.get(e);if(!d)return u;for(const g of d){const I=t.ic.get(g);u=u.unionWith(I.view.ju)}return u}}function rg(i){const e=Nt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=am.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jd.bind(null,e),e.sc.zo=oy.bind(null,e.eventManager),e.sc.wc=p.bind(null,e.eventManager),e}function ig(i){const e=Nt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sm.bind(null,e),e}class Rf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w.Z)(function*(){t.It=ic(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Np(i,e,t,o){return new ny(i,e,t,o)}(this.persistence,new Op,e.initialUser,this.It)}yc(e){return new Uc(Xl.Bs,this.It)}gc(e){return new gl}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hc{initialize(e,t){var o=this;return(0,w.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Qs(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=ly.bind(null,o.syncEngine),yield function Zd(i,e){return vf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wp}createDatastore(e){const t=ic(e.databaseInfo.databaseId),o=new jd(e.databaseInfo);return new Up(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=I=>Qs(this.syncEngine,I,0),g=Bd.C()?new Bd:new Xg,new _o(t,o,u,d,g);var t,o,u,d,g}createSyncEngine(e,t){return function(o,u,d,g,I,P,B){const Y=new Hr(o,u,d,g,I,P);return B&&(Y.dc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w.Z)(function*(t){const o=Nt(t);mt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield qc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sg(i,e,t){if(!t)throw new ct($e.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function kf(i){if(!Ft.isDocumentKey(i))throw new ct($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Va(i){if(Ft.isDocumentKey(i))throw new ct($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function El(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Gt()}function kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ct($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=El(i);throw new ct($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const th=new Map;class jo{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ct($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function gy(i,e,t,o){if(!0===e&&!0===o)throw new ct($e.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jo({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ct($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jo(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ga;switch(t.type){case"gapi":return new Do(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ct($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=th.get(e);t&&(mt("ComponentProvider","Removing Datastore"),th.delete(e),t.terminate())}(this),Promise.resolve()}}class pi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class ss{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class no extends ss{constructor(e,t,o){super(e,t,Ea(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new Ft(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function ed(i,e,...t){if(i=(0,ge.m9)(i),sg("collection","path",e),i instanceof fc){const o=Tn.fromString(e,...t);return Va(o),new no(i,null,o)}{if(!(i instanceof pi||i instanceof no))throw new ct($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Tn.fromString(e,...t));return Va(o),new no(i.firestore,null,o)}}function pc(i,e,...t){if(i=(0,ge.m9)(i),1===arguments.length&&(e=za.R()),sg("doc","path",e),i instanceof fc){const o=Tn.fromString(e,...t);return kf(o),new pi(i,null,new Ft(o))}{if(!(i instanceof pi||i instanceof no))throw new ct($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Tn.fromString(e,...t));return kf(o),new pi(i.firestore,i instanceof no?i.converter:null,new Ft(o))}}class ih{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mm{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Or.UNAUTHENTICATED,this.clientId=za.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,w.Z)(function*(I){mt("FirestoreClient","Received user=",I.uid),yield d.authCredentialListener(I),d.user=I});return function(I){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(mt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=uc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function ym(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,w.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,w.Z)(function*(d){o.isEqual(d)||(yield Pp(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Of.apply(this,arguments)}function _m(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,w.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Nf(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Kd(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Kd(e.remoteStore,d)),i.onlineComponents=e}),ag.apply(this,arguments)}function Nf(i){return ug.apply(this,arguments)}function ug(){return ug=(0,w.Z)(function*(i){return i.offlineComponents||(mt("FirestoreClient","Using default OfflineComponentProvider"),yield ym(i,new Rf)),i.offlineComponents}),ug.apply(this,arguments)}function Pf(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,w.Z)(function*(i){return i.onlineComponents||(mt("FirestoreClient","Using default OnlineComponentProvider"),yield _m(i,new hc)),i.onlineComponents}),Ff.apply(this,arguments)}function td(i){return oh.apply(this,arguments)}function oh(){return oh=(0,w.Z)(function*(i){const e=yield Pf(i),t=e.eventManager;return t.onListen=Ti.bind(null,e.syncEngine),t.onUnlisten=If.bind(null,e.syncEngine),t}),oh.apply(this,arguments)}class nd{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new zc(this,"async_queue_retry"),this.Wc=()=>{const t=Pa();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Pa();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Pa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ur;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,w.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!ki(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=zp.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.qc.push(u),u}zc(){this.Kc&&Gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,w.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function hg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class gi extends fc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new nd,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Im(this),this._firestoreClient.terminate()}}function wy(i,e){const t="object"==typeof i?i:(0,E.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,E.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const d=(0,ge.q4)("firestore");if(d){const[g,I]=d.split(":");!function Xc(i,e,t,o={}){var u;const d=(i=kn(i,fc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,I;if("string"==typeof o.mockUserToken)g=o.mockUserToken,I=Or.MOCK_USER;else{g=(0,ge.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const P=o.mockUserToken.sub||o.mockUserToken.user_id;if(!P)throw new ct($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Or(P)}i._authCredentials=new Fi(new Gu(g,I))}}(u,g,parseInt(I,10))}}return u}function os(i){return i._firestoreClient||Im(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Im(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ts(i._databaseId,d,i._persistenceKey,(I=t).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var d,I;i._firestoreClient=new mm(i._authCredentials,i._appCheckCredentials,i._queue,o)}class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc(es.fromBase64String(e))}catch(t){throw new ct($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mc(es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ct($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uf{constructor(e){this._methodName=e}}class uh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ct($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ct($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}}const pg=/^__.*__$/;class Ty{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cu(e,this.data,t,this.fieldTransforms)}}class Bf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class lh{constructor(e,t,o,u,d,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new lh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return sd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jf(this.sa)&&pg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class W_{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||ic(e)}da(e,t,o,u=!1){return new lh({sa:e,methodName:t,fa:o,path:oi.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function rd(i){const e=i._freezeSettings(),t=ic(i._databaseId);return new W_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $f(i,e,t,o,u,d={}){const g=i.da(d.merge||d.mergeFields?2:0,e,t,u);qf("Data must be an object, but it was:",g,o);const I=yg(o,g);let P,B;if(d.merge)P=new Ws(g.fieldMask),B=g.fieldTransforms;else if(d.mergeFields){const Y=[];for(const de of d.mergeFields){const Pe=_g(e,de,t);if(!g.contains(Pe))throw new ct($e.INVALID_ARGUMENT,`Field '${Pe}' is specified in your field mask but missing from your input data.`);Kf(Y,Pe)||Y.push(Pe)}P=new Ws(Y),B=g.fieldTransforms.filter(de=>P.covers(de.field))}else P=null,B=g.fieldTransforms;return new Ty(new bi(I),P,B)}class id extends Uf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}function bl(i,e){if(zf(i=(0,ge.m9)(i)))return qf("Unsupported field value:",e,i),yg(i,e);if(i instanceof Uf)return function(t,o){if(!jf(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const g of t){let I=bl(g,o.aa(d));null==I&&(I={nullValue:"NULL_VALUE"}),u.push(I),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nl(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Lr.fromDate(t);return{timestampValue:Cc(o.It,u)}}if(t instanceof Lr){const u=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cc(o.It,u)}}if(t instanceof uh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mc)return{bytesValue:Ul(o.It,t._byteString)};if(t instanceof pi){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Td(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${El(t)}`)}(i,e)}function yg(i,e){const t={};return Ec(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(o,u)=>{const d=bl(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function zf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Lr||i instanceof uh||i instanceof mc||i instanceof pi||i instanceof Uf)}function qf(i,e,t){if(!zf(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=El(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function _g(i,e,t){if((e=(0,ge.m9)(e))instanceof ah)return e._internalPath;if("string"==typeof e)return Wf(i,e);throw sd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Cy=new RegExp("[~\\*/\\[\\]]");function Wf(i,e,t){if(e.search(Cy)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch(o){throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function sd(i,e,t,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let I=`Function ${e}() called with invalid data`;t&&(I+=" (via `toFirestore()`)"),I+=". ";let P="";return(d||g)&&(P+=" (found",d&&(P+=` in field ${o}`),g&&(P+=` in document ${u}`),P+=")"),new ct($e.INVALID_ARGUMENT,I+i+P)}function Kf(i,e){return i.some(t=>t.isEqual(e))}class Zf{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ch("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mm extends Zf{data(){return super.data()}}function ch(i,e){return"string"==typeof e?Wf(i,e):e instanceof ah?e._internalPath:e._delegate._internalPath}class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dh extends Zf{constructor(e,t,o,u,d,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ch("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class hh extends dh{data(e={}){return super.data(e)}}class Dl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Il(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new hh(this._firestore,this._userDataWriter,o.key,o,new Il(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ct($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new hh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const I=new hh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let P=-1,B=-1;return 0!==g.type&&(P=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),B=d.indexOf(g.doc.key)),{type:fu(g.type),doc:I,oldIndex:P,newIndex:B}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}class $s extends class Oy{convertValue(e,t="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gt()}}convertObject(e,t){const o={};return Xi(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new uh(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Sl(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Wa(e));default:return null}}convertTimestamp(e){const t=_a(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Tn.fromString(e);hn(vp(o));const u=new qi(o.get(1),o.get(3)),d=new Ft(o.popFirst(5));return u.isEqual(t)||Xn(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function Fy(i,e,t,...o){i=kn(i,pi);const u=kn(i.firestore,gi),d=rd(u);let g;return g="string"==typeof(e=(0,ge.m9)(e))||e instanceof ah?function mg(i,e,t,o,u,d){const g=i.da(1,e,t),I=[_g(e,o,t)],P=[u];if(d.length%2!=0)throw new ct($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Pe=0;Pe<d.length;Pe+=2)I.push(_g(e,d[Pe])),P.push(d[Pe+1]);const B=[],Y=bi.empty();for(let Pe=I.length-1;Pe>=0;--Pe)if(!Kf(B,I[Pe])){const rt=I[Pe];let at=P[Pe];at=(0,ge.m9)(at);const Ht=g.ca(rt);if(at instanceof id)B.push(rt);else{const cn=bl(at,Ht);null!=cn&&(B.push(rt),Y.set(rt,cn))}}const de=new Ws(B);return new Bf(Y,de,g.fieldTransforms)}(d,"updateDoc",i._key,e,t,o):function Hf(i,e,t,o){const u=i.da(1,e,t);qf("Data must be an object, but it was:",u,o);const d=[],g=bi.empty();Xi(o,(P,B)=>{const Y=Wf(e,P,t);B=(0,ge.m9)(B);const de=u.ca(Y);if(B instanceof id)d.push(Y);else{const Pe=bl(B,de);null!=Pe&&(d.push(Y),g.set(Y,Pe))}});const I=new Ws(d);return new Bf(g,I,u.fieldTransforms)}(d,"updateDoc",i._key,e),od(u,[g.toMutation(i._key,Ii.exists(!0))])}function Ly(i){return od(kn(i.firestore,gi),[new ea(i._key,Ii.none())])}function bg(i,e){const t=kn(i.firestore,gi),o=pc(i),u=function Yf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return od(t,[$f(rd(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ii.exists(!1))]).then(()=>o)}function fh(i,...e){var t,o,u;i=(0,ge.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||hg(e[g])||(d=e[g],g++);const I={includeMetadataChanges:d.includeMetadataChanges};if(hg(e[g])){const de=e[g];e[g]=null===(t=de.next)||void 0===t?void 0:t.bind(de),e[g+1]=null===(o=de.error)||void 0===o?void 0:o.bind(de),e[g+2]=null===(u=de.complete)||void 0===u?void 0:u.bind(de)}let P,B,Y;if(i instanceof pi)B=kn(i.firestore,gi),Y=Ea(i._key.path),P={next:de=>{e[g]&&e[g](function Ig(i,e,t){const o=t.docs.get(e._key),u=new $s(i);return new dh(i,u,e._key,o,new Il(t.hasPendingWrites,t.fromCache),e.converter)}(B,i,de))},error:e[g+1],complete:e[g+2]};else{const de=kn(i,ss);B=kn(de.firestore,gi),Y=de._query;const Pe=new $s(B);P={next:rt=>{e[g]&&e[g](new Dl(B,Pe,de,rt))},error:e[g+1],complete:e[g+2]},function vg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ct($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(de,Pe,rt,at){const Ht=new ih(at),cn=new f(Pe,Ht,rt);return de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function aa(i,e){return lc.apply(this,arguments)}(yield td(de),cn)})),()=>{Ht.bc(),de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function wf(i,e){return bf.apply(this,arguments)}(yield td(de),cn)}))}}(os(B),Y,I,P)}function od(i,e){return function(t,o){const u=new Ur;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function Yd(i,e,t){return Qc.apply(this,arguments)}(yield function cg(i){return Pf(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(os(i),e)}!function(i,e=!0){Cr=E.Jn,(0,E.Xd)(new ve.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),g=new gi(new pa(t.getProvider("auth-internal")),new ud(t.getProvider("app-check-internal")),function(I,P){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new ct($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qi(I.options.projectId,P)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,E.KN)(Ri,"3.6.0",i),(0,E.KN)(Ri,"3.6.0","esm2017")}()},2090:(Qt,ze,Z)=>{"use strict";Z.d(ze,{BH:()=>ur,LL:()=>$n,ZR:()=>Hn,zI:()=>Ce,US:()=>Ve,tV:()=>Ye,L:()=>ke,$s:()=>je,Sg:()=>Vt,ne:()=>ye,vZ:()=>xr,aH:()=>Yt,q4:()=>Ae,Pz:()=>tn,m9:()=>$t,z$:()=>Dt,ru:()=>gt,hl:()=>it,uI:()=>nt,b$:()=>Ot,xO:()=>gn,eu:()=>on});const Te=function(te){const ae=[];let _e=0;for(let Je=0;Je<te.length;Je++){let xe=te.charCodeAt(Je);xe<128?ae[_e++]=xe:xe<2048?(ae[_e++]=xe>>6|192,ae[_e++]=63&xe|128):55296==(64512&xe)&&Je+1<te.length&&56320==(64512&te.charCodeAt(Je+1))?(xe=65536+((1023&xe)<<10)+(1023&te.charCodeAt(++Je)),ae[_e++]=xe>>18|240,ae[_e++]=xe>>12&63|128,ae[_e++]=xe>>6&63|128,ae[_e++]=63&xe|128):(ae[_e++]=xe>>12|224,ae[_e++]=xe>>6&63|128,ae[_e++]=63&xe|128)}return ae},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,ae){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Je=[];for(let xe=0;xe<te.length;xe+=3){const xt=te[xe],Jt=xe+1<te.length,Yn=Jt?te[xe+1]:0,dr=xe+2<te.length,Ut=dr?te[xe+2]:0;let mr=(15&Yn)<<2|Ut>>6,yr=63&Ut;dr||(yr=64,Jt||(mr=64)),Je.push(_e[xt>>2],_e[(3&xt)<<4|Yn>>4],_e[mr],_e[yr])}return Je.join("")},encodeString(te,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(te):this.encodeByteArray(Te(te),ae)},decodeString(te,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(te):function(te){const ae=[];let _e=0,Je=0;for(;_e<te.length;){const xe=te[_e++];if(xe<128)ae[Je++]=String.fromCharCode(xe);else if(xe>191&&xe<224){const xt=te[_e++];ae[Je++]=String.fromCharCode((31&xe)<<6|63&xt)}else if(xe>239&&xe<365){const dr=((7&xe)<<18|(63&te[_e++])<<12|(63&te[_e++])<<6|63&te[_e++])-65536;ae[Je++]=String.fromCharCode(55296+(dr>>10)),ae[Je++]=String.fromCharCode(56320+(1023&dr))}else{const xt=te[_e++],Jt=te[_e++];ae[Je++]=String.fromCharCode((15&xe)<<12|(63&xt)<<6|63&Jt)}}return ae.join("")}(this.decodeStringToByteArray(te,ae))},decodeStringToByteArray(te,ae){this.init_();const _e=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Je=[];for(let xe=0;xe<te.length;){const xt=_e[te.charAt(xe++)],Yn=xe<te.length?_e[te.charAt(xe)]:0;++xe;const Ut=xe<te.length?_e[te.charAt(xe)]:64;++xe;const _n=xe<te.length?_e[te.charAt(xe)]:64;if(++xe,null==xt||null==Yn||null==Ut||null==_n)throw Error();Je.push(xt<<2|Yn>>4),64!==Ut&&(Je.push(Yn<<4&240|Ut>>2),64!==_n&&Je.push(Ut<<6&192|_n))}return Je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},ke=function(te){return function(te){const ae=Te(te);return Ve.encodeByteArray(ae,!0)}(te).replace(/\./g,"")},Ye=function(te){try{return Ve.decodeString(te,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function Dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function gt(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return"object"==typeof indexedDB}function on(){return new Promise((te,ae)=>{try{let _e=!0;const Je="validate-browser-context-for-indexeddb-analytics-module",xe=self.indexedDB.open(Je);xe.onsuccess=()=>{xe.result.close(),_e||self.indexedDB.deleteDatabase(Je),te(!0)},xe.onupgradeneeded=()=>{_e=!1},xe.onerror=()=>{var xt;ae((null===(xt=xe.error)||void 0===xt?void 0:xt.message)||"")}}catch(_e){ae(_e)}})}function Ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Ke=()=>function oe(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const te=process.env.__FIREBASE_DEFAULTS__,ae=process.env.__FIREBASE_DEFAULTS_PATH__;if(te)return ae&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(te);if(ae)try{return Z(9163)(ae)}catch(_e){console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${ae}`)}})()||(()=>{if("undefined"==typeof document)return;const te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),ae=te&&Ye(te[1]);return ae&&JSON.parse(ae)})(),Ae=te=>{var ae,_e;return null===(_e=null===(ae=Ke())||void 0===ae?void 0:ae.emulatorHosts)||void 0===_e?void 0:_e[te]},Yt=()=>{var te;return null===(te=Ke())||void 0===te?void 0:te.config},tn=te=>{var ae;return null===(ae=Ke())||void 0===ae?void 0:ae[`_${te}`]};class ur{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,_e)=>{this.resolve=ae,this.reject=_e})}wrapCallback(ae){return(_e,Je)=>{_e?this.reject(_e):this.resolve(Je),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(_e):ae(_e,Je))}}}function Vt(te,ae){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Je=ae||"demo-project",xe=te.iat||0,xt=te.sub||te.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Jt=Object.assign({iss:`https://securetoken.google.com/${Je}`,aud:Je,iat:xe,exp:xe+3600,auth_time:xe,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(Jt)),""].join(".")}class Hn extends Error{constructor(ae,_e,Je){super(_e),this.code=ae,this.customData=Je,this.name="FirebaseError",Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}}class $n{constructor(ae,_e,Je){this.service=ae,this.serviceName=_e,this.errors=Je}create(ae,..._e){const Je=_e[0]||{},xe=`${this.service}/${ae}`,xt=this.errors[ae],Jt=xt?function pr(te,ae){return te.replace(br,(_e,Je)=>{const xe=ae[Je];return null!=xe?String(xe):`<${Je}?>`})}(xt,Je):"Error";return new Hn(xe,`${this.serviceName}: ${Jt} (${xe}).`,Je)}}const br=/\{\$([^}]+)}/g;function xr(te,ae){if(te===ae)return!0;const _e=Object.keys(te),Je=Object.keys(ae);for(const xe of _e){if(!Je.includes(xe))return!1;const xt=te[xe],Jt=ae[xe];if(Wr(xt)&&Wr(Jt)){if(!xr(xt,Jt))return!1}else if(xt!==Jt)return!1}for(const xe of Je)if(!_e.includes(xe))return!1;return!0}function Wr(te){return null!==te&&"object"==typeof te}function gn(te){const ae=[];for(const[_e,Je]of Object.entries(te))Array.isArray(Je)?Je.forEach(xe=>{ae.push(encodeURIComponent(_e)+"="+encodeURIComponent(xe))}):ae.push(encodeURIComponent(_e)+"="+encodeURIComponent(Je));return ae.length?"&"+ae.join("&"):""}function ye(te,ae){const _e=new st(te,ae);return _e.subscribe.bind(_e)}class st{constructor(ae,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{ae(this)}).catch(Je=>{this.error(Je)})}next(ae){this.forEachObserver(_e=>{_e.next(ae)})}error(ae){this.forEachObserver(_e=>{_e.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,_e,Je){let xe;if(void 0===ae&&void 0===_e&&void 0===Je)throw new Error("Missing Observer.");xe=function Ct(te,ae){if("object"!=typeof te||null===te)return!1;for(const _e of ae)if(_e in te&&"function"==typeof te[_e])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:_e,complete:Je},void 0===xe.next&&(xe.next=wt),void 0===xe.error&&(xe.error=wt),void 0===xe.complete&&(xe.complete=wt);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xe.error(this.finalError):xe.complete()}catch(Jt){}}),this.observers.push(xe),xt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,ae)}sendOne(ae,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{_e(this.observers[ae])}catch(Je){"undefined"!=typeof console&&console.error&&console.error(Je)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wt(){}function je(te,ae=1e3,_e=2){const Je=ae*Math.pow(_e,te),xe=Math.round(.5*Je*(Math.random()-.5)*2);return Math.min(144e5,Je+xe)}function $t(te){return te&&te._delegate?te._delegate:te}},5830:(Qt,ze,Z)=>{"use strict";Z.d(ze,{s:()=>ve});var w=Z(1223),E=Z(520);let ve=(()=>{class Te{constructor(Ve){this.https=Ve}traerDatosGitHub(){return this.https.get("https://api.github.com/users/nahuelcisa")}traerPaises(){return this.https.get("https://restcountries.com/v2/alpha?codes=ng,za,esp,fr")}}return Te.\u0275fac=function(Ve){return new(Ve||Te)(w.LFG(E.eN))},Te.\u0275prov=w.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},799:(Qt,ze,Z)=>{"use strict";Z.d(ze,{C:()=>Es});var w=Z(584),E=Z(5861),ve=Z(9681),Te=Z(2090),ge=Z(4859);const Ve="firebasestorage.googleapis.com";class Q extends Te.ZR{constructor(V,ee){super(fe(V),`Firebase Storage: ${ee} (${fe(V)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Q.prototype)}_codeEquals(V){return fe(V)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(V){this.customData.serverResponse=V,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function fe(G){return"storage/"+G}function Ce(G){return new Q("invalid-argument",G)}function oe(){return new Q("app-deleted","The Firebase app was deleted.")}class Ke{constructor(V,ee){this.bucket=V,this.path_=ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(V,ee){let le;try{le=Ke.makeFromUrl(V,ee)}catch(Ie){return new Ke(V,"")}if(""===le.path)return le;throw function Ne(G){return new Q("invalid-default-bucket","Invalid default bucket '"+G+"'.")}(V)}static makeFromUrl(V,ee){let le=null;const Ie="([A-Za-z0-9.\\-_]+)",Kt=new RegExp("^gs://"+Ie+"(/(.*))?$","i");function j(dn){dn.path_=decodeURIComponent(dn.path)}const z=ee.replace(/[.]/g,"\\."),un=[{regex:Kt,indices:{bucket:1,path:3},postModify:function Be(dn){"/"===dn.path.charAt(dn.path.length-1)&&(dn.path_=dn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${z}/v[A-Za-z0-9_]+/b/${Ie}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:j},{regex:new RegExp(`^https?://${ee===Ve?"(?:storage.googleapis.com|storage.cloud.google.com)":ee}/${Ie}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:j}];for(let dn=0;dn<un.length;dn++){const Zn=un[dn],zn=Zn.regex.exec(V);if(zn){let or=zn[Zn.indices.path];or||(or=""),le=new Ke(zn[Zn.indices.bucket],or),Zn.postModify(le);break}}if(null==le)throw function Wt(G){return new Q("invalid-url","Invalid URL '"+G+"'.")}(V);return le}}class Ae{constructor(V){this.promise_=Promise.reject(V)}getPromise(){return this.promise_}cancel(V=!1){}}function br(G,V,ee,le){if(le<V)throw Ce(`Invalid value for '${G}'. Expected ${V} or greater.`);if(le>ee)throw Ce(`Invalid value for '${G}'. Expected ${ee} or less.`)}var Nn=(()=>{return(G=Nn||(Nn={}))[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",Nn;var G})();class xn{constructor(V,ee,le,Ie,Be,_t,Kt,S,j,k,z){this.url_=V,this.method_=ee,this.headers_=le,this.body_=Ie,this.successCodes_=Be,this.additionalRetryCodes_=_t,this.callback_=Kt,this.errorCallback_=S,this.timeout_=j,this.progressCallback_=k,this.connectionFactory_=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ue,Se)=>{this.resolve_=ue,this.reject_=Se,this.start_()})}start_(){const ee=(le,Ie)=>{const Be=this.resolve_,_t=this.reject_,Kt=Ie.connection;if(Ie.wasSuccessCode)try{const S=this.callback_(Kt,Kt.getResponse());!function ur(G){return void 0!==G}(S)?Be():Be(S)}catch(S){_t(S)}else if(null!==Kt){const S=function Ze(){return new Q("unknown","An unknown error occurred, please check the error payload for server response.")}();S.serverResponse=Kt.getErrorText(),_t(this.errorCallback_?this.errorCallback_(Kt,S):S)}else _t(Ie.canceled?this.appDelete_?oe():function Et(){return new Q("canceled","User canceled the upload/download.")}():function Ot(){return new Q("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?ee(0,new en(!1,null,!0)):this.backoffId_=function Yt(G,V,ee){let le=1,Ie=null,Be=null,_t=!1,Kt=0;function S(){return 2===Kt}let j=!1;function k(...Mt){j||(j=!0,V.apply(null,Mt))}function z(Mt){Ie=setTimeout(()=>{Ie=null,G(Se,S())},Mt)}function ue(){Be&&clearTimeout(Be)}function Se(Mt,...Cn){if(j)return void ue();if(Mt)return ue(),void k.call(null,Mt,...Cn);if(S()||_t)return ue(),void k.call(null,Mt,...Cn);let un;le<64&&(le*=2),1===Kt?(Kt=2,un=0):un=1e3*(le+Math.random()),z(un)}let Xe=!1;function At(Mt){Xe||(Xe=!0,ue(),!j&&(null!==Ie?(Mt||(Kt=2),clearTimeout(Ie),z(0)):Mt||(Kt=1)))}return z(0),Be=setTimeout(()=>{_t=!0,At(!0)},ee),At}((le,Ie)=>{if(Ie)return void le(!1,new en(!1,null,!0));const Be=this.connectionFactory_();this.pendingConnection_=Be;const _t=Kt=>{null!==this.progressCallback_&&this.progressCallback_(Kt.loaded,Kt.lengthComputable?Kt.total:-1)};null!==this.progressCallback_&&Be.addUploadProgressListener(_t),Be.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Be.removeUploadProgressListener(_t),this.pendingConnection_=null;const Kt=Be.getErrorCode()===Nn.NO_ERROR,S=Be.getStatus();if(!Kt||this.isRetryStatusCode_(S)){const k=Be.getErrorCode()===Nn.ABORT;return void le(!1,new en(!1,null,k))}const j=-1!==this.successCodes_.indexOf(S);le(!0,new en(j,Be))})},ee,this.timeout_)}getPromise(){return this.promise_}cancel(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function tn(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(V){const ee=V>=500&&V<600,Ie=-1!==[408,429].indexOf(V),Be=-1!==this.additionalRetryCodes_.indexOf(V);return ee||Ie||Be}}class en{constructor(V,ee,le){this.wasSuccessCode=V,this.connection=ee,this.canceled=!!le}}class Xt{constructor(V,ee){this._service=V,this._location=ee instanceof Ke?ee:Ke.makeFromUrl(ee,V.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(V,ee){return new Xt(V,ee)}get root(){const V=new Ke(this._location.bucket,"");return this._newRef(this._service,V)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Ir(G){const V=G.lastIndexOf("/",G.length-2);return-1===V?G:G.slice(V+1)}(this._location.path)}get storage(){return this._service}get parent(){const V=function qn(G){if(0===G.length)return null;const V=G.lastIndexOf("/");return-1===V?"":G.slice(0,V)}(this._location.path);if(null===V)return null;const ee=new Ke(this._location.bucket,V);return new Xt(this._service,ee)}_throwIfRoot(V){if(""===this._location.path)throw function be(G){return new Q("invalid-root-operation","The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)}}function vi(G,V){const ee=null==V?void 0:V.storageBucket;return null==ee?null:Ke.makeFromBucketSpec(ee,G)}class Ai{constructor(V,ee,le,Ie,Be){this.app=V,this._authProvider=ee,this._appCheckProvider=le,this._url=Ie,this._firebaseVersion=Be,this._bucket=null,this._host=Ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ie?Ke.makeFromBucketSpec(Ie,this._host):vi(this._host,this.app.options)}get host(){return this._host}set host(V){this._host=V,this._bucket=null!=this._url?Ke.makeFromBucketSpec(this._url,V):vi(V,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(V){br("time",0,Number.POSITIVE_INFINITY,V),this._maxUploadRetryTime=V}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(V){br("time",0,Number.POSITIVE_INFINITY,V),this._maxOperationRetryTime=V}_getAuthToken(){var V=this;return(0,E.Z)(function*(){if(V._overrideAuthToken)return V._overrideAuthToken;const ee=V._authProvider.getImmediate({optional:!0});if(ee){const le=yield ee.getToken();if(null!==le)return le.accessToken}return null})()}_getAppCheckToken(){var V=this;return(0,E.Z)(function*(){const ee=V._appCheckProvider.getImmediate({optional:!0});return ee?(yield ee.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(V=>V.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(V){return new Xt(this,V)}_makeRequest(V,ee,le,Ie){if(this._deleted)return new Ae(oe());{const Be=function rr(G,V,ee,le,Ie,Be){const _t=function Sn(G){const V=encodeURIComponent;let ee="?";for(const le in G)G.hasOwnProperty(le)&&(ee=ee+(V(le)+"=")+V(G[le])+"&");return ee=ee.slice(0,-1),ee}(G.urlParams),Kt=G.url+_t,S=Object.assign({},G.headers);return function mi(G,V){V&&(G["X-Firebase-GMPID"]=V)}(S,V),function nr(G,V){null!==V&&V.length>0&&(G.Authorization="Firebase "+V)}(S,ee),function zr(G,V){G["X-Firebase-Storage-Version"]="webjs/"+(null!=V?V:"AppManager")}(S,Be),function pn(G,V){null!==V&&(G["X-Firebase-AppCheck"]=V)}(S,le),new xn(Kt,G.method,S,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,Ie)}(V,this._appId,le,Ie,ee,this._firebaseVersion);return this._requests.add(Be),Be.getPromise().then(()=>this._requests.delete(Be),()=>this._requests.delete(Be)),Be}}makeRequestWithTokens(V,ee){var le=this;return(0,E.Z)(function*(){const[Ie,Be]=yield Promise.all([le._getAuthToken(),le._getAppCheckToken()]);return le._makeRequest(V,ee,Ie,Be).getPromise()})()}}const ls="@firebase/storage",Is="storage";function Dr(G,{instanceIdentifier:V}){const ee=G.getProvider("app").getImmediate(),le=G.getProvider("auth-internal"),Ie=G.getProvider("app-check-internal");return new Ai(ee,le,Ie,V,ve.Jn)}!function cs(){(0,ve.Xd)(new ge.wA(Is,Dr,"PUBLIC").setMultipleInstances(!0)),(0,ve.KN)(ls,"0.9.10",""),(0,ve.KN)(ls,"0.9.10","esm2017")}();var xi=Z(5525),Yi=Z(1223);let Es=(()=>{class G{constructor(ee){this.FireStore=ee,this.storage=function zs(G=(0,ve.Mq)(),V){G=(0,Te.m9)(G);const le=(0,ve.qX)(G,Is).getImmediate({identifier:V}),Ie=(0,Te.q4)("storage");if(Ie){const[Be,_t]=Ie.split(":");!function Ns(G,V,ee,le={}){!function ii(G,V,ee,le={}){G.host=`${V}:${ee}`,G._protocol="http";const{mockUserToken:Ie}=le;Ie&&(G._overrideAuthToken="string"==typeof Ie?Ie:(0,Te.Sg)(Ie,G.app.options.projectId))}(G,V,ee,le)}(le,Be,parseInt(_t,10))}return le}(),this.repartidorCollectionReference=(0,w.hJ)(this.FireStore,"repartidores"),this.pizzaCollectionReference=(0,w.hJ)(this.FireStore,"pizzas")}AltaRepartidores(ee){return(0,w.ET)(this.repartidorCollectionReference,ee)}ListaRepartidores(){return(0,w.BS)(this.repartidorCollectionReference,{idField:"id"})}ListaPizzas(){return(0,w.BS)(this.pizzaCollectionReference,{idField:"id"})}AltaPizza(ee){return(0,w.ET)(this.pizzaCollectionReference,ee)}ModificarPizza(ee,le){const Ie=(0,w.JU)(this.FireStore,`pizzas/${le}`);return(0,xi.r7)(Ie,ee)}BajaPizza(ee){const le=(0,w.JU)(this.FireStore,`pizzas/${ee}`);return(0,w.oe)(le)}}return G.\u0275fac=function(ee){return new(ee||G)(Yi.LFG(w.gg))},G.\u0275prov=Yi.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},5972:(Qt,ze,Z)=>{"use strict";var w=Z(9808),E=Z(1223);class ve extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends ve{static makeCurrent(){(0,w.HT)(new Te)}onAndCancel(re,W,ie){return re.addEventListener(W,ie,!1),()=>{re.removeEventListener(W,ie,!1)}}dispatchEvent(re,W){re.dispatchEvent(W)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,W){return(W=W||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,W){return"window"===W?window:"document"===W?re:"body"===W?re.body:null}getBaseHref(re){const W=function Ve(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==W?null:function ke(se){We=We||document.createElement("a"),We.setAttribute("href",se);const re=We.pathname;return"/"===re.charAt(0)?re:`/${re}`}(W)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,w.Mx)(document.cookie,re)}}let We,ge=null;const Ye=new E.OlP("TRANSITION_ID"),fe=[{provide:E.ip1,useFactory:function Q(se,re,W){return()=>{W.get(E.CZH).donePromise.then(()=>{const ie=(0,w.q)(),Oe=re.querySelectorAll(`style[ng-transition="${se}"]`);for(let ut=0;ut<Oe.length;ut++)ie.remove(Oe[ut])})}},deps:[Ye,w.K0,E.zs3],multi:!0}];class Ze{static init(){(0,E.VLi)(new Ze)}addToWindow(re){E.dqk.getAngularTestability=(ie,Oe=!0)=>{const ut=re.findTestabilityInTree(ie,Oe);if(null==ut)throw new Error("Could not find testability for element.");return ut},E.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(ie=>{const Oe=E.dqk.getAllAngularTestabilities();let ut=Oe.length,St=!1;const vn=function(Qn){St=St||Qn,ut--,0==ut&&ie(St)};Oe.forEach(function(Qn){Qn.whenStable(vn)})})}findTestabilityInTree(re,W,ie){if(null==W)return null;const Oe=re.getTestability(W);return null!=Oe?Oe:ie?(0,w.q)().isShadowRoot(W)?this.findTestabilityInTree(re,W.host,!0):this.findTestabilityInTree(re,W.parentElement,!0):null}}let Dt=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(W){return new(W||se)},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();const nt=new E.OlP("EventManagerPlugins");let pt=(()=>{class se{constructor(W,ie){this._zone=ie,this._eventNameToPlugin=new Map,W.forEach(Oe=>Oe.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,ie,Oe){return this._findPluginFor(ie).addEventListener(W,ie,Oe)}addGlobalEventListener(W,ie,Oe){return this._findPluginFor(ie).addGlobalEventListener(W,ie,Oe)}getZone(){return this._zone}_findPluginFor(W){const ie=this._eventNameToPlugin.get(W);if(ie)return ie;const Oe=this._plugins;for(let ut=0;ut<Oe.length;ut++){const St=Oe[ut];if(St.supports(W))return this._eventNameToPlugin.set(W,St),St}throw new Error(`No event manager plugin found for event ${W}`)}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(nt),E.LFG(E.R0b))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();class zt{constructor(re){this._doc=re}addGlobalEventListener(re,W,ie){const Oe=(0,w.q)().getGlobalEventTarget(this._doc,re);if(!Oe)throw new Error(`Unsupported event target ${Oe} for event ${W}`);return this.addEventListener(Oe,W,ie)}}let gt=(()=>{class se{constructor(){this._stylesSet=new Set}addStyles(W){const ie=new Set;W.forEach(Oe=>{this._stylesSet.has(Oe)||(this._stylesSet.add(Oe),ie.add(Oe))}),this.onStylesAdded(ie)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return se.\u0275fac=function(W){return new(W||se)},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})(),Ot=(()=>{class se extends gt{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,ie,Oe){W.forEach(ut=>{const St=this._doc.createElement("style");St.textContent=ut,Oe.push(ie.appendChild(St))})}addHost(W){const ie=[];this._addStylesToHost(this._stylesSet,W,ie),this._hostNodes.set(W,ie)}removeHost(W){const ie=this._hostNodes.get(W);ie&&ie.forEach(Et),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((ie,Oe)=>{this._addStylesToHost(W,Oe,ie)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach(Et))}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(w.K0))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();function Et(se){(0,w.q)().remove(se)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ne=/%COMP%/g;function be(se,re,W){for(let ie=0;ie<re.length;ie++){let Oe=re[ie];Array.isArray(Oe)?be(se,Oe,W):(Oe=Oe.replace(Ne,se),W.push(Oe))}return W}function Fe(se){return re=>{if("__ngUnwrap__"===re)return se;!1===se(re)&&(re.preventDefault(),re.returnValue=!1)}}let Ke=(()=>{class se{constructor(W,ie,Oe){this.eventManager=W,this.sharedStylesHost=ie,this.appId=Oe,this.rendererByCompId=new Map,this.defaultRenderer=new Ae(W)}createRenderer(W,ie){if(!W||!ie)return this.defaultRenderer;switch(ie.encapsulation){case E.ifc.Emulated:{let Oe=this.rendererByCompId.get(ie.id);return Oe||(Oe=new ur(this.eventManager,this.sharedStylesHost,ie,this.appId),this.rendererByCompId.set(ie.id,Oe)),Oe.applyToHost(W),Oe}case 1:case E.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,W,ie);default:if(!this.rendererByCompId.has(ie.id)){const Oe=be(ie.id,ie.styles,[]);this.sharedStylesHost.addStyles(Oe),this.rendererByCompId.set(ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(pt),E.LFG(Ot),E.LFG(E.AFp))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();class Ae{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,W){return W?document.createElementNS(Wt[W]||W,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,W){re.appendChild(W)}insertBefore(re,W,ie){re&&re.insertBefore(W,ie)}removeChild(re,W){re&&re.removeChild(W)}selectRootElement(re,W){let ie="string"==typeof re?document.querySelector(re):re;if(!ie)throw new Error(`The selector "${re}" did not match any elements`);return W||(ie.textContent=""),ie}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,W,ie,Oe){if(Oe){W=Oe+":"+W;const ut=Wt[Oe];ut?re.setAttributeNS(ut,W,ie):re.setAttribute(W,ie)}else re.setAttribute(W,ie)}removeAttribute(re,W,ie){if(ie){const Oe=Wt[ie];Oe?re.removeAttributeNS(Oe,W):re.removeAttribute(`${ie}:${W}`)}else re.removeAttribute(W)}addClass(re,W){re.classList.add(W)}removeClass(re,W){re.classList.remove(W)}setStyle(re,W,ie,Oe){Oe&(E.JOm.DashCase|E.JOm.Important)?re.style.setProperty(W,ie,Oe&E.JOm.Important?"important":""):re.style[W]=ie}removeStyle(re,W,ie){ie&E.JOm.DashCase?re.style.removeProperty(W):re.style[W]=""}setProperty(re,W,ie){re[W]=ie}setValue(re,W){re.nodeValue=W}listen(re,W,ie){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,W,Fe(ie)):this.eventManager.addEventListener(re,W,Fe(ie))}}class ur extends Ae{constructor(re,W,ie,Oe){super(re),this.component=ie;const ut=be(Oe+"-"+ie.id,ie.styles,[]);W.addStyles(ut),this.contentAttr=function Ce(se){return"_ngcontent-%COMP%".replace(Ne,se)}(Oe+"-"+ie.id),this.hostAttr=function oe(se){return"_nghost-%COMP%".replace(Ne,se)}(Oe+"-"+ie.id)}applyToHost(re){super.setAttribute(re,this.hostAttr,"")}createElement(re,W){const ie=super.createElement(re,W);return super.setAttribute(ie,this.contentAttr,""),ie}}class Vt extends Ae{constructor(re,W,ie,Oe){super(re),this.sharedStylesHost=W,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ut=be(Oe.id,Oe.styles,[]);for(let St=0;St<ut.length;St++){const vn=document.createElement("style");vn.textContent=ut[St],this.shadowRoot.appendChild(vn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(re,W){return super.appendChild(this.nodeOrShadowRoot(re),W)}insertBefore(re,W,ie){return super.insertBefore(this.nodeOrShadowRoot(re),W,ie)}removeChild(re,W){return super.removeChild(this.nodeOrShadowRoot(re),W)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}}let Pr=(()=>{class se extends zt{constructor(W){super(W)}supports(W){return!0}addEventListener(W,ie,Oe){return W.addEventListener(ie,Oe,!1),()=>this.removeEventListener(W,ie,Oe)}removeEventListener(W,ie,Oe){return W.removeEventListener(ie,Oe)}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(w.K0))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();const Hn=["alt","control","meta","shift"],pr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},br={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gr={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let Sn=(()=>{class se extends zt{constructor(W){super(W)}supports(W){return null!=se.parseEventName(W)}addEventListener(W,ie,Oe){const ut=se.parseEventName(ie),St=se.eventCallback(ut.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(W,ut.domEventName,St))}static parseEventName(W){const ie=W.toLowerCase().split("."),Oe=ie.shift();if(0===ie.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const ut=se._normalizeKey(ie.pop());let St="";if(Hn.forEach(Qn=>{const us=ie.indexOf(Qn);us>-1&&(ie.splice(us,1),St+=Qn+".")}),St+=ut,0!=ie.length||0===ut.length)return null;const vn={};return vn.domEventName=Oe,vn.fullKey=St,vn}static getEventFullKey(W){let ie="",Oe=function Nn(se){let re=se.key;if(null==re){if(re=se.keyIdentifier,null==re)return"Unidentified";re.startsWith("U+")&&(re=String.fromCharCode(parseInt(re.substring(2),16)),3===se.location&&br.hasOwnProperty(re)&&(re=br[re]))}return pr[re]||re}(W);return Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),Hn.forEach(ut=>{ut!=Oe&&gr[ut](W)&&(ie+=ut+".")}),ie+=Oe,ie}static eventCallback(W,ie,Oe){return ut=>{se.getEventFullKey(ut)===W&&Oe.runGuarded(()=>ie(ut))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(w.K0))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac}),se})();const mi=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:w.bD},{provide:E.g9A,useValue:function xn(){Te.makeCurrent(),Ze.init()},multi:!0},{provide:w.K0,useFactory:function nr(){return(0,E.RDi)(document),document},deps:[]}]),pn=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function en(){return new E.qLn},deps:[]},{provide:nt,useClass:Pr,multi:!0,deps:[w.K0,E.R0b,E.Lbi]},{provide:nt,useClass:Sn,multi:!0,deps:[w.K0]},{provide:Ke,useClass:Ke,deps:[pt,Ot,E.AFp]},{provide:E.FYo,useExisting:Ke},{provide:gt,useExisting:Ot},{provide:Ot,useClass:Ot,deps:[w.K0]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:pt,useClass:pt,deps:[nt,E.R0b]},{provide:w.JF,useClass:Dt,deps:[]}];let rr=(()=>{class se{constructor(W){if(W)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(W){return{ngModule:se,providers:[{provide:E.AFp,useValue:W.appId},{provide:Ye,useExisting:E.AFp},fe]}}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(se,12))},se.\u0275mod=E.oAB({type:se}),se.\u0275inj=E.cJS({providers:pn,imports:[w.ez,E.hGG]}),se})();"undefined"!=typeof window&&window;var Jt=Z(1022),Yn=Z(5830);let dr=(()=>{class se{constructor(W){this.api=W,this.datoGit="",this.cargarDatosGit()}ngOnInit(){}cargarDatosGit(){this.api.traerDatosGitHub().subscribe(W=>{this.datoGit=W})}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Yn.s))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-bienvenida"]],decls:22,vars:5,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],["width","300px","height","300px",2,"border-radius","3px","margin-bottom","5px",3,"src"],[2,"margin-top","10px","font-size","large"],[2,"text-decoration","none","color","black",3,"href"],[1,"row"],[1,"col-md-4"]],template:function(W,ie){1&W&&(E.TgZ(0,"main",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"h1",3),E._uU(4,"Bienvenido"),E.qZA(),E._UZ(5,"br"),E.TgZ(6,"h4"),E._uU(7),E.qZA(),E._UZ(8,"br"),E._UZ(9,"img",4),E.TgZ(10,"p",5),E._uU(11),E.qZA(),E._UZ(12,"br"),E.TgZ(13,"a",6),E._uU(14),E.qZA(),E.qZA(),E.qZA(),E.TgZ(15,"div",2),E.TgZ(16,"div",7),E._UZ(17,"div",8),E.TgZ(18,"div",8),E._UZ(19,"h2"),E.qZA(),E._UZ(20,"div",8),E.qZA(),E._UZ(21,"hr"),E.qZA(),E.qZA()),2&W&&(E.xp6(7),E.Oqu(ie.datoGit.name),E.xp6(2),E.s9C("src",ie.datoGit.avatar_url,E.LSH),E.xp6(2),E.Oqu(ie.datoGit.bio),E.xp6(2),E.s9C("href",ie.datoGit.html_url,E.LSH),E.xp6(1),E.Oqu(ie.datoGit.html_url))},styles:[""]}),se})();var Ut=Z(2382);class nn{constructor(re,W){this.usuario=re,this.clave=W}}let _n=(()=>{class se{constructor(){this.logeado=!1,this.administrador=!1,this.empleado={usuario:"empleado",clave:"empleado123"},this.admin={usuario:"admin",clave:"admin123"}}logearse(W){W.usuario==this.empleado.usuario&&W.clave==this.empleado.clave?this.logeado=!0:W.usuario==this.admin.usuario&&W.clave==this.admin.clave&&(this.logeado=!0,this.administrador=!0)}}return se.\u0275fac=function(W){return new(W||se)},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();function mr(se,re){1&se&&(E.TgZ(0,"small",18),E._uU(1,"El usuario es requerido"),E.qZA())}function yr(se,re){1&se&&(E.TgZ(0,"small",18),E._uU(1,"La clave es requerida"),E.qZA())}let ti=(()=>{class se{constructor(W,ie,Oe){this.fb=W,this.router=ie,this.user=Oe,this.empleado={usuario:"empleado",clave:"empleado123"},this.admin={usuario:"admin",clave:"admin123"},this.usuario="",this.clave=""}ngOnInit(){this.grupoControles=this.fb.group({usuario:["",Ut.kI.required],clave:["",Ut.kI.required]})}verificar(){var W,ie;let Oe=new nn(null===(W=this.grupoControles.get("usuario"))||void 0===W?void 0:W.value,null===(ie=this.grupoControles.get("clave"))||void 0===ie?void 0:ie.value);this.user.logearse(Oe),this.user.logeado&&this.router.navigateByUrl("repartidor/altaRepartidor")}empleadoLogin(){this.usuario=this.empleado.usuario,this.clave=this.empleado.clave}adminLogin(){this.usuario=this.admin.usuario,this.clave=this.admin.clave}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Ut.qu),E.Y36(Jt.F0),E.Y36(_n))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"container"],[1,"mt-5","row"],[1,"col-md-4","order-md-2","mb-4"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","formControlName","usuario","placeholder","Ingrese el usuario",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],["for","lastName"],["type","password","formControlName","clave","placeholder","Ingrese la clave",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-4"],[1,"text-right"],[1,"mb-5","mr-2","btn","btn-dark",3,"click"],[1,"mb-5","ml-2","btn","btn-dark",3,"click"],["type","submit",1,"mb-5","btn","btn-outline-dark","btn-lg","btn-block",3,"click"],[1,"invalid"]],template:function(W,ie){if(1&W&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E._UZ(2,"div",2),E.TgZ(3,"div",3),E.TgZ(4,"h4",4),E._uU(5,"Login"),E.qZA(),E.TgZ(6,"form",5),E.TgZ(7,"div",6),E.TgZ(8,"div",7),E.TgZ(9,"label",8),E._uU(10,"Usuario"),E.qZA(),E.TgZ(11,"input",9),E.NdJ("ngModelChange",function(ut){return ie.usuario=ut}),E.qZA(),E.YNc(12,mr,2,0,"small",10),E.qZA(),E.TgZ(13,"div",7),E.TgZ(14,"label",11),E._uU(15,"Clave"),E.qZA(),E.TgZ(16,"input",12),E.NdJ("ngModelChange",function(ut){return ie.clave=ut}),E.qZA(),E.YNc(17,yr,2,0,"small",10),E.qZA(),E.qZA(),E._UZ(18,"hr",13),E.TgZ(19,"div",14),E.TgZ(20,"button",15),E.NdJ("click",function(){return ie.empleadoLogin()}),E._uU(21,"Empleado"),E.qZA(),E.TgZ(22,"button",16),E.NdJ("click",function(){return ie.adminLogin()}),E._uU(23,"Admin"),E.qZA(),E.qZA(),E.TgZ(24,"button",17),E.NdJ("click",function(){return ie.verificar()}),E._uU(25,"Ingresar"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&W){let Oe,ut;E.xp6(6),E.Q6J("formGroup",ie.grupoControles),E.xp6(5),E.Q6J("ngModel",ie.usuario),E.xp6(1),E.Q6J("ngIf",(null==(Oe=ie.grupoControles.get("usuario"))||null==Oe.errors?null:Oe.errors.required)&&(null==(Oe=ie.grupoControles.get("usuario"))?null:Oe.touched)),E.xp6(4),E.Q6J("ngModel",ie.clave),E.xp6(1),E.Q6J("ngIf",(null==(ut=ie.grupoControles.get("clave"))||null==ut.errors?null:ut.errors.required)&&(null==(ut=ie.grupoControles.get("clave"))?null:ut.touched))}},directives:[Ut._Y,Ut.JL,Ut.sg,Ut.Fj,Ut.JJ,Ut.u,w.O5],styles:[""]}),se})();var Yr=Z(799);function $i(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El nombre es requerido"),E.qZA())}function Js(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"Los ingredientes son requeridos"),E.qZA())}function tr(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El precio es requerida"),E.qZA())}function sr(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El peso es requerida"),E.qZA())}function Vr(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El peso debe ser entre 500 y 1000 gms."),E.qZA())}let hr=(()=>{class se{constructor(W,ie){this.fs=W,this.fb=ie,this.nombre="",this.ingredientes="",this.precio=0,this.peso=0,this.agregado=""}ngOnInit(){this.grupoControles=this.fb.group({nombre:["",Ut.kI.required],ingredientes:["",[Ut.kI.required]],precio:["",[Ut.kI.required]],peso:["",[Ut.kI.required,Ut.kI.min(500),Ut.kI.max(1e3)]]})}cargarPizza(){var W,ie,Oe,ut;let St={nombre:null===(W=this.grupoControles.get("nombre"))||void 0===W?void 0:W.value,ingredientes:null===(ie=this.grupoControles.get("ingredientes"))||void 0===ie?void 0:ie.value,precio:parseInt(null===(Oe=this.grupoControles.get("precio"))||void 0===Oe?void 0:Oe.value),peso:parseInt(null===(ut=this.grupoControles.get("peso"))||void 0===ut?void 0:ut.value)};this.fs.AltaPizza(St).then(vn=>{this.agregado="Se agrego la pizza.",setTimeout(()=>{this.agregado="",this.grupoControles.reset()},3e3)}).catch(vn=>{this.agregado="No se pudo agregar la pizza",setTimeout(()=>{this.agregado=""},3e3)})}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Yr.C),E.Y36(Ut.qu))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-alta-pizza"]],decls:33,vars:8,consts:[[1,"container"],[1,"mt-5","row"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","formControlName","nombre","placeholder","Ingrese el nombre",1,"form-control"],["class","invalid",4,"ngIf"],["type","text","formControlName","ingredientes","placeholder","Ingrese los ingredientes",1,"form-control"],["type","text","formControlName","precio","placeholder","Ingrese el precio",1,"form-control"],["type","text","formControlName","peso","placeholder","Ingrese el peso",1,"form-control"],[1,"mb-4"],["type","submit",1,"mb-5","btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"success"],[1,"invalid"]],template:function(W,ie){if(1&W&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"h4",3),E._uU(4,"Salen Pizzas"),E.qZA(),E.TgZ(5,"form",4),E.NdJ("ngSubmit",function(){return ie.cargarPizza()}),E.TgZ(6,"div",5),E.TgZ(7,"div",6),E.TgZ(8,"label",7),E._uU(9,"Nombre"),E.qZA(),E._UZ(10,"input",8),E.YNc(11,$i,2,0,"small",9),E.qZA(),E.TgZ(12,"div",6),E.TgZ(13,"label",7),E._uU(14,"Ingredientes"),E.qZA(),E._UZ(15,"input",10),E.YNc(16,Js,2,0,"small",9),E.qZA(),E.TgZ(17,"div",6),E.TgZ(18,"label",7),E._uU(19,"Precio"),E.qZA(),E._UZ(20,"input",11),E.YNc(21,tr,2,0,"small",9),E.qZA(),E.TgZ(22,"div",6),E.TgZ(23,"label",7),E._uU(24,"Peso"),E.qZA(),E._UZ(25,"input",12),E.YNc(26,sr,2,0,"small",9),E.YNc(27,Vr,2,0,"small",9),E.qZA(),E.qZA(),E._UZ(28,"hr",13),E.TgZ(29,"button",14),E._uU(30,"Agregar pizza"),E.qZA(),E.TgZ(31,"small",15),E._uU(32),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&W){let Oe,ut,St,vn,Qn;E.xp6(5),E.Q6J("formGroup",ie.grupoControles),E.xp6(6),E.Q6J("ngIf",(null==(Oe=ie.grupoControles.get("nombre"))||null==Oe.errors?null:Oe.errors.required)&&(null==(Oe=ie.grupoControles.get("nombre"))?null:Oe.touched)),E.xp6(5),E.Q6J("ngIf",(null==(ut=ie.grupoControles.get("ingredientes"))||null==ut.errors?null:ut.errors.required)&&(null==(ut=ie.grupoControles.get("ingredientes"))?null:ut.touched)),E.xp6(5),E.Q6J("ngIf",(null==(St=ie.grupoControles.get("precio"))||null==St.errors?null:St.errors.required)&&(null==(St=ie.grupoControles.get("precio"))?null:St.touched)),E.xp6(5),E.Q6J("ngIf",(null==(vn=ie.grupoControles.get("peso"))||null==vn.errors?null:vn.errors.required)&&(null==(vn=ie.grupoControles.get("peso"))?null:vn.touched)),E.xp6(1),E.Q6J("ngIf",(null==(Qn=ie.grupoControles.get("peso"))||null==Qn.errors?null:Qn.errors.min)||(null==(Qn=ie.grupoControles.get("peso"))||null==Qn.errors?null:Qn.errors.max)),E.xp6(2),E.Q6J("disabled",ie.grupoControles.invalid),E.xp6(3),E.Oqu(ie.agregado)}},directives:[Ut._Y,Ut.JL,Ut.sg,Ut.Fj,Ut.JJ,Ut.u,w.O5],styles:[""]}),se})();function ni(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"Los ingredientes son requeridos"),E.qZA())}function Ki(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El precio es requerida"),E.qZA())}function _i(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El peso es requerida"),E.qZA())}function ri(se,re){1&se&&(E.TgZ(0,"small",16),E._uU(1,"El peso debe ser entre 500 y 1000 gms."),E.qZA())}let ci=(()=>{class se{constructor(W,ie){this.fb=W,this.fs=ie,this.id="",this.agregado="",this.grupoControles=this.fb.group({nombre:[],ingredientes:["",[Ut.kI.required]],precio:["",[Ut.kI.required]],peso:["",[Ut.kI.required,Ut.kI.min(500),Ut.kI.max(1e3)]]})}set pedidoAModificar(W){this.cargarDatos(W)}ngOnInit(){}modificarPizza(){var W,ie,Oe,ut;let St={nombre:null===(W=this.grupoControles.get("nombre"))||void 0===W?void 0:W.value,ingredientes:null===(ie=this.grupoControles.get("ingredientes"))||void 0===ie?void 0:ie.value,precio:null===(Oe=this.grupoControles.get("precio"))||void 0===Oe?void 0:Oe.value,peso:null===(ut=this.grupoControles.get("peso"))||void 0===ut?void 0:ut.value};console.log(St),this.fs.ModificarPizza(St,this.id).then(vn=>{this.agregado="Se modifico la pizza.",setTimeout(()=>{this.agregado="",this.grupoControles.reset()},3e3)}).catch(vn=>{this.agregado="No se pudo modificar la pizza",setTimeout(()=>{this.agregado=""},3e3)})}cargarDatos(W){var ie,Oe,ut,St;null===(ie=this.grupoControles.get("nombre"))||void 0===ie||ie.setValue(W.nombre),null===(Oe=this.grupoControles.get("ingredientes"))||void 0===Oe||Oe.setValue(W.ingredientes),null===(ut=this.grupoControles.get("precio"))||void 0===ut||ut.setValue(W.precio),null===(St=this.grupoControles.get("peso"))||void 0===St||St.setValue(W.peso),this.id=W.id}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Ut.qu),E.Y36(Yr.C))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-modificar-pizza"]],inputs:{pedidoAModificar:"pedidoAModificar"},decls:32,vars:7,consts:[[1,"container"],[1,"mt-5","row"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","formControlName","nombre","placeholder","Ingrese el nombre","readonly","",1,"form-control"],["type","text","formControlName","ingredientes","placeholder","Ingrese los ingredientes",1,"form-control"],["class","invalid",4,"ngIf"],["type","text","formControlName","precio","placeholder","Ingrese el precio",1,"form-control"],["type","text","formControlName","peso","placeholder","Ingrese el peso",1,"form-control"],[1,"mb-4"],["type","submit",1,"mb-5","btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"success"],[1,"invalid"]],template:function(W,ie){if(1&W&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"h4",3),E._uU(4,"Salen Pizzas"),E.qZA(),E.TgZ(5,"form",4),E.NdJ("ngSubmit",function(){return ie.modificarPizza()}),E.TgZ(6,"div",5),E.TgZ(7,"div",6),E.TgZ(8,"label",7),E._uU(9,"Nombre"),E.qZA(),E._UZ(10,"input",8),E.qZA(),E.TgZ(11,"div",6),E.TgZ(12,"label",7),E._uU(13,"Ingredientes"),E.qZA(),E._UZ(14,"input",9),E.YNc(15,ni,2,0,"small",10),E.qZA(),E.TgZ(16,"div",6),E.TgZ(17,"label",7),E._uU(18,"Precio"),E.qZA(),E._UZ(19,"input",11),E.YNc(20,Ki,2,0,"small",10),E.qZA(),E.TgZ(21,"div",6),E.TgZ(22,"label",7),E._uU(23,"Peso"),E.qZA(),E._UZ(24,"input",12),E.YNc(25,_i,2,0,"small",10),E.YNc(26,ri,2,0,"small",10),E.qZA(),E.qZA(),E._UZ(27,"hr",13),E.TgZ(28,"button",14),E._uU(29,"Modificar pizza"),E.qZA(),E.TgZ(30,"small",15),E._uU(31),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&W){let Oe,ut,St,vn;E.xp6(5),E.Q6J("formGroup",ie.grupoControles),E.xp6(10),E.Q6J("ngIf",(null==(Oe=ie.grupoControles.get("ingredientes"))||null==Oe.errors?null:Oe.errors.required)&&(null==(Oe=ie.grupoControles.get("ingredientes"))?null:Oe.touched)),E.xp6(5),E.Q6J("ngIf",(null==(ut=ie.grupoControles.get("precio"))||null==ut.errors?null:ut.errors.required)&&(null==(ut=ie.grupoControles.get("precio"))?null:ut.touched)),E.xp6(5),E.Q6J("ngIf",(null==(St=ie.grupoControles.get("peso"))||null==St.errors?null:St.errors.required)&&(null==(St=ie.grupoControles.get("peso"))?null:St.touched)),E.xp6(1),E.Q6J("ngIf",(null==(vn=ie.grupoControles.get("peso"))||null==vn.errors?null:vn.errors.min)||(null==(vn=ie.grupoControles.get("peso"))||null==vn.errors?null:vn.errors.max)),E.xp6(2),E.Q6J("disabled",ie.grupoControles.invalid),E.xp6(3),E.Oqu(ie.agregado)}},directives:[Ut._Y,Ut.JL,Ut.sg,Ut.Fj,Ut.JJ,Ut.u,w.O5],styles:[""]}),se})();function Rn(se,re){if(1&se){const W=E.EpF();E.TgZ(0,"div"),E.TgZ(1,"p"),E._uU(2,"Eliminar"),E.qZA(),E.TgZ(3,"button",1),E.NdJ("click",function(){E.CHM(W);const Oe=E.oxw();return Oe.eliminarPizza(Oe.pizza.id)}),E._uU(4,"Borrar"),E.qZA(),E.qZA()}}let _r=(()=>{class se{constructor(W,ie){this.fs=W,this.fb=ie,this.pizza="",this.grupoControles=this.fb.group({nombre:[],ingredientes:["",[Ut.kI.required]],precio:["",[Ut.kI.required]],peso:["",[Ut.kI.required,Ut.kI.min(500),Ut.kI.max(1e3)]]})}ngOnInit(){}eliminarPizza(W){this.fs.BajaPizza(this.pizza.id)}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Yr.C),E.Y36(Ut.qu))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-baja-pizza"]],inputs:{pizza:"pizza"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"btn","btn-dark",3,"click"]],template:function(W,ie){1&W&&E.YNc(0,Rn,5,0,"div",0),2&W&&E.Q6J("ngIf",""!=ie.pizza)},directives:[w.O5],styles:[""]}),se})();function vr(se,re){if(1&se){const W=E.EpF();E.TgZ(0,"tr"),E.TgZ(1,"td"),E._uU(2),E.qZA(),E.TgZ(3,"td"),E._uU(4),E.qZA(),E.TgZ(5,"td"),E._uU(6),E.qZA(),E.TgZ(7,"td"),E._uU(8),E.qZA(),E.TgZ(9,"td"),E.TgZ(10,"button",22),E.NdJ("click",function(){const ut=E.CHM(W).$implicit;return E.oxw().enviar(ut)}),E._uU(11,"Seleccionar"),E.qZA(),E.qZA(),E.qZA()}if(2&se){const W=re.$implicit;E.xp6(2),E.Oqu(null==W?null:W.nombre),E.xp6(2),E.Oqu(null==W?null:W.ingredientes),E.xp6(2),E.Oqu(null==W?null:W.precio),E.xp6(2),E.Oqu(null==W?null:W.peso)}}const Mr=[{path:"",pathMatch:"full",redirectTo:"bienvenido"},{path:"bienvenida",component:dr},{path:"login",component:ti},{path:"pizzas",component:(()=>{class se{constructor(W){this.fs=W,this.pizza="",this.pizzaEnviar="",this.agregado="",this.pizzas="",this.fs.ListaPizzas().subscribe(ie=>{this.pizzas=ie})}ngOnInit(){}enviar(W){this.pizzaEnviar=W}recibirPizza(W){this.pizza=W,this.fs.AltaPizza(this.pizza).then(()=>{this.agregado="Se agrego la pizza",setTimeout(()=>{this.agregado=""},3e3)})}}return se.\u0275fac=function(W){return new(W||se)(E.Y36(Yr.C))},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-pizzas"]],inputs:{pizza:"pizza"},decls:53,vars:3,consts:[[1,"d-flex","flex-column","flex-md-row","align-items-center","p-3","px-md-4","mb-3","bg-white","border-bottom","shadow-sm"],[1,"my-0","mr-md-auto","font-weight-normal"],[1,"my-2","my-md-0","mr-md-3"],["href","#",1,"p-2","text-dark"],["href","#",1,"btn","btn-outline-primary"],[1,"pricing-header","px-3","py-3","pt-md-5","pb-md-4","mx-auto","text-center"],[1,"display-4"],[1,"lead"],[1,"container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","shadow-sm"],[1,"card-header"],[1,"my-0","font-weight-normal"],[1,"card-body"],[3,"pedidoEvent"],[3,"pedidoAModificar"],[3,"pizza"],[1,"table-responsive"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"mt-2","btn","btn-outline-dark",3,"click"]],template:function(W,ie){1&W&&(E.TgZ(0,"div",0),E.TgZ(1,"h5",1),E._uU(2,"Nahuel Cisa"),E.qZA(),E.TgZ(3,"nav",2),E.TgZ(4,"a",3),E._uU(5,"Features"),E.qZA(),E.TgZ(6,"a",3),E._uU(7,"Enterprise"),E.qZA(),E.TgZ(8,"a",3),E._uU(9,"Support"),E.qZA(),E.TgZ(10,"a",3),E._uU(11,"Pricing"),E.qZA(),E.qZA(),E.TgZ(12,"a",4),E._uU(13,"Sign up"),E.qZA(),E.qZA(),E.TgZ(14,"div",5),E.TgZ(15,"h1",6),E._uU(16,"Pizzas"),E.qZA(),E.TgZ(17,"p",7),E._uU(18,"Quickly build an effective pricing table for your potential customers with this Bootstrap example. It\u2019s built with default Bootstrap components and utilities with little customization."),E.qZA(),E.qZA(),E.TgZ(19,"div",8),E.TgZ(20,"div",9),E.TgZ(21,"div",10),E.TgZ(22,"div",11),E.TgZ(23,"h4",12),E._uU(24,"Alta"),E.qZA(),E.qZA(),E.TgZ(25,"div",13),E.TgZ(26,"app-alta-pizza",14),E.NdJ("pedidoEvent",function(ut){return ie.recibirPizza(ut)}),E.qZA(),E.qZA(),E.qZA(),E.TgZ(27,"div",10),E.TgZ(28,"div",11),E.TgZ(29,"h4",12),E._uU(30,"Modificar"),E.qZA(),E.qZA(),E.TgZ(31,"div",13),E._UZ(32,"app-modificar-pizza",15),E.qZA(),E.qZA(),E.TgZ(33,"div",10),E.TgZ(34,"div",11),E.TgZ(35,"h4",12),E._uU(36,"Eliminar"),E.qZA(),E.qZA(),E.TgZ(37,"div",13),E._UZ(38,"app-baja-pizza",16),E.qZA(),E.qZA(),E.TgZ(39,"div",17),E.TgZ(40,"table",18),E.TgZ(41,"thead",19),E.TgZ(42,"tr"),E.TgZ(43,"th",20),E._uU(44,"Nombre"),E.qZA(),E.TgZ(45,"th",20),E._uU(46,"ingredientes"),E.qZA(),E.TgZ(47,"th",20),E._uU(48,"precio"),E.qZA(),E.TgZ(49,"th",20),E._uU(50,"peso"),E.qZA(),E.qZA(),E.qZA(),E.TgZ(51,"tbody"),E.YNc(52,vr,12,4,"tr",21),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&W&&(E.xp6(32),E.Q6J("pedidoAModificar",ie.pizzaEnviar),E.xp6(6),E.Q6J("pizza",ie.pizzaEnviar),E.xp6(14),E.Q6J("ngForOf",ie.pizzas))},directives:[hr,ci,_r,w.sg],styles:[""]}),se})(),canActivate:[(()=>{class se{constructor(W,ie){this.user=W,this.router=ie}canActivate(W,ie){return!!this.user.administrador}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(_n),E.LFG(Jt.F0))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()]},{path:"repartidor",loadChildren:()=>Z.e(206).then(Z.bind(Z,206)).then(se=>se.RepartidorModule),canActivate:[(()=>{class se{constructor(W,ie){this.user=W,this.router=ie}canActivate(W,ie){return!!this.user.logeado}}return se.\u0275fac=function(W){return new(W||se)(E.LFG(_n),E.LFG(Jt.F0))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()]},{path:"**",component:dr}];let Ln=(()=>{class se{}return se.\u0275fac=function(W){return new(W||se)},se.\u0275mod=E.oAB({type:se}),se.\u0275inj=E.cJS({imports:[[Jt.Bz.forRoot(Mr)],Jt.Bz]}),se})();const Er=function(){return["/bienvenida"]},Fr=function(){return["/login"]},Kn=function(){return["/repartidor/altaRepartidor"]},Ni=function(){return["/repartidor/repartidorDetalle"]},Rr=function(){return["/pizzas"]};let Xt=(()=>{class se{constructor(){this.title="primerParcialLaboIV"}}return se.\u0275fac=function(W){return new(W||se)},se.\u0275cmp=E.Xpm({type:se,selectors:[["app-root"]],decls:23,vars:10,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"routerLink"]],template:function(W,ie){1&W&&(E.TgZ(0,"nav",0),E.TgZ(1,"button",1),E._UZ(2,"span",2),E.qZA(),E.TgZ(3,"div",3),E.TgZ(4,"ul",4),E.TgZ(5,"li",5),E.TgZ(6,"a",6),E._uU(7,"Bienvenido"),E.qZA(),E.qZA(),E.TgZ(8,"li",7),E.TgZ(9,"a",6),E._uU(10,"Login"),E.qZA(),E.qZA(),E.TgZ(11,"li",7),E.TgZ(12,"a",8),E._uU(13,"Alta repartidor"),E.qZA(),E.qZA(),E.TgZ(14,"li",7),E.TgZ(15,"a",8),E._uU(16,"Repartidores"),E.qZA(),E.qZA(),E.TgZ(17,"li",7),E.TgZ(18,"a",8),E._uU(19,"Pizzas"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E._UZ(20,"br"),E._UZ(21,"br"),E._UZ(22,"router-outlet")),2&W&&(E.xp6(6),E.Q6J("routerLink",E.DdM(5,Er)),E.xp6(3),E.Q6J("routerLink",E.DdM(6,Fr)),E.xp6(3),E.Q6J("routerLink",E.DdM(7,Kn)),E.xp6(3),E.Q6J("routerLink",E.DdM(8,Ni)),E.xp6(3),E.Q6J("routerLink",E.DdM(9,Rr)))},directives:[Jt.yS,Jt.lC],styles:[""]}),se})();var Ci=Z(520),kr=Z(3692);const as_firebase={projectId:"primerparciallaboiv-e50f4",appId:"1:777640551394:web:d814e7ae1c7d7ec5768fbb",storageBucket:"primerparciallaboiv-e50f4.appspot.com",locationId:"us-central",apiKey:"AIzaSyCpSCNrbd4F3vit7ZVwkl_S7vpNIG-bdOk",authDomain:"primerparciallaboiv-e50f4.firebaseapp.com",messagingSenderId:"777640551394"};var di=Z(584);let Qr=(()=>{class se{}return se.\u0275fac=function(W){return new(W||se)},se.\u0275mod=E.oAB({type:se,bootstrap:[Xt]}),se.\u0275inj=E.cJS({providers:[],imports:[[rr,Ln,Ci.JF,Ut.u5,Ut.UX,(0,kr.hX)(()=>(0,kr.ZF)(as_firebase)),(0,di.Cm)(()=>(0,di.ad)())]]}),se})();(0,E.G48)(),mi().bootstrapModule(Qr).catch(se=>console.error(se))},5867:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Mq:()=>w.Mq,C6:()=>w.C6,ZF:()=>w.ZF,KN:()=>w.KN});var w=Z(9681);(0,w.KN)("firebase","9.11.0","app")},8306:(Qt,ze,Z)=>{"use strict";Z.d(ze,{y:()=>Q});var w=Z(2961),E=Z(727),ve=Z(8822),Te=Z(4671);var We=Z(2416),ke=Z(576),Ye=Z(2806);let Q=(()=>{class nt{constructor(zt){zt&&(this._subscribe=zt)}lift(zt){const gt=new nt;return gt.source=this,gt.operator=zt,gt}subscribe(zt,gt,Ot){const Et=function Dt(nt){return nt&&nt instanceof w.Lv||function Ze(nt){return nt&&(0,ke.m)(nt.next)&&(0,ke.m)(nt.error)&&(0,ke.m)(nt.complete)}(nt)&&(0,E.Nn)(nt)}(zt)?zt:new w.Hp(zt,gt,Ot);return(0,Ye.x)(()=>{const{operator:Wt,source:Ne}=this;Et.add(Wt?Wt.call(Et,Ne):Ne?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(zt){try{return this._subscribe(zt)}catch(gt){zt.error(gt)}}forEach(zt,gt){return new(gt=fe(gt))((Ot,Et)=>{let Wt;Wt=this.subscribe(Ne=>{try{zt(Ne)}catch(Rt){Et(Rt),null==Wt||Wt.unsubscribe()}},Et,Ot)})}_subscribe(zt){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(zt)}[ve.L](){return this}pipe(...zt){return function Ve(nt){return 0===nt.length?Te.y:1===nt.length?nt[0]:function(zt){return nt.reduce((gt,Ot)=>Ot(gt),zt)}}(zt)(this)}toPromise(zt){return new(zt=fe(zt))((gt,Ot)=>{let Et;this.subscribe(Wt=>Et=Wt,Wt=>Ot(Wt),()=>gt(Et))})}}return nt.create=pt=>new nt(pt),nt})();function fe(nt){var pt;return null!==(pt=null!=nt?nt:We.v.Promise)&&void 0!==pt?pt:Promise}},7579:(Qt,ze,Z)=>{"use strict";Z.d(ze,{x:()=>We});var w=Z(8306),E=Z(727);const Te=(0,Z(3888).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=Z(8737),Ve=Z(2806);let We=(()=>{class Ye extends w.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ze=new ke(this,this);return Ze.operator=fe,Ze}_throwIfClosed(){if(this.closed)throw new Te}next(fe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ze=this.observers.slice();for(const Dt of Ze)Dt.next(fe)}})}error(fe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ze}=this;for(;Ze.length;)Ze.shift().error(fe)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ze,isStopped:Dt,observers:nt}=this;return Ze||Dt?E.Lc:(nt.push(fe),new E.w0(()=>(0,ge.P)(nt,fe)))}_checkFinalizedStatuses(fe){const{hasError:Ze,thrownError:Dt,isStopped:nt}=this;Ze?fe.error(Dt):nt&&fe.complete()}asObservable(){const fe=new w.y;return fe.source=this,fe}}return Ye.create=(Q,fe)=>new ke(Q,fe),Ye})();class ke extends We{constructor(Q,fe){super(),this.destination=Q,this.source=fe}next(Q){var fe,Ze;null===(Ze=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ze||Ze.call(fe,Q)}error(Q){var fe,Ze;null===(Ze=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ze||Ze.call(fe,Q)}complete(){var Q,fe;null===(fe=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===fe||fe.call(Q)}_subscribe(Q){var fe,Ze;return null!==(Ze=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Q))&&void 0!==Ze?Ze:E.Lc}}},2961:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Hp:()=>Dt,Lv:()=>Ze});var w=Z(576),E=Z(727),ve=Z(2416),Te=Z(7849);function ge(){}const Ve=Ye("C",void 0,void 0);function Ye(Ot,Et,Wt){return{kind:Ot,value:Et,error:Wt}}var Q=Z(3410),fe=Z(2806);class Ze extends E.w0{constructor(Et){super(),this.isStopped=!1,Et?(this.destination=Et,(0,E.Nn)(Et)&&Et.add(this)):this.destination=gt}static create(Et,Wt,Ne){return new Dt(Et,Wt,Ne)}next(Et){this.isStopped?zt(function ke(Ot){return Ye("N",Ot,void 0)}(Et),this):this._next(Et)}error(Et){this.isStopped?zt(function We(Ot){return Ye("E",void 0,Ot)}(Et),this):(this.isStopped=!0,this._error(Et))}complete(){this.isStopped?zt(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Et){this.destination.next(Et)}_error(Et){try{this.destination.error(Et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Dt extends Ze{constructor(Et,Wt,Ne){let Rt;if(super(),(0,w.m)(Et))Rt=Et;else if(Et){let It;({next:Rt,error:Wt,complete:Ne}=Et),this&&ve.v.useDeprecatedNextContext?(It=Object.create(Et),It.unsubscribe=()=>this.unsubscribe()):It=Et,Rt=null==Rt?void 0:Rt.bind(It),Wt=null==Wt?void 0:Wt.bind(It),Ne=null==Ne?void 0:Ne.bind(It)}this.destination={next:Rt?nt(Rt):ge,error:nt(null!=Wt?Wt:pt),complete:Ne?nt(Ne):ge}}}function nt(Ot,Et){return(...Wt)=>{try{Ot(...Wt)}catch(Ne){ve.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Ne):(0,Te.h)(Ne)}}}function pt(Ot){throw Ot}function zt(Ot,Et){const{onStoppedNotification:Wt}=ve.v;Wt&&Q.z.setTimeout(()=>Wt(Ot,Et))}const gt={closed:!0,next:ge,error:pt,complete:ge}},727:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Lc:()=>Ve,w0:()=>ge,Nn:()=>We});var w=Z(576);const ve=(0,Z(3888).d)(Ye=>function(fe){Ye(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ze,Dt)=>`${Dt+1}) ${Ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Te=Z(8737);class ge{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const nt of fe)nt.remove(this);else fe.remove(this);const{initialTeardown:Ze}=this;if((0,w.m)(Ze))try{Ze()}catch(nt){Q=nt instanceof ve?nt.errors:[nt]}const{_teardowns:Dt}=this;if(Dt){this._teardowns=null;for(const nt of Dt)try{ke(nt)}catch(pt){Q=null!=Q?Q:[],pt instanceof ve?Q=[...Q,...pt.errors]:Q.push(pt)}}if(Q)throw new ve(Q)}}add(Q){var fe;if(Q&&Q!==this)if(this.closed)ke(Q);else{if(Q instanceof ge){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._teardowns=null!==(fe=this._teardowns)&&void 0!==fe?fe:[]).push(Q)}}_hasParent(Q){const{_parentage:fe}=this;return fe===Q||Array.isArray(fe)&&fe.includes(Q)}_addParent(Q){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(Q),fe):fe?[fe,Q]:Q}_removeParent(Q){const{_parentage:fe}=this;fe===Q?this._parentage=null:Array.isArray(fe)&&(0,Te.P)(fe,Q)}remove(Q){const{_teardowns:fe}=this;fe&&(0,Te.P)(fe,Q),Q instanceof ge&&Q._removeParent(this)}}ge.EMPTY=(()=>{const Ye=new ge;return Ye.closed=!0,Ye})();const Ve=ge.EMPTY;function We(Ye){return Ye instanceof ge||Ye&&"closed"in Ye&&(0,w.m)(Ye.remove)&&(0,w.m)(Ye.add)&&(0,w.m)(Ye.unsubscribe)}function ke(Ye){(0,w.m)(Ye)?Ye():Ye.unsubscribe()}},2416:(Qt,ze,Z)=>{"use strict";Z.d(ze,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qt,ze,Z)=>{"use strict";Z.d(ze,{E:()=>E});const E=new(Z(8306).y)(ge=>ge.complete())},8996:(Qt,ze,Z)=>{"use strict";Z.d(ze,{D:()=>Rt});var w=Z(8421),E=Z(5363),ve=Z(9468),Ve=Z(8306),ke=Z(2202),Ye=Z(576),Q=Z(9672);function Ze(It,it){if(!It)throw new Error("Iterable cannot be null");return new Ve.y(on=>{(0,Q.f)(on,it,()=>{const Ce=It[Symbol.asyncIterator]();(0,Q.f)(on,it,()=>{Ce.next().then(oe=>{oe.done?on.complete():on.next(oe.value)})},0,!0)})})}var Dt=Z(3670),nt=Z(8239),pt=Z(1144),zt=Z(6495),gt=Z(2206),Ot=Z(4532),Et=Z(3260);function Rt(It,it){return it?function Ne(It,it){if(null!=It){if((0,Dt.c)(It))return function Te(It,it){return(0,w.Xf)(It).pipe((0,ve.R)(it),(0,E.Q)(it))}(It,it);if((0,pt.z)(It))return function We(It,it){return new Ve.y(on=>{let Ce=0;return it.schedule(function(){Ce===It.length?on.complete():(on.next(It[Ce++]),on.closed||this.schedule())})})}(It,it);if((0,nt.t)(It))return function ge(It,it){return(0,w.Xf)(It).pipe((0,ve.R)(it),(0,E.Q)(it))}(It,it);if((0,gt.D)(It))return Ze(It,it);if((0,zt.T)(It))return function fe(It,it){return new Ve.y(on=>{let Ce;return(0,Q.f)(on,it,()=>{Ce=It[ke.h](),(0,Q.f)(on,it,()=>{let oe,be;try{({value:oe,done:be}=Ce.next())}catch(Fe){return void on.error(Fe)}be?on.complete():on.next(oe)},0,!0)}),()=>(0,Ye.m)(null==Ce?void 0:Ce.return)&&Ce.return()})}(It,it);if((0,Et.L)(It))return function Wt(It,it){return Ze((0,Et.Q)(It),it)}(It,it)}throw(0,Ot.z)(It)}(It,it):(0,w.Xf)(It)}},8421:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Xf:()=>Dt});var w=Z(5987),E=Z(1144),ve=Z(8239),Te=Z(8306),ge=Z(3670),Ve=Z(2206),We=Z(4532),ke=Z(6495),Ye=Z(3260),Q=Z(576),fe=Z(7849),Ze=Z(8822);function Dt(Ne){if(Ne instanceof Te.y)return Ne;if(null!=Ne){if((0,ge.c)(Ne))return function nt(Ne){return new Te.y(Rt=>{const It=Ne[Ze.L]();if((0,Q.m)(It.subscribe))return It.subscribe(Rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,E.z)(Ne))return function pt(Ne){return new Te.y(Rt=>{for(let It=0;It<Ne.length&&!Rt.closed;It++)Rt.next(Ne[It]);Rt.complete()})}(Ne);if((0,ve.t)(Ne))return function zt(Ne){return new Te.y(Rt=>{Ne.then(It=>{Rt.closed||(Rt.next(It),Rt.complete())},It=>Rt.error(It)).then(null,fe.h)})}(Ne);if((0,Ve.D)(Ne))return Ot(Ne);if((0,ke.T)(Ne))return function gt(Ne){return new Te.y(Rt=>{for(const It of Ne)if(Rt.next(It),Rt.closed)return;Rt.complete()})}(Ne);if((0,Ye.L)(Ne))return function Et(Ne){return Ot((0,Ye.Q)(Ne))}(Ne)}throw(0,We.z)(Ne)}function Ot(Ne){return new Te.y(Rt=>{(function Wt(Ne,Rt){var It,it,on,Ce;return(0,w.mG)(this,void 0,void 0,function*(){try{for(It=(0,w.KL)(Ne);!(it=yield It.next()).done;)if(Rt.next(it.value),Rt.closed)return}catch(oe){on={error:oe}}finally{try{it&&!it.done&&(Ce=It.return)&&(yield Ce.call(It))}finally{if(on)throw on.error}}Rt.complete()})})(Ne,Rt).catch(It=>Rt.error(It))})}},9646:(Qt,ze,Z)=>{"use strict";Z.d(ze,{of:()=>ve});var w=Z(7669),E=Z(8996);function ve(...Te){const ge=(0,w.yG)(Te);return(0,E.D)(Te,ge)}},5403:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Q:()=>E});var w=Z(2961);class E extends w.Lv{constructor(Te,ge,Ve,We,ke){super(Te),this.onFinalize=ke,this._next=ge?function(Ye){try{ge(Ye)}catch(Q){Te.error(Q)}}:super._next,this._error=We?function(Ye){try{We(Ye)}catch(Q){Te.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(Ye){Te.error(Ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}},4351:(Qt,ze,Z)=>{"use strict";Z.d(ze,{b:()=>ve});var w=Z(5577),E=Z(576);function ve(Te,ge){return(0,E.m)(ge)?(0,w.z)(Te,ge,1):(0,w.z)(Te,1)}},9300:(Qt,ze,Z)=>{"use strict";Z.d(ze,{h:()=>ve});var w=Z(4482),E=Z(5403);function ve(Te,ge){return(0,w.e)((Ve,We)=>{let ke=0;Ve.subscribe(new E.Q(We,Ye=>Te.call(ge,Ye,ke++)&&We.next(Ye)))})}},4004:(Qt,ze,Z)=>{"use strict";Z.d(ze,{U:()=>ve});var w=Z(4482),E=Z(5403);function ve(Te,ge){return(0,w.e)((Ve,We)=>{let ke=0;Ve.subscribe(new E.Q(We,Ye=>{We.next(Te.call(ge,Ye,ke++))}))})}},8189:(Qt,ze,Z)=>{"use strict";Z.d(ze,{J:()=>ve});var w=Z(5577),E=Z(4671);function ve(Te=1/0){return(0,w.z)(E.y,Te)}},5577:(Qt,ze,Z)=>{"use strict";Z.d(ze,{z:()=>ke});var w=Z(4004),E=Z(8421),ve=Z(4482),Te=Z(9672),ge=Z(5403),We=Z(576);function ke(Ye,Q,fe=1/0){return(0,We.m)(Q)?ke((Ze,Dt)=>(0,w.U)((nt,pt)=>Q(Ze,nt,Dt,pt))((0,E.Xf)(Ye(Ze,Dt))),fe):("number"==typeof Q&&(fe=Q),(0,ve.e)((Ze,Dt)=>function Ve(Ye,Q,fe,Ze,Dt,nt,pt,zt){const gt=[];let Ot=0,Et=0,Wt=!1;const Ne=()=>{Wt&&!gt.length&&!Ot&&Q.complete()},Rt=it=>Ot<Ze?It(it):gt.push(it),It=it=>{nt&&Q.next(it),Ot++;let on=!1;(0,E.Xf)(fe(it,Et++)).subscribe(new ge.Q(Q,Ce=>{null==Dt||Dt(Ce),nt?Rt(Ce):Q.next(Ce)},()=>{on=!0},void 0,()=>{if(on)try{for(Ot--;gt.length&&Ot<Ze;){const Ce=gt.shift();pt?(0,Te.f)(Q,pt,()=>It(Ce)):It(Ce)}Ne()}catch(Ce){Q.error(Ce)}}))};return Ye.subscribe(new ge.Q(Q,Rt,()=>{Wt=!0,Ne()})),()=>{null==zt||zt()}}(Ze,Dt,Ye,fe)))}},5363:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Q:()=>Te});var w=Z(9672),E=Z(4482),ve=Z(5403);function Te(ge,Ve=0){return(0,E.e)((We,ke)=>{We.subscribe(new ve.Q(ke,Ye=>(0,w.f)(ke,ge,()=>ke.next(Ye),Ve),()=>(0,w.f)(ke,ge,()=>ke.complete(),Ve),Ye=>(0,w.f)(ke,ge,()=>ke.error(Ye),Ve)))})}},9468:(Qt,ze,Z)=>{"use strict";Z.d(ze,{R:()=>E});var w=Z(4482);function E(ve,Te=0){return(0,w.e)((ge,Ve)=>{Ve.add(ve.schedule(()=>ge.subscribe(Ve),Te))})}},5698:(Qt,ze,Z)=>{"use strict";Z.d(ze,{q:()=>Te});var w=Z(515),E=Z(4482),ve=Z(5403);function Te(ge){return ge<=0?()=>w.E:(0,E.e)((Ve,We)=>{let ke=0;Ve.subscribe(new ve.Q(We,Ye=>{++ke<=ge&&(We.next(Ye),ge<=ke&&We.complete())}))})}},8505:(Qt,ze,Z)=>{"use strict";Z.d(ze,{b:()=>ge});var w=Z(576),E=Z(4482),ve=Z(5403),Te=Z(4671);function ge(Ve,We,ke){const Ye=(0,w.m)(Ve)||We||ke?{next:Ve,error:We,complete:ke}:Ve;return Ye?(0,E.e)((Q,fe)=>{var Ze;null===(Ze=Ye.subscribe)||void 0===Ze||Ze.call(Ye);let Dt=!0;Q.subscribe(new ve.Q(fe,nt=>{var pt;null===(pt=Ye.next)||void 0===pt||pt.call(Ye,nt),fe.next(nt)},()=>{var nt;Dt=!1,null===(nt=Ye.complete)||void 0===nt||nt.call(Ye),fe.complete()},nt=>{var pt;Dt=!1,null===(pt=Ye.error)||void 0===pt||pt.call(Ye,nt),fe.error(nt)},()=>{var nt,pt;Dt&&(null===(nt=Ye.unsubscribe)||void 0===nt||nt.call(Ye)),null===(pt=Ye.finalize)||void 0===pt||pt.call(Ye)}))}):Te.y}},3410:(Qt,ze,Z)=>{"use strict";Z.d(ze,{z:()=>w});const w={setTimeout(...E){const{delegate:ve}=w;return((null==ve?void 0:ve.setTimeout)||setTimeout)(...E)},clearTimeout(E){const{delegate:ve}=w;return((null==ve?void 0:ve.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(Qt,ze,Z)=>{"use strict";Z.d(ze,{h:()=>E});const E=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,ze,Z)=>{"use strict";Z.d(ze,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Qt,ze,Z)=>{"use strict";Z.d(ze,{_6:()=>Ve,jO:()=>Te,yG:()=>ge});var w=Z(576);function ve(We){return We[We.length-1]}function Te(We){return(0,w.m)(ve(We))?We.pop():void 0}function ge(We){return function E(We){return We&&(0,w.m)(We.schedule)}(ve(We))?We.pop():void 0}function Ve(We,ke){return"number"==typeof ve(We)?We.pop():ke}},4742:(Qt,ze,Z)=>{"use strict";Z.d(ze,{D:()=>ge});const{isArray:w}=Array,{getPrototypeOf:E,prototype:ve,keys:Te}=Object;function ge(We){if(1===We.length){const ke=We[0];if(w(ke))return{args:ke,keys:null};if(function Ve(We){return We&&"object"==typeof We&&E(We)===ve}(ke)){const Ye=Te(ke);return{args:Ye.map(Q=>ke[Q]),keys:Ye}}}return{args:We,keys:null}}},8737:(Qt,ze,Z)=>{"use strict";function w(E,ve){if(E){const Te=E.indexOf(ve);0<=Te&&E.splice(Te,1)}}Z.d(ze,{P:()=>w})},3888:(Qt,ze,Z)=>{"use strict";function w(E){const Te=E(ge=>{Error.call(ge),ge.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}Z.d(ze,{d:()=>w})},1810:(Qt,ze,Z)=>{"use strict";function w(E,ve){return E.reduce((Te,ge,Ve)=>(Te[ge]=ve[Ve],Te),{})}Z.d(ze,{n:()=>w})},2806:(Qt,ze,Z)=>{"use strict";Z.d(ze,{x:()=>ve,O:()=>Te});var w=Z(2416);let E=null;function ve(ge){if(w.v.useDeprecatedSynchronousErrorHandling){const Ve=!E;if(Ve&&(E={errorThrown:!1,error:null}),ge(),Ve){const{errorThrown:We,error:ke}=E;if(E=null,We)throw ke}}else ge()}function Te(ge){w.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=ge)}},9672:(Qt,ze,Z)=>{"use strict";function w(E,ve,Te,ge=0,Ve=!1){const We=ve.schedule(function(){Te(),Ve?E.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(E.add(We),!Ve)return We}Z.d(ze,{f:()=>w})},4671:(Qt,ze,Z)=>{"use strict";function w(E){return E}Z.d(ze,{y:()=>w})},1144:(Qt,ze,Z)=>{"use strict";Z.d(ze,{z:()=>w});const w=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Qt,ze,Z)=>{"use strict";Z.d(ze,{D:()=>E});var w=Z(576);function E(ve){return Symbol.asyncIterator&&(0,w.m)(null==ve?void 0:ve[Symbol.asyncIterator])}},576:(Qt,ze,Z)=>{"use strict";function w(E){return"function"==typeof E}Z.d(ze,{m:()=>w})},3670:(Qt,ze,Z)=>{"use strict";Z.d(ze,{c:()=>ve});var w=Z(8822),E=Z(576);function ve(Te){return(0,E.m)(Te[w.L])}},6495:(Qt,ze,Z)=>{"use strict";Z.d(ze,{T:()=>ve});var w=Z(2202),E=Z(576);function ve(Te){return(0,E.m)(null==Te?void 0:Te[w.h])}},8239:(Qt,ze,Z)=>{"use strict";Z.d(ze,{t:()=>E});var w=Z(576);function E(ve){return(0,w.m)(null==ve?void 0:ve.then)}},3260:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Q:()=>ve,L:()=>Te});var w=Z(5987),E=Z(576);function ve(ge){return(0,w.FC)(this,arguments,function*(){const We=ge.getReader();try{for(;;){const{value:ke,done:Ye}=yield(0,w.qq)(We.read());if(Ye)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ke)}}finally{We.releaseLock()}})}function Te(ge){return(0,E.m)(null==ge?void 0:ge.getReader)}},4482:(Qt,ze,Z)=>{"use strict";Z.d(ze,{A:()=>E,e:()=>ve});var w=Z(576);function E(Te){return(0,w.m)(null==Te?void 0:Te.lift)}function ve(Te){return ge=>{if(E(ge))return ge.lift(function(Ve){try{return Te(Ve,this)}catch(We){this.error(We)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Z:()=>Te});var w=Z(4004);const{isArray:E}=Array;function Te(ge){return(0,w.U)(Ve=>function ve(ge,Ve){return E(Ve)?ge(...Ve):ge(Ve)}(ge,Ve))}},7849:(Qt,ze,Z)=>{"use strict";Z.d(ze,{h:()=>ve});var w=Z(2416),E=Z(3410);function ve(Te){E.z.setTimeout(()=>{const{onUnhandledError:ge}=w.v;if(!ge)throw Te;ge(Te)})}},4532:(Qt,ze,Z)=>{"use strict";function w(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(ze,{z:()=>w})},9163:Qt=>{function ze(Z){var w=new Error("Cannot find module '"+Z+"'");throw w.code="MODULE_NOT_FOUND",w}ze.keys=()=>[],ze.resolve=ze,ze.id=9163,Qt.exports=ze},5987:(Qt,ze,Z)=>{"use strict";function ke(oe,be,Fe,He){return new(Fe||(Fe=Promise))(function(Ae,Yt){function tn(Pr){try{Vt(He.next(Pr))}catch(Hn){Yt(Hn)}}function ur(Pr){try{Vt(He.throw(Pr))}catch(Hn){Yt(Hn)}}function Vt(Pr){Pr.done?Ae(Pr.value):function Ke(Ae){return Ae instanceof Fe?Ae:new Fe(function(Yt){Yt(Ae)})}(Pr.value).then(tn,ur)}Vt((He=He.apply(oe,be||[])).next())})}function gt(oe){return this instanceof gt?(this.v=oe,this):new gt(oe)}function Ot(oe,be,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,He=Fe.apply(oe,be||[]),Ae=[];return Ke={},Yt("next"),Yt("throw"),Yt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Yt($n){He[$n]&&(Ke[$n]=function(pr){return new Promise(function(br,gr){Ae.push([$n,pr,br,gr])>1||tn($n,pr)})})}function tn($n,pr){try{!function ur($n){$n.value instanceof gt?Promise.resolve($n.value.v).then(Vt,Pr):Hn(Ae[0][2],$n)}(He[$n](pr))}catch(br){Hn(Ae[0][3],br)}}function Vt($n){tn("next",$n)}function Pr($n){tn("throw",$n)}function Hn($n,pr){$n(pr),Ae.shift(),Ae.length&&tn(Ae[0][0],Ae[0][1])}}function Wt(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,be=oe[Symbol.asyncIterator];return be?be.call(oe):(oe=function Ze(oe){var be="function"==typeof Symbol&&Symbol.iterator,Fe=be&&oe[be],He=0;if(Fe)return Fe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&He>=oe.length&&(oe=void 0),{value:oe&&oe[He++],done:!oe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Fe={},He("next"),He("throw"),He("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function He(Ae){Fe[Ae]=oe[Ae]&&function(Yt){return new Promise(function(tn,ur){!function Ke(Ae,Yt,tn,ur){Promise.resolve(ur).then(function(Vt){Ae({value:Vt,done:tn})},Yt)}(tn,ur,(Yt=oe[Ae](Yt)).done,Yt.value)})}}}Z.d(ze,{mG:()=>ke,qq:()=>gt,FC:()=>Ot,KL:()=>Wt})},9808:(Qt,ze,Z)=>{"use strict";Z.d(ze,{mr:()=>Et,ez:()=>Ns,K0:()=>We,Do:()=>Ne,V_:()=>Q,Ye:()=>Rt,S$:()=>gt,sg:()=>Fr,O5:()=>Rr,b0:()=>Wt,lw:()=>ke,EM:()=>ee,JF:()=>Kt,w_:()=>Ve,bD:()=>Ds,q:()=>ve,Mx:()=>Wn,HT:()=>ge});var w=Z(1223);let E=null;function ve(){return E}function ge(S){E||(E=S)}class Ve{}const We=new w.OlP("DocumentToken");let ke=(()=>{class S{historyGo(k){throw new Error("Not implemented")}}return S.\u0275fac=function(k){return new(k||S)},S.\u0275prov=w.Yz7({token:S,factory:function(){return function Ye(){return(0,w.LFG)(fe)}()},providedIn:"platform"}),S})();const Q=new w.OlP("Location Initialized");let fe=(()=>{class S extends ke{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ve().getBaseHref(this._doc)}onPopState(k){const z=ve().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",k,!1),()=>z.removeEventListener("popstate",k)}onHashChange(k){const z=ve().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",k,!1),()=>z.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,z,ue){Ze()?this._history.pushState(k,z,ue):this.location.hash=ue}replaceState(k,z,ue){Ze()?this._history.replaceState(k,z,ue):this.location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(We))},S.\u0275prov=w.Yz7({token:S,factory:function(){return function Dt(){return new fe((0,w.LFG)(We))}()},providedIn:"platform"}),S})();function Ze(){return!!window.history.pushState}function nt(S,j){if(0==S.length)return j;if(0==j.length)return S;let k=0;return S.endsWith("/")&&k++,j.startsWith("/")&&k++,2==k?S+j.substring(1):1==k?S+j:S+"/"+j}function pt(S){const j=S.match(/#|\?|$/),k=j&&j.index||S.length;return S.slice(0,k-("/"===S[k-1]?1:0))+S.slice(k)}function zt(S){return S&&"?"!==S[0]?"?"+S:S}let gt=(()=>{class S{historyGo(k){throw new Error("Not implemented")}}return S.\u0275fac=function(k){return new(k||S)},S.\u0275prov=w.Yz7({token:S,factory:function(){return function Ot(S){const j=(0,w.LFG)(We).location;return new Wt((0,w.LFG)(ke),j&&j.origin||"")}()},providedIn:"root"}),S})();const Et=new w.OlP("appBaseHref");let Wt=(()=>{class S extends gt{constructor(k,z){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==z&&(z=this._platformLocation.getBaseHrefFromDOM()),null==z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return nt(this._baseHref,k)}path(k=!1){const z=this._platformLocation.pathname+zt(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&k?`${z}${ue}`:z}pushState(k,z,ue,Se){const Xe=this.prepareExternalUrl(ue+zt(Se));this._platformLocation.pushState(k,z,Xe)}replaceState(k,z,ue,Se){const Xe=this.prepareExternalUrl(ue+zt(Se));this._platformLocation.replaceState(k,z,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var z,ue;null===(ue=(z=this._platformLocation).historyGo)||void 0===ue||ue.call(z,k)}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(ke),w.LFG(Et,8))},S.\u0275prov=w.Yz7({token:S,factory:S.\u0275fac}),S})(),Ne=(()=>{class S extends gt{constructor(k,z){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(k){const z=nt(this._baseHref,k);return z.length>0?"#"+z:z}pushState(k,z,ue,Se){let Xe=this.prepareExternalUrl(ue+zt(Se));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.pushState(k,z,Xe)}replaceState(k,z,ue,Se){let Xe=this.prepareExternalUrl(ue+zt(Se));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.replaceState(k,z,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var z,ue;null===(ue=(z=this._platformLocation).historyGo)||void 0===ue||ue.call(z,k)}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(ke),w.LFG(Et,8))},S.\u0275prov=w.Yz7({token:S,factory:S.\u0275fac}),S})(),Rt=(()=>{class S{constructor(k,z){this._subject=new w.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const ue=this._platformStrategy.getBaseHref();this._platformLocation=z,this._baseHref=pt(on(ue)),this._platformStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,z=""){return this.path()==this.normalize(k+zt(z))}normalize(k){return S.stripTrailingSlash(function it(S,j){return S&&j.startsWith(S)?j.substring(S.length):j}(this._baseHref,on(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,z="",ue=null){this._platformStrategy.pushState(ue,"",k,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+zt(z)),ue)}replaceState(k,z="",ue=null){this._platformStrategy.replaceState(ue,"",k,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+zt(z)),ue)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var z,ue;null===(ue=(z=this._platformStrategy).historyGo)||void 0===ue||ue.call(z,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)}))}_notifyUrlChangeListeners(k="",z){this._urlChangeListeners.forEach(ue=>ue(k,z))}subscribe(k,z,ue){return this._subject.subscribe({next:k,error:z,complete:ue})}}return S.normalizeQueryParams=zt,S.joinWithSlash=nt,S.stripTrailingSlash=pt,S.\u0275fac=function(k){return new(k||S)(w.LFG(gt),w.LFG(ke))},S.\u0275prov=w.Yz7({token:S,factory:function(){return function It(){return new Rt((0,w.LFG)(gt),(0,w.LFG)(ke))}()},providedIn:"root"}),S})();function on(S){return S.replace(/\/index.html$/,"")}var be=(()=>((be=be||{})[be.Zero=0]="Zero",be[be.One=1]="One",be[be.Two=2]="Two",be[be.Few=3]="Few",be[be.Many=4]="Many",be[be.Other=5]="Other",be))();const pn=w.kL8;class _r{}let dt=(()=>{class S extends _r{constructor(k){super(),this.locale=k}getPluralCategory(k,z){switch(pn(z||this.locale)(k)){case be.Zero:return"zero";case be.One:return"one";case be.Two:return"two";case be.Few:return"few";case be.Many:return"many";default:return"other"}}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(w.soG))},S.\u0275prov=w.Yz7({token:S,factory:S.\u0275fac}),S})();function Wn(S,j){j=encodeURIComponent(j);for(const k of S.split(";")){const z=k.indexOf("="),[ue,Se]=-1==z?[k,""]:[k.slice(0,z),k.slice(z+1)];if(ue.trim()===j)return decodeURIComponent(Se)}return null}class Er{constructor(j,k,z,ue){this.$implicit=j,this.ngForOf=k,this.index=z,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class S{constructor(k,z,ue){this._viewContainer=k,this._template=z,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const z=this._viewContainer;k.forEachOperation((ue,Se,Xe)=>{if(null==ue.previousIndex)z.createEmbeddedView(this._template,new Er(ue.item,this._ngForOf,-1,-1),null===Xe?void 0:Xe);else if(null==Xe)z.remove(null===Se?void 0:Se);else if(null!==Se){const At=z.get(Se);z.move(At,Xe),Kn(At,ue)}});for(let ue=0,Se=z.length;ue<Se;ue++){const At=z.get(ue).context;At.index=ue,At.count=Se,At.ngForOf=this._ngForOf}k.forEachIdentityChange(ue=>{Kn(z.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(k,z){return!0}}return S.\u0275fac=function(k){return new(k||S)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},S.\u0275dir=w.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),S})();function Kn(S,j){S.context.$implicit=j.item}let Rr=(()=>{class S{constructor(k,z){this._viewContainer=k,this._context=new Xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Ci("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Ci("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,z){return!0}}return S.\u0275fac=function(k){return new(k||S)(w.Y36(w.s_b),w.Y36(w.Rgc))},S.\u0275dir=w.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),S})();class Xt{constructor(){this.$implicit=null,this.ngIf=null}}function Ci(S,j){if(j&&!j.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,w.AaK)(j)}'.`)}let Ns=(()=>{class S{}return S.\u0275fac=function(k){return new(k||S)},S.\u0275mod=w.oAB({type:S}),S.\u0275inj=w.cJS({providers:[{provide:_r,useClass:dt}]}),S})();const Ds="browser";let ee=(()=>{class S{}return S.\u0275prov=(0,w.Yz7)({token:S,providedIn:"root",factory:()=>new le((0,w.LFG)(We),window)}),S})();class le{constructor(j,k){this.document=j,this.window=k,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const k=function Be(S,j){const k=S.getElementById(j)||S.getElementsByName(j)[0];if(k)return k;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const z=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let ue=z.currentNode;for(;ue;){const Se=ue.shadowRoot;if(Se){const Xe=Se.getElementById(j)||Se.querySelector(`[name="${j}"]`);if(Xe)return Xe}ue=z.nextNode()}}return null}(this.document,j);k&&(this.scrollToElement(k),this.attemptFocus(k))}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=j)}}scrollToElement(j){const k=j.getBoundingClientRect(),z=k.left+this.window.pageXOffset,ue=k.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(z-Se[0],ue-Se[1])}attemptFocus(j){return j.focus(),this.document.activeElement===j}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Ie(this.window.history)||Ie(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function Ie(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Kt{}},520:(Qt,ze,Z)=>{"use strict";Z.d(ze,{eN:()=>Ae,JF:()=>tt});var w=Z(9808),E=Z(1223),ve=Z(9646),Te=Z(8306),ge=Z(4351),Ve=Z(9300),We=Z(4004);class ke{}class Ye{}class Q{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?this.lazyInit="string"==typeof pe?()=>{this.headers=new Map,pe.split("\n").forEach(ye=>{const st=ye.indexOf(":");if(st>0){const Re=ye.slice(0,st),Ct=Re.toLowerCase(),wt=ye.slice(st+1).trim();this.maybeSetNormalizedName(Re,Ct),this.headers.has(Ct)?this.headers.get(Ct).push(wt):this.headers.set(Ct,[wt])}})}:()=>{this.headers=new Map,Object.keys(pe).forEach(ye=>{let st=pe[ye];const Re=ye.toLowerCase();"string"==typeof st&&(st=[st]),st.length>0&&(this.headers.set(Re,st),this.maybeSetNormalizedName(ye,Re))})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const ye=this.headers.get(pe.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,ye){return this.clone({name:pe,value:ye,op:"a"})}set(pe,ye){return this.clone({name:pe,value:ye,op:"s"})}delete(pe,ye){return this.clone({name:pe,value:ye,op:"d"})}maybeSetNormalizedName(pe,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,pe)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(ye=>{this.headers.set(ye,pe.headers.get(ye)),this.normalizedNames.set(ye,pe.normalizedNames.get(ye))})}clone(pe){const ye=new Q;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),ye}applyUpdate(pe){const ye=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let st=pe.value;if("string"==typeof st&&(st=[st]),0===st.length)return;this.maybeSetNormalizedName(pe.name,ye);const Re=("a"===pe.op?this.headers.get(ye):void 0)||[];Re.push(...st),this.headers.set(ye,Re);break;case"d":const Ct=pe.value;if(Ct){let wt=this.headers.get(ye);if(!wt)return;wt=wt.filter(Qe=>-1===Ct.indexOf(Qe)),0===wt.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,wt)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>pe(this.normalizedNames.get(ye),this.headers.get(ye)))}}class fe{encodeKey(pe){return pt(pe)}encodeValue(pe){return pt(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const Dt=/%(\d[a-f0-9])/gi,nt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function pt(qe){return encodeURIComponent(qe).replace(Dt,(pe,ye)=>{var st;return null!==(st=nt[ye])&&void 0!==st?st:pe})}function zt(qe){return`${qe}`}class gt{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new fe,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ze(qe,pe){const ye=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(Re=>{const Ct=Re.indexOf("="),[wt,Qe]=-1==Ct?[pe.decodeKey(Re),""]:[pe.decodeKey(Re.slice(0,Ct)),pe.decodeValue(Re.slice(Ct+1))],sn=ye.get(wt)||[];sn.push(Qe),ye.set(wt,sn)}),ye}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(ye=>{const st=pe.fromObject[ye];this.map.set(ye,Array.isArray(st)?st:[st])})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const ye=this.map.get(pe);return ye?ye[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,ye){return this.clone({param:pe,value:ye,op:"a"})}appendAll(pe){const ye=[];return Object.keys(pe).forEach(st=>{const Re=pe[st];Array.isArray(Re)?Re.forEach(Ct=>{ye.push({param:st,value:Ct,op:"a"})}):ye.push({param:st,value:Re,op:"a"})}),this.clone(ye)}set(pe,ye){return this.clone({param:pe,value:ye,op:"s"})}delete(pe,ye){return this.clone({param:pe,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const ye=this.encoder.encodeKey(pe);return this.map.get(pe).map(st=>ye+"="+this.encoder.encodeValue(st)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const ye=new gt({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(pe),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const ye=("a"===pe.op?this.map.get(pe.param):void 0)||[];ye.push(zt(pe.value)),this.map.set(pe.param,ye);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let st=this.map.get(pe.param)||[];const Re=st.indexOf(zt(pe.value));-1!==Re&&st.splice(Re,1),st.length>0?this.map.set(pe.param,st):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class Et{constructor(){this.map=new Map}set(pe,ye){return this.map.set(pe,ye),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function Ne(qe){return"undefined"!=typeof ArrayBuffer&&qe instanceof ArrayBuffer}function Rt(qe){return"undefined"!=typeof Blob&&qe instanceof Blob}function It(qe){return"undefined"!=typeof FormData&&qe instanceof FormData}class on{constructor(pe,ye,st,Re){let Ct;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function Wt(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Re?(this.body=void 0!==st?st:null,Ct=Re):Ct=st,Ct&&(this.reportProgress=!!Ct.reportProgress,this.withCredentials=!!Ct.withCredentials,Ct.responseType&&(this.responseType=Ct.responseType),Ct.headers&&(this.headers=Ct.headers),Ct.context&&(this.context=Ct.context),Ct.params&&(this.params=Ct.params)),this.headers||(this.headers=new Q),this.context||(this.context=new Et),this.params){const wt=this.params.toString();if(0===wt.length)this.urlWithParams=ye;else{const Qe=ye.indexOf("?");this.urlWithParams=ye+(-1===Qe?"?":Qe<ye.length-1?"&":"")+wt}}else this.params=new gt,this.urlWithParams=ye}serializeBody(){return null===this.body?null:Ne(this.body)||Rt(this.body)||It(this.body)||function it(qe){return"undefined"!=typeof URLSearchParams&&qe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:Rt(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){var ye;const st=pe.method||this.method,Re=pe.url||this.url,Ct=pe.responseType||this.responseType,wt=void 0!==pe.body?pe.body:this.body,Qe=void 0!==pe.withCredentials?pe.withCredentials:this.withCredentials,sn=void 0!==pe.reportProgress?pe.reportProgress:this.reportProgress;let Mn=pe.headers||this.headers,qn=pe.params||this.params;const ir=null!==(ye=pe.context)&&void 0!==ye?ye:this.context;return void 0!==pe.setHeaders&&(Mn=Object.keys(pe.setHeaders).reduce((Ir,Pn)=>Ir.set(Pn,pe.setHeaders[Pn]),Mn)),pe.setParams&&(qn=Object.keys(pe.setParams).reduce((Ir,Pn)=>Ir.set(Pn,pe.setParams[Pn]),qn)),new on(st,Re,wt,{params:qn,headers:Mn,context:ir,reportProgress:sn,responseType:Ct,withCredentials:Qe})}}var Ce=(()=>((Ce=Ce||{})[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce))();class oe{constructor(pe,ye=200,st="OK"){this.headers=pe.headers||new Q,this.status=void 0!==pe.status?pe.status:ye,this.statusText=pe.statusText||st,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}class be extends oe{constructor(pe={}){super(pe),this.type=Ce.ResponseHeader}clone(pe={}){return new be({headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class Fe extends oe{constructor(pe={}){super(pe),this.type=Ce.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new Fe({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class He extends oe{constructor(pe){super(pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pe.url||"(unknown url)"}`:`Http failure response for ${pe.url||"(unknown url)"}: ${pe.status} ${pe.statusText}`,this.error=pe.error||null}}function Ke(qe,pe){return{body:pe,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials}}let Ae=(()=>{class qe{constructor(ye){this.handler=ye}request(ye,st,Re={}){let Ct;if(ye instanceof on)Ct=ye;else{let sn,Mn;sn=Re.headers instanceof Q?Re.headers:new Q(Re.headers),Re.params&&(Mn=Re.params instanceof gt?Re.params:new gt({fromObject:Re.params})),Ct=new on(ye,st,void 0!==Re.body?Re.body:null,{headers:sn,context:Re.context,params:Mn,reportProgress:Re.reportProgress,responseType:Re.responseType||"json",withCredentials:Re.withCredentials})}const wt=(0,ve.of)(Ct).pipe((0,ge.b)(sn=>this.handler.handle(sn)));if(ye instanceof on||"events"===Re.observe)return wt;const Qe=wt.pipe((0,Ve.h)(sn=>sn instanceof Fe));switch(Re.observe||"body"){case"body":switch(Ct.responseType){case"arraybuffer":return Qe.pipe((0,We.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sn.body}));case"blob":return Qe.pipe((0,We.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof Blob))throw new Error("Response is not a Blob.");return sn.body}));case"text":return Qe.pipe((0,We.U)(sn=>{if(null!==sn.body&&"string"!=typeof sn.body)throw new Error("Response is not a string.");return sn.body}));default:return Qe.pipe((0,We.U)(sn=>sn.body))}case"response":return Qe;default:throw new Error(`Unreachable: unhandled observe type ${Re.observe}}`)}}delete(ye,st={}){return this.request("DELETE",ye,st)}get(ye,st={}){return this.request("GET",ye,st)}head(ye,st={}){return this.request("HEAD",ye,st)}jsonp(ye,st){return this.request("JSONP",ye,{params:(new gt).append(st,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,st={}){return this.request("OPTIONS",ye,st)}patch(ye,st,Re={}){return this.request("PATCH",ye,Ke(Re,st))}post(ye,st,Re={}){return this.request("POST",ye,Ke(Re,st))}put(ye,st,Re={}){return this.request("PUT",ye,Ke(Re,st))}}return qe.\u0275fac=function(ye){return new(ye||qe)(E.LFG(ke))},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Yt{constructor(pe,ye){this.next=pe,this.interceptor=ye}handle(pe){return this.interceptor.intercept(pe,this.next)}}const tn=new E.OlP("HTTP_INTERCEPTORS");let ur=(()=>{class qe{intercept(ye,st){return st.handle(ye)}}return qe.\u0275fac=function(ye){return new(ye||qe)},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const Sn=/^\)\]\}',?\n/;let xn=(()=>{class qe{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(st=>{const Re=this.xhrFactory.build();if(Re.open(ye.method,ye.urlWithParams),ye.withCredentials&&(Re.withCredentials=!0),ye.headers.forEach((Pn,bt)=>Re.setRequestHeader(Pn,bt.join(","))),ye.headers.has("Accept")||Re.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Pn=ye.detectContentTypeHeader();null!==Pn&&Re.setRequestHeader("Content-Type",Pn)}if(ye.responseType){const Pn=ye.responseType.toLowerCase();Re.responseType="json"!==Pn?Pn:"text"}const Ct=ye.serializeBody();let wt=null;const Qe=()=>{if(null!==wt)return wt;const Pn=1223===Re.status?204:Re.status,bt=Re.statusText||"OK",mn=new Q(Re.getAllResponseHeaders()),yn=function Nn(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(Re)||ye.url;return wt=new be({headers:mn,status:Pn,statusText:bt,url:yn}),wt},sn=()=>{let{headers:Pn,status:bt,statusText:mn,url:yn}=Qe(),er=null;204!==bt&&(er=void 0===Re.response?Re.responseText:Re.response),0===bt&&(bt=er?200:0);let kt=bt>=200&&bt<300;if("json"===ye.responseType&&"string"==typeof er){const je=er;er=er.replace(Sn,"");try{er=""!==er?JSON.parse(er):null}catch(vt){er=je,kt&&(kt=!1,er={error:vt,text:er})}}kt?(st.next(new Fe({body:er,headers:Pn,status:bt,statusText:mn,url:yn||void 0})),st.complete()):st.error(new He({error:er,headers:Pn,status:bt,statusText:mn,url:yn||void 0}))},Mn=Pn=>{const{url:bt}=Qe(),mn=new He({error:Pn,status:Re.status||0,statusText:Re.statusText||"Unknown Error",url:bt||void 0});st.error(mn)};let qn=!1;const ir=Pn=>{qn||(st.next(Qe()),qn=!0);let bt={type:Ce.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(bt.total=Pn.total),"text"===ye.responseType&&!!Re.responseText&&(bt.partialText=Re.responseText),st.next(bt)},Ir=Pn=>{let bt={type:Ce.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(bt.total=Pn.total),st.next(bt)};return Re.addEventListener("load",sn),Re.addEventListener("error",Mn),Re.addEventListener("timeout",Mn),Re.addEventListener("abort",Mn),ye.reportProgress&&(Re.addEventListener("progress",ir),null!==Ct&&Re.upload&&Re.upload.addEventListener("progress",Ir)),Re.send(Ct),st.next({type:Ce.Sent}),()=>{Re.removeEventListener("error",Mn),Re.removeEventListener("abort",Mn),Re.removeEventListener("load",sn),Re.removeEventListener("timeout",Mn),ye.reportProgress&&(Re.removeEventListener("progress",ir),null!==Ct&&Re.upload&&Re.upload.removeEventListener("progress",Ir)),Re.readyState!==Re.DONE&&Re.abort()}})}}return qe.\u0275fac=function(ye){return new(ye||qe)(E.LFG(w.JF))},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const en=new E.OlP("XSRF_COOKIE_NAME"),nr=new E.OlP("XSRF_HEADER_NAME");class zr{}let mi=(()=>{class qe{constructor(ye,st,Re){this.doc=ye,this.platform=st,this.cookieName=Re,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,w.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return qe.\u0275fac=function(ye){return new(ye||qe)(E.LFG(w.K0),E.LFG(E.Lbi),E.LFG(en))},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),pn=(()=>{class qe{constructor(ye,st){this.tokenService=ye,this.headerName=st}intercept(ye,st){const Re=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||Re.startsWith("http://")||Re.startsWith("https://"))return st.handle(ye);const Ct=this.tokenService.getToken();return null!==Ct&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,Ct)})),st.handle(ye)}}return qe.\u0275fac=function(ye){return new(ye||qe)(E.LFG(zr),E.LFG(nr))},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),rr=(()=>{class qe{constructor(ye,st){this.backend=ye,this.injector=st,this.chain=null}handle(ye){if(null===this.chain){const st=this.injector.get(tn,[]);this.chain=st.reduceRight((Re,Ct)=>new Yt(Re,Ct),this.backend)}return this.chain.handle(ye)}}return qe.\u0275fac=function(ye){return new(ye||qe)(E.LFG(Ye),E.LFG(E.zs3))},qe.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Wr=(()=>{class qe{static disable(){return{ngModule:qe,providers:[{provide:pn,useClass:ur}]}}static withOptions(ye={}){return{ngModule:qe,providers:[ye.cookieName?{provide:en,useValue:ye.cookieName}:[],ye.headerName?{provide:nr,useValue:ye.headerName}:[]]}}}return qe.\u0275fac=function(ye){return new(ye||qe)},qe.\u0275mod=E.oAB({type:qe}),qe.\u0275inj=E.cJS({providers:[pn,{provide:tn,useExisting:pn,multi:!0},{provide:zr,useClass:mi},{provide:en,useValue:"XSRF-TOKEN"},{provide:nr,useValue:"X-XSRF-TOKEN"}]}),qe})(),tt=(()=>{class qe{}return qe.\u0275fac=function(ye){return new(ye||qe)},qe.\u0275mod=E.oAB({type:qe}),qe.\u0275inj=E.cJS({providers:[Ae,{provide:ke,useClass:rr},xn,{provide:Ye,useExisting:xn}],imports:[[Wr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),qe})()},1223:(Qt,ze,Z)=>{"use strict";Z.d(ze,{deG:()=>ws,tb:()=>k0,AFp:()=>x0,ip1:()=>m_,CZH:()=>ip,hGG:()=>fI,z2F:()=>Lg,sBO:()=>Gb,Sil:()=>__,_Vd:()=>Mg,EJc:()=>N0,SBq:()=>Rg,qLn:()=>Mc,vpe:()=>Tl,tBr:()=>Lt,XFs:()=>Re,OlP:()=>Xr,zs3:()=>Qs,ZZ4:()=>Ym,aQg:()=>Qm,soG:()=>Km,YKP:()=>zv,h0i:()=>tp,PXZ:()=>Fb,R0b:()=>Ua,FiY:()=>ln,Lbi:()=>R0,g9A:()=>M0,Qsj:()=>gw,FYo:()=>Bv,JOm:()=>Aa,tp0:()=>bn,Rgc:()=>Pg,dDg:()=>L0,q4F:()=>$v,GfV:()=>jv,s_b:()=>Hm,ifc:()=>bt,eFA:()=>B0,G48:()=>$b,Gpc:()=>Wt,_c5:()=>oI,VLi:()=>Ob,c2e:()=>O0,zSh:()=>f,wAp:()=>On,vHH:()=>it,cg1:()=>Wy,kL8:()=>cv,dqk:()=>je,sIi:()=>hc,CqO:()=>Sm,QGY:()=>gg,F4k:()=>Am,RDi:()=>k,AaK:()=>gt,qOj:()=>Mf,TTD:()=>xi,_Bn:()=>Lv,xp6:()=>qh,uIk:()=>fc,ekj:()=>Dl,Suo:()=>u0,Xpm:()=>dr,lG2:()=>$i,Yz7:()=>pn,cJS:()=>yi,oAB:()=>yr,Yjl:()=>Js,Y36:()=>Vf,_UZ:()=>lh,qZA:()=>jf,TgZ:()=>Bf,EpF:()=>Gf,n5z:()=>Li,LFG:()=>ns,$8M:()=>qu,$Z:()=>Uf,NdJ:()=>Hf,CRH:()=>l0,oxw:()=>qf,Q6J:()=>uh,s9C:()=>sd,DdM:()=>Zv,iGM:()=>a0,CHM:()=>ua,LSH:()=>rl,YNc:()=>Of,_uU:()=>Pm,Oqu:()=>Fm,hij:()=>Dg});var w=Z(8189),E=Z(8421),ve=Z(515),Te=Z(7669),ge=Z(8996),We=Z(7579),ke=Z(727),Ye=Z(8306),Q=Z(5698),fe=Z(2961),Ze=Z(4482);function nt(n,r,...s){return!0===r?(n(),null):!1===r?null:r(...s).pipe((0,Q.q)(1)).subscribe(()=>n())}function pt(n){for(let r in n)if(n[r]===pt)return r;throw Error("Could not find renamed property on target object.")}function zt(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ot(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Et=pt({__forward_ref__:pt});function Wt(n){return n.__forward_ref__=Wt,n.toString=function(){return gt(this())},n}function Ne(n){return Rt(n)?n():n}function Rt(n){return"function"==typeof n&&n.hasOwnProperty(Et)&&n.__forward_ref__===Wt}class it extends Error{constructor(r,s){super(function on(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}function Ke(n,r){const s=r?` in ${r}`:"";throw new it(-201,`No provider for ${oe(n)} found${s}`)}function xn(n,r){null==n&&function en(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function pn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yi(n){return{providers:n.providers||[],imports:n.imports||[]}}function xr(n){return Wr(n,qe)||Wr(n,ye)}function Wr(n,r){return n.hasOwnProperty(r)?n[r]:null}function $r(n){return n&&(n.hasOwnProperty(pe)||n.hasOwnProperty(st))?n[pe]:null}const qe=pt({\u0275prov:pt}),pe=pt({\u0275inj:pt}),ye=pt({ngInjectableDef:pt}),st=pt({ngInjectorDef:pt});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Ct;function Qe(n){const r=Ct;return Ct=n,r}function sn(n,r,s){const a=xr(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Re.Optional?null:void 0!==r?r:void Ke(gt(n),"Injector")}function qn(n){return{toString:n}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),bt=(()=>{return(n=bt||(bt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",bt;var n})();const mn="undefined"!=typeof globalThis&&globalThis,yn="undefined"!=typeof window&&window,er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=mn||"undefined"!=typeof global&&global||yn||er,$t={},te=[],ae=pt({\u0275cmp:pt}),_e=pt({\u0275dir:pt}),Je=pt({\u0275pipe:pt}),xe=pt({\u0275mod:pt}),xt=pt({\u0275fac:pt}),Jt=pt({__NG_ELEMENT_ID__:pt});let Yn=0;function dr(n){return qn(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||bt.Emulated,id:"c",styles:n.styles||te,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,h=n.features,m=n.pipes;return a.id+=Yn++,a.inputs=Yr(n.inputs,s),a.outputs=Yr(n.outputs),h&&h.forEach(b=>b(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(nn):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(_n):null,a})}function nn(n){return tr(n)||function sr(n){return n[_e]||null}(n)}function _n(n){return function Vr(n){return n[Je]||null}(n)}const mr={};function yr(n){return qn(()=>{const r={type:n.type,bootstrap:n.bootstrap||te,declarations:n.declarations||te,imports:n.imports||te,exports:n.exports||te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(mr[n.id]=n.type),r})}function Yr(n,r){if(null==n)return $t;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const $i=dr;function Js(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function tr(n){return n[ae]||null}function hr(n,r){const s=n[xe]||null;if(!s&&!0===r)throw new Error(`Type ${gt(n)} does not have '\u0275mod' property.`);return s}const W=19;function St(n){return Array.isArray(n)&&"object"==typeof n[1]}function vn(n){return Array.isArray(n)&&!0===n[1]}function Qn(n){return 0!=(8&n.flags)}function us(n){return 2==(2&n.flags)}function Gs(n){return 1==(1&n.flags)}function Kr(n){return null!==n.template}function Hs(n){return 0!=(512&n[2])}function Dr(n,r){return n.hasOwnProperty(xt)?n[xt]:null}class cs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function xi(){return Yi}function Yi(n){return n.type.prototype.ngOnChanges&&(n.setInput=G),Es}function Es(){const n=ee(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===$t)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function G(n,r,s,a){const c=ee(n)||function le(n,r){return n[V]=r}(n,{previous:$t,current:null}),h=c.current||(c.current={}),m=c.previous,b=this.declaredInputs[s],T=m[b];h[b]=new cs(T&&T.currentValue,r,m===$t),n[a]=r}xi.ngInherit=!0;const V="__ngSimpleChanges__";function ee(n){return n[V]||null}let j;function k(n){j=n}function Se(n){return!!n.listen}const Xe={createRenderer:(n,r)=>function z(){return void 0!==j?j:"undefined"!=typeof document?document:void 0}()};function Mt(n){for(;Array.isArray(n);)n=n[0];return n}function un(n,r){return Mt(r[n])}function dn(n,r){return Mt(r[n.index])}function zn(n,r){return n.data[r]}function or(n,r){const s=r[n];return St(s)?s:s[0]}function Jn(n){return 4==(4&n[2])}function Qi(n){return 128==(128&n[2])}function R(n,r){return null==r?null:n[r]}function C(n){n[18]=0}function K(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const De={lFrame:qo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ts(){return De.bindingsEnabled}function ot(){return De.lFrame.lView}function Un(){return De.lFrame.tView}function ua(n){return De.lFrame.contextLView=n,n[8]}function qr(){let n=io();for(;null!==n&&64===n.type;)n=n.parent;return n}function io(){return De.lFrame.currentTNode}function As(n,r){const s=De.lFrame;s.currentTNode=n,s.isParent=r}function so(){return De.lFrame.isParent}function oo(){return De.isInCheckNoChangesMode}function ao(n){De.isInCheckNoChangesMode=n}function Ls(){return De.lFrame.bindingIndex++}function la(n,r){const s=De.lFrame;s.bindingIndex=s.bindingRootIndex=n,qs(r)}function qs(n){De.lFrame.currentDirectiveIndex=n}function zo(){return De.lFrame.currentQueryIndex}function ca(n){De.lFrame.currentQueryIndex=n}function uo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function $u(n,r,s){if(s&Re.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&Re.Host||(c=uo(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=De.lFrame=mu();return a.currentTNode=r,a.lView=n,!0}function lo(n){const r=mu(),s=n[1];De.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function mu(){const n=De.lFrame,r=null===n?null:n.child;return null===r?qo(n):r}function qo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function yu(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Cl=yu;function da(){const n=yu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ri(){return De.lFrame.selectedIndex}function Or(n){De.lFrame.selectedIndex=n}function Cr(){const n=De.lFrame;return zn(n.tView,n.selectedIndex)}function Wo(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:T,ngAfterViewChecked:L,ngOnDestroy:H}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),b&&((n.contentHooks||(n.contentHooks=[])).push(s,b),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,b)),T&&(n.viewHooks||(n.viewHooks=[])).push(-s,T),L&&((n.viewHooks||(n.viewHooks=[])).push(s,L),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,L)),null!=H&&(n.destroyHooks||(n.destroyHooks=[])).push(s,H)}}function Gt(n,r,s){Nt(n,r,3,s)}function hn(n,r,s,a){(3&n[2])===s&&Nt(n,r,s,a)}function Xs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Nt(n,r,s,a){const h=null!=a?a:-1,m=r.length-1;let b=0;for(let T=void 0!==a?65535&n[18]:0;T<m;T++)if("number"==typeof r[T+1]){if(b=r[T],null!=a&&b>=a)break}else r[T]<0&&(n[18]+=65536),(b<h||-1==h)&&($e(n,s,r,T),n[18]=(4294901760&n[18])+T+2),T++}function $e(n,r,s,a){const c=s[a]<0,h=s[a+1],b=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(b)}finally{}}}else try{h.call(b)}finally{}}class Ur{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Hu(n,r,s){const a=Se(n);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const m=s[c++],b=s[c++],T=s[c++];a?n.setAttribute(r,b,T,m):r.setAttributeNS(m,b,T)}else{const m=h,b=s[++c];za(m)?a&&n.setProperty(r,m,b):a?n.setAttribute(r,m,b):r.setAttribute(m,b),c++}}return c}function Ha(n){return 3===n||4===n||6===n}function za(n){return 64===n.charCodeAt(0)}function En(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||To(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function To(n,r,s,a,c){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===r){m=-1;break}if(b>r){m=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function ga(n){return-1!==n}function Lr(n){return 32767&n}function Ss(n,r){let s=function wn(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Tn=!0;function Ko(n){const r=Tn;return Tn=n,r}let zu=0;function v(n,r){const s=x(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,_(a.data,n),_(r,null),_(a.blueprint,null));const c=F(n,r),h=n.injectorIndex;if(ga(c)){const m=Lr(c),b=Ss(c,r),T=b[1].data;for(let L=0;L<8;L++)r[h+L]=b[m+L]|T[m+L]}return r[h+8]=c,h}function _(n,r){n.push(0,0,0,0,0,0,0,0,r)}function x(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function F(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){const h=c[1],m=h.type;if(a=2===m?h.declTNode:1===m?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function q(n,r,s){!function D(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Jt)&&(a=s[Jt]),null==a&&(a=s[Jt]=zu++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function ce(n,r,s){if(s&Re.Optional)return n;Ke(r,"NodeInjector")}function Ge(n,r,s,a){if(s&Re.Optional&&void 0===a&&(a=null),0==(s&(Re.Self|Re.Host))){const c=n[9],h=Qe(void 0);try{return c?c.get(r,a,s&Re.Optional):sn(r,a,s&Re.Optional)}finally{Qe(h)}}return ce(a,r,s)}function Bt(n,r,s,a=Re.Default,c){if(null!==n){const h=function Ei(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Jt)?n[Jt]:void 0;return"number"==typeof r?r>=0?255&r:qt:r}(s);if("function"==typeof h){if(!$u(r,n,a))return a&Re.Host?ce(c,s,a):Ge(r,s,a,c);try{const m=h(a);if(null!=m||a&Re.Optional)return m;Ke(s)}finally{Cl()}}else if("number"==typeof h){let m=null,b=x(n,r),T=-1,L=a&Re.Host?r[16][6]:null;for((-1===b||a&Re.SkipSelf)&&(T=-1===b?F(n,r):r[b+8],-1!==T&&hs(a,!1)?(m=r[1],b=Lr(T),r=Ss(T,r)):b=-1);-1!==b;){const H=r[1];if(fr(h,b,H.data)){const J=wr(b,r,s,m,a,L);if(J!==Fn)return J}T=r[b+8],-1!==T&&hs(a,r[1].data[b+8]===L)&&fr(h,b,r)?(m=H,b=Lr(T),r=Ss(T,r)):b=-1}}}return Ge(r,s,a,c)}const Fn={};function qt(){return new ki(qr(),ot())}function wr(n,r,s,a,c,h){const m=r[1],b=m.data[n+8],H=we(b,m,s,null==a?us(b)&&Tn:a!=m&&0!=(3&b.type),c&Re.Host&&h===b);return null!==H?Ji(r,m,H,b):Fn}function we(n,r,s,a,c){const h=n.providerIndexes,m=r.data,b=1048575&h,T=n.directiveStart,H=h>>20,me=c?b+H:n.directiveEnd;for(let Me=a?b:b+H;Me<me;Me++){const et=m[Me];if(Me<T&&s===et||Me>=T&&et.type===s)return Me}if(c){const Me=m[T];if(Me&&Kr(Me)&&Me.type===s)return T}return null}function Ji(n,r,s,a){let c=n[s];const h=r.data;if(function Gu(n){return n instanceof Ur}(c)){const m=c;m.resolving&&function be(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new it(-200,`Circular dependency in DI detected for ${n}${s}`)}(oe(h[s]));const b=Ko(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?Qe(m.injectImpl):null;$u(n,a,Re.Default);try{c=n[s]=m.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Jr(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const m=Yi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==T&&Qe(T),Ko(b),m.resolving=!1,Cl()}}return c}function fr(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function hs(n,r){return!(n&Re.Self||n&Re.Host&&r)}class ki{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Bt(this._tNode,this._lView,r,a,s)}}function Li(n){return qn(()=>{const r=n.prototype.constructor,s=r[xt]||Oi(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[xt]||Oi(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Oi(n){return Rt(n)?()=>{const r=Oi(Ne(n));return r&&r()}:Dr(n)}function qu(n){return function ne(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Ha(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(qr(),n)}const ya="__parameters__";function Xi(n,r,s){return qn(()=>{const a=function Eu(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return b.annotation=m,b;function b(T,L,H){const J=T.hasOwnProperty(ya)?T[ya]:Object.defineProperty(T,ya,{value:[]})[ya];for(;J.length<=H;)J.push(null);return(J[H]=J[H]||[]).push(m),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Xr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=pn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ws=new Xr("AnalyzeForEntryComponents");function ts(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),ts(a,r)):r!==n&&r.push(a)}return r}function qi(n,r){n.forEach(s=>Array.isArray(s)?qi(s,r):r(s))}function Ka(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Yo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function xs(n,r,s){let a=fo(n,r);return a>=0?n[1|a]=s:(a=~a,function Jo(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function ho(n,r){const s=fo(n,r);if(s>=0)return n[1|s]}function fo(n,r){return function Za(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),m=n[h<<s];if(r===m)return h<<s;m>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const Mo={},bi="__NG_DI_FLAG__",Zu="ngTempTokenPath",vh=/\n/gm,Ro="__source",Eh=pt({provide:String,useValue:pt});let ko;function Iu(n){const r=ko;return ko=n,r}function Xa(n,r=Re.Default){if(void 0===ko)throw new it(203,"");return null===ko?sn(n,void 0,r):ko.get(n,r&Re.Optional?null:void 0,r)}function ns(n,r=Re.Default){return(function wt(){return Ct}()||Xa)(Ne(n),r)}function $(n){const r=[];for(let s=0;s<n.length;s++){const a=Ne(n[s]);if(Array.isArray(a)){if(0===a.length)throw new it(900,"");let c,h=Re.Default;for(let m=0;m<a.length;m++){const b=a[m],T=Ee(b);"number"==typeof T?-1===T?c=b.token:h|=T:c=b}r.push(ns(c,h))}else r.push(ns(a))}return r}function X(n,r){return n[bi]=r,n.prototype[bi]=r,n}function Ee(n){return n[bi]}const Lt=X(Xi("Inject",n=>({token:n})),-1),ln=X(Xi("Optional"),8),bn=X(Xi("SkipSelf"),4);class Du{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ia(n){return n instanceof Du?n.changingThisBreaksApplicationSecurity:n}const Dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Da=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function rl(n){const r=function Ul(){const n=ot();return n&&n[12]}();return r?r.sanitize(fi.URL,n)||"":function Ju(n,r){const s=function Xu(n){return n instanceof Du&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Ia(n):function Fl(n){return(n=String(n)).match(Dh)||n.match(Da)?n:"unsafe:"+n}(Ce(n))}const xh="__ngContext__";function is(n,r){n[xh]=r}function Ac(n){const r=function to(n){return n[xh]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Cd(n){return n.ngOriginalError}function yp(n,...r){n.error(...r)}class Mc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function $g(n){return n&&n.ngErrorLogger||yp}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Cd(r);for(;s&&Cd(s);)s=Cd(s);return s||null}}const na=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function Ca(n){return n instanceof Function?n():n}var Aa=(()=>((Aa=Aa||{})[Aa.Important=1]="Important",Aa[Aa.DashCase=2]="DashCase",Aa))();function Fh(n,r){return undefined(n,r)}function Rc(n){const r=n[3];return vn(r)?r[3]:r}function Lh(n){return Ap(n[13])}function Sd(n){return Ap(n[4])}function Ap(n){for(;null!==n&&!vn(n);)n=n[4];return n}function Au(n,r,s,a,c){if(null!=a){let h,m=!1;vn(a)?h=a:St(a)&&(m=!0,a=a[0]);const b=Mt(a);0===n&&null!==s?null==c?zl(r,s,b):ra(r,s,b,c||null,!0):1===n&&null!==s?ra(r,s,b,c||null,!0):2===n?function Ma(n,r,s){const a=ql(n,r);a&&function Gh(n,r,s,a){Se(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,b,m):3===n&&r.destroyNode(b),null!=h&&function ou(n,r,s,a,c){const h=s[7];h!==Mt(s)&&Au(r,n,a,h,c);for(let b=10;b<s.length;b++){const T=s[b];ul(T[1],T,n,r,a,h)}}(r,n,h,s,c)}}function nu(n,r,s){return Se(n)?n.createElement(r,s):null===s?n.createElement(r):n.createElementNS(s,r)}function Hl(n,r){const s=n[9],a=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,K(c,-1)),s.splice(a,1)}function Sa(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&Hl(c,a),r>0&&(n[s-1][4]=a[4]);const h=Yo(n,10+r);!function Gl(n,r){ul(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=h[W];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function iu(n,r){if(!(256&r[2])){const s=r[11];Se(s)&&s.destroyNode&&ul(n,r,s,3,null,null),function Uh(n){let r=n[13];if(!r)return Di(n[1],n);for(;r;){let s=null;if(St(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)St(r)&&Di(r[1],r),r=r[3];null===r&&(r=n),St(r)&&Di(r[1],r),s=r&&r[4]}r=s}}(r)}}function Di(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Rd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Ur)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const b=c[h[m]],T=h[m+1];try{T.call(b)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function su(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+1],b="function"==typeof m?m(r):Mt(r[m]),T=a[c=s[h+2]],L=s[h+3];"boolean"==typeof L?b.removeEventListener(s[h],T,L):L>=0?a[c=L]():a[c=-L].unsubscribe(),h+=2}else{const m=a[c=s[h+1]];s[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&Se(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&vn(r[3])){s!==r[3]&&Hl(s,r);const a=r[W];null!==a&&a.detachView(n)}}}function il(n,r,s){return function Su(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===bt.None||c===bt.Emulated)return null}return dn(a,s)}(n,r.parent,s)}function ra(n,r,s,a,c){Se(n)?n.insertBefore(r,s,a,c):r.insertBefore(s,a,c)}function zl(n,r,s){Se(n)?n.appendChild(r,s):r.appendChild(s)}function $h(n,r,s,a,c){null!==a?ra(n,r,s,a,c):zl(n,r,s)}function ql(n,r){return Se(n)?n.parentNode(r):r.parentNode}let kd=function yo(n,r,s){return 40&n.type?dn(n,s):null};function Oc(n,r,s,a){const c=il(n,a,r),h=r[11],b=function sl(n,r,s){return kd(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)$h(h,c,s[T],b,!1);else $h(h,c,s,b,!1)}function Nc(n,r){if(null!==r){const s=r.type;if(3&s)return dn(r,n);if(4&s)return xa(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Nc(n,a);{const c=n[r.index];return vn(c)?xa(-1,c):Mt(c)}}if(32&s)return Fh(r,n)()||Mt(n[r.index]);{const a=ol(n,r);return null!==a?Array.isArray(a)?a[0]:Nc(Rc(n[16]),a):Nc(n,r.next)}}return null}function ol(n,r){return null!==r?n[16][6].projection[r.projection]:null}function xa(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Nc(a,c)}return r[7]}function al(n,r,s,a,c,h,m){for(;null!=s;){const b=a[s.index],T=s.type;if(m&&0===r&&(b&&is(Mt(b),a),s.flags|=4),64!=(64&s.flags))if(8&T)al(n,r,s.child,a,c,h,!1),Au(r,n,c,b,h);else if(32&T){const L=Fh(s,a);let H;for(;H=L();)Au(r,n,c,H,h);Au(r,n,c,b,h)}else 16&T?Wl(n,r,a,s,c,h):Au(r,n,c,b,h);s=m?s.projectionNext:s.next}}function ul(n,r,s,a,c,h){al(s,a,n.firstChild,r,c,h,!1)}function Wl(n,r,s,a,c,h){const m=s[16],T=m[6].projection[a.projection];if(Array.isArray(T))for(let L=0;L<T.length;L++)Au(r,n,c,T[L],h);else al(n,r,T,m[3],c,h,!0)}function Kl(n,r,s){Se(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Ra(n,r,s){Se(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Zl(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const Pc="ng-template";function Pd(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==Zl(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function bs(n){return 4===n.type&&n.value!==Pc}function Hh(n,r,s){return r===(4!==n.type||s?n.value:Pc)}function Fc(n,r,s){let a=4;const c=n.attrs||[],h=function Lc(n){for(let r=0;r<n.length;r++)if(Ha(n[r]))return r;return n.length}(c);let m=!1;for(let b=0;b<r.length;b++){const T=r[b];if("number"!=typeof T){if(!m)if(4&a){if(a=2|1&a,""!==T&&!Hh(n,T,s)||""===T&&1===r.length){if(Ys(a))return!1;m=!0}}else{const L=8&a?T:r[++b];if(8&a&&null!==n.attrs){if(!Pd(n.attrs,L,s)){if(Ys(a))return!1;m=!0}continue}const J=Yl(8&a?"class":T,c,bs(n),s);if(-1===J){if(Ys(a))return!1;m=!0;continue}if(""!==L){let me;me=J>h?"":c[J+1].toLowerCase();const Me=8&a?me:null;if(Me&&-1!==Zl(Me,L,0)||2&a&&L!==me){if(Ys(a))return!1;m=!0}}}}else{if(!m&&!Ys(a)&&!Ys(T))return!1;if(m&&Ys(T))continue;m=!1,a=T|1&a}}return Ys(a)||m}function Ys(n){return 0==(1&n)}function Yl(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let b=r[++c];for(;"string"==typeof b;)b=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function uu(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Fo(n,r,s=!1){for(let a=0;a<r.length;a++)if(Fc(n,r[a],s))return!0;return!1}function lu(n,r){return n?":not("+r.trim()+")":r}function Mu(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const b=n[++s];c+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Ys(m)&&(r+=lu(h,c),c=""),a=m,h=h||!Ys(a);s++}return""!==c&&(r+=lu(h,c)),r}const Gn={};function qh(n){Wh(Un(),ot(),Ri()+n,oo())}function Wh(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Gt(r,h,s)}else{const h=n.preOrderHooks;null!==h&&hn(r,h,0,s)}Or(s)}function Ru(n,r){return n<<17|r<<2}function Lo(n){return n>>17&32767}function cl(n){return 2|n}function Vo(n){return(131068&n)>>2}function ia(n,r){return-131069&n|r<<2}function Vc(n){return 1|n}function tc(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const m=n.data[h];ca(c),m.contentQueries(2,r[h],h)}}}function sa(n,r,s,a,c,h,m,b,T,L){const H=r.blueprint.slice();return H[0]=c,H[2]=140|a,C(H),H[3]=H[15]=n,H[8]=s,H[10]=m||n&&n[10],H[11]=b||n&&n[11],H[12]=T||n&&n[12]||null,H[9]=L||n&&n[9]||null,H[6]=h,H[16]=2==r.type?n[16]:H,H}function Uo(n,r,s,a,c){let h=n.data[r];if(null===h)h=function nc(n,r,s,a,c){const h=io(),m=so(),T=n.data[r]=function Up(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=T),null!==h&&(m?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(n,r,s,a,c),function bo(){return De.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const m=function Fs(){const n=De.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return As(h,!0),h}function Na(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Fu(n,r,s){lo(r);try{const a=n.viewQuery;null!==a&&Fa(1,a,s);const c=n.template;null!==c&&Bd(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tc(n,r),n.staticViewQueries&&Fa(2,n.viewQuery,s);const h=n.components;null!==h&&function Gc(n,r){for(let s=0;s<r.length;s++)mf(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,da()}}function gl(n,r,s,a){const c=r[2];if(256==(256&c))return;lo(r);const h=oo();try{C(r),function Ho(n){return De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Bd(n,r,s,2,a);const m=3==(3&c);if(!h)if(m){const L=n.preOrderCheckHooks;null!==L&&Gt(r,L,null)}else{const L=n.preOrderHooks;null!==L&&hn(r,L,0,null),Xs(r,0)}if(function rm(n){for(let r=Lh(n);null!==r;r=Sd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(1024&c[2])&&K(h,1),c[2]|=1024}}}(r),function Hp(n){for(let r=Lh(n);null!==r;r=Sd(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Qi(a)&&gl(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&tc(n,r),!h)if(m){const L=n.contentCheckHooks;null!==L&&Gt(r,L)}else{const L=n.contentHooks;null!==L&&hn(r,L,1),Xs(r,1)}!function nf(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Or(~c);else{const h=c,m=s[++a],b=s[++a];la(m,h),b(2,r[h])}}}finally{Or(-1)}}(n,r);const b=n.components;null!==b&&function Ud(n,r){for(let s=0;s<r.length;s++)Wd(n,r[s])}(r,b);const T=n.viewQuery;if(null!==T&&Fa(2,T,a),!h)if(m){const L=n.viewCheckHooks;null!==L&&Gt(r,L)}else{const L=n.viewHooks;null!==L&&hn(r,L,2),Xs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,K(r[3],-1))}finally{da()}}function Xg(n,r,s,a){const c=r[10],h=!oo(),m=Jn(r);try{h&&!m&&c.begin&&c.begin(),m&&Fu(n,r,a),gl(n,r,s,a)}finally{h&&!m&&c.end&&c.end()}}function Bd(n,r,s,a,c){const h=Ri(),m=2&a;try{Or(-1),m&&r.length>20&&Wh(n,r,20,oo()),s(a,c)}finally{Or(h)}}function Hc(n,r,s){!Ts()||(function hu(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||v(s,r),is(a,r);const m=s.initialInputs;for(let b=c;b<h;b++){const T=n.data[b],L=Kr(T);L&&hf(r,s,T);const H=Ji(r,n,b,s);is(H,r),null!==m&&ff(0,b-c,H,T,0,m),L&&(or(s.index,r)[8]=H)}}(n,r,s,dn(s,r)),128==(128&s.flags)&&function $p(n,r,s){const a=s.directiveStart,c=s.directiveEnd,m=s.index,b=function ju(){return De.lFrame.currentDirectiveIndex}();try{Or(m);for(let T=a;T<c;T++){const L=n.data[T],H=r[T];qs(T),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&cf(L,H)}}finally{Or(-1),qs(b)}}(n,r,s))}function jd(n,r,s=dn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],b=-1===m?s(r,n):n[m];n[c++]=b}}}function rf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Pa(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Pa(n,r,s,a,c,h,m,b,T,L){const H=20+a,J=H+c,me=function ic(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Gn);return s}(H,J),Me="function"==typeof L?L():L;return me[1]={type:n,blueprint:me,template:s,queries:null,viewQuery:b,declTNode:r,data:me.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Me,incompleteFirstPass:!1}}function of(n,r,s,a){const c=ml(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Ef(n).push(a,c.length-1))}function Bp(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function _o(n,r,s,a,c,h,m,b){const T=dn(r,s);let H,L=r.inputs;!b&&null!=L&&(H=L[a])?(Wp(n,s,H,a,c),us(r)&&function sc(n,r){const s=or(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function em(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,Se(h)?h.setProperty(T,a,c):za(a)||(T.setProperty?T.setProperty(a,c):T[a]=c))}function $d(n,r,s,a){let c=!1;if(Ts()){const h=function df(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];Fo(s,m.selectors,!1)&&(c||(c=[]),q(v(s,r),n,m.type),Kr(m)?(Gp(n,s),c.unshift(m)):c.push(m))}return c}(n,r,s),m=null===a?null:{"":-1};if(null!==h){c=!0,qd(s,n.data.length,h.length);for(let H=0;H<h.length;H++){const J=h[H];J.providersResolver&&J.providersResolver(J)}let b=!1,T=!1,L=Na(n,r,h.length,null);for(let H=0;H<h.length;H++){const J=h[H];s.mergedAttrs=En(s.mergedAttrs,J.hostAttrs),Zc(n,s,r,L,J),tm(L,J,m),null!==J.contentQueries&&(s.flags|=8),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(s.flags|=128);const me=J.type.prototype;!b&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),b=!0),!T&&(me.ngOnChanges||me.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),L++}!function af(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,m=[];let b=null,T=null;for(let L=r.directiveStart;L<a;L++){const H=c[L],J=H.inputs,me=null===h||bs(r)?null:nm(J,h);m.push(me),b=Bp(J,L,b),T=Bp(H.outputs,L,T)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=16),b.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=b,r.outputs=T}(n,s)}m&&function zd(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new it(-301,`Export of name '${r[c+1]}' not found!`);a.push(r[c],h)}}}(s,a,m)}return s.mergedAttrs=En(s.mergedAttrs,s.attrs),c}function Gd(n,r,s,a,c,h){const m=h.hostBindings;if(m){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const T=~r.index;(function Hd(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(b)!=T&&b.push(T),b.push(a,c,m)}}function cf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Gp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function tm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Kr(r)&&(s[""]=n)}}function qd(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Zc(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Dr(c.type)),m=new Ur(h,Kr(c),null);n.blueprint[a]=m,s[a]=m,Gd(n,r,0,a,Na(n,s,c.hostVars,Gn),c)}function hf(n,r,s){const a=dn(r,n),c=rf(s),h=n[10],m=oc(n,sa(n,c,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));n[r.index]=m}function oa(n,r,s,a,c,h){const m=dn(n,r);!function Lu(n,r,s,a,c,h,m){if(null==h)Se(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const b=null==m?Ce(h):m(h,a||"",c);Se(n)?n.setAttribute(r,c,b,s):s?r.setAttributeNS(s,c,b):r.setAttribute(c,b)}}(r[11],m,h,n.value,s,a,c)}function ff(n,r,s,a,c,h){const m=h[r];if(null!==m){const b=a.setInput;for(let T=0;T<m.length;){const L=m[T++],H=m[T++],J=m[T++];null!==b?a.setInput(s,J,L,H):s[H]=J}}}function nm(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function pf(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Wd(n,r){const s=or(r,n);if(Qi(s)){const a=s[1];80&s[2]?gl(a,s,a.template,s[8]):s[5]>0&&gf(s)}}function gf(n){for(let a=Lh(n);null!==a;a=Sd(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const m=h[1];gl(m,h,m.template,h[8])}else h[5]>0&&gf(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=or(s[a],n);Qi(c)&&c[5]>0&&gf(c)}}function mf(n,r){const s=or(r,n),a=s[1];(function im(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Fu(a,s,s[8])}function oc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function yf(n){for(;n;){n[2]|=64;const r=Rc(n);if(Hs(n)&&!r)return n;n=r}return null}function Yc(n,r,s){const a=r[10];a.begin&&a.begin();try{gl(n,r,n.template,s)}catch(c){throw qp(r,c),c}finally{a.end&&a.end()}}function Zd(n){!function Kd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=Ac(s),c=a[1];Xg(c,a,c.template,s)}}(n[8])}function Fa(n,r,s){ca(0),r(n,s)}const uc=(()=>Promise.resolve(null))();function ml(n){return n[7]||(n[7]=[])}function Ef(n){return n.cleanup||(n.cleanup=[])}function qp(n,r){const s=n[9],a=s?s.get(Mc,null):null;a&&a.handleError(r)}function Wp(n,r,s,a,c){for(let h=0;h<s.length;){const m=s[h++],b=s[h++],T=r[m],L=n.data[m];null!==L.setInput?L.setInput(T,c,a,b):T[b]=c}}function aa(n,r,s){const a=un(r,n);!function Bi(n,r,s){Se(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function lc(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const b=r[m];"number"==typeof b?h=b:1==h?c=Ot(c,b):2==h&&(a=Ot(a,b+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}const p=new Xr("INJECTOR",-1);class l{get(r,s=Mo){if(s===Mo){const a=new Error(`NullInjectorError: No provider for ${gt(r)}!`);throw a.name="NullInjectorError",a}return s}}const f=new Xr("Set Injector scope."),y={},N={};let U;function he(){return void 0===U&&(U=new l),U}function Le(n,r=null,s=null,a){const c=ht(n,r,s,a);return c._resolveInjectorDefTypes(),c}function ht(n,r=null,s=null,a){return new yt(n,s,r||he(),a)}class yt{constructor(r,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&qi(s,b=>this.processProvider(b,r,s)),qi([r],b=>this.processInjectorType(b,[],h)),this.records.set(p,js(void 0,this));const m=this.records.get(f);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof r?null:gt(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Mo,a=Re.Default){this.assertNotDestroyed();const c=Iu(this),h=Qe(void 0);try{if(!(a&Re.SkipSelf)){let b=this.records.get(r);if(void 0===b){const T=function dc(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(r)&&xr(r);b=T&&this.injectableDefInScope(T)?js(an(r),y):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&Re.Self?he():this.parent).get(r,s=a&Re.Optional&&s===Mo?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Zu]=m[Zu]||[]).unshift(gt(r)),c)throw m;return function Ue(n,r,s,a){const c=n[Zu];throw r[Ro]&&c.unshift(r[Ro]),n.message=function ft(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=gt(r);if(Array.isArray(r))c=r.map(gt).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let b=r[m];h.push(m+":"+("string"==typeof b?JSON.stringify(b):gt(b)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(vh,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[Zu]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{Qe(h),Iu(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,c)=>r.push(gt(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,"")}processInjectorType(r,s,a){if(!(r=Ne(r)))return!1;let c=$r(r);const h=null==c&&r.ngModule||void 0,m=void 0===h?r:h,b=-1!==a.indexOf(m);if(void 0!==h&&(c=$r(h)),null==c)return!1;if(null!=c.imports&&!b){let H;a.push(m);try{qi(c.imports,J=>{this.processInjectorType(J,s,a)&&(void 0===H&&(H=[]),H.push(J))})}finally{}if(void 0!==H)for(let J=0;J<H.length;J++){const{ngModule:me,providers:Me}=H[J];qi(Me,et=>this.processProvider(et,me,Me||te))}}this.injectorDefTypes.add(m);const T=Dr(m)||(()=>new m);this.records.set(m,js(T,y));const L=c.providers;if(null!=L&&!b){const H=r;qi(L,J=>this.processProvider(J,H,L))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let c=La(r=Ne(r))?r:Ne(r&&r.provide);const h=function Hr(n,r,s){return Vu(n)?js(void 0,n.useValue):js(Ti(n),y)}(r);if(La(r)||!0!==r.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=js(void 0,y,!0),m.factory=()=>$(m.multi),this.records.set(c,m)),c=r,m.multi.push(r)}this.records.set(c,h)}hydrate(r,s){return s.value===y&&(s.value=N,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ne(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function an(n){const r=xr(n),s=null!==r?r.factory:Dr(n);if(null!==s)return s;if(n instanceof Xr)throw new it(204,"");if(n instanceof Function)return function Nr(n){const r=n.length;if(r>0)throw function Qo(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new it(204,"");const s=function tt(n){const r=n&&(n[qe]||n[ye]);if(r){const s=function gn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new it(204,"")}function Ti(n,r,s){let a;if(La(n)){const c=Ne(n);return Dr(c)||an(c)}if(Vu(n))a=()=>Ne(n.useValue);else if(function If(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...$(n.deps||[]));else if(function cc(n){return!(!n||!n.useExisting)}(n))a=()=>ns(Ne(n.useExisting));else{const c=Ne(n&&(n.useClass||n.provide));if(!function Qc(n){return!!n.deps}(n))return Dr(c)||an(c);a=()=>new c(...$(n.deps))}return a}function js(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Vu(n){return null!==n&&"object"==typeof n&&Eh in n}function La(n){return"function"==typeof n}let Qs=(()=>{class n{static create(s,a){var c;if(Array.isArray(s))return Le({name:""},a,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return Le({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=Mo,n.NULL=new l,n.\u0275prov=pn({token:n,providedIn:"any",factory:()=>ns(p)}),n.__NG_ELEMENT_ID__=-1,n})();function Xp(n,r){Wo(Ac(n)[1],qr())}function Mf(n){let r=function xf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Kr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new it(903,"");c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=eg(n.inputs),m.declaredInputs=eg(n.declaredInputs),m.outputs=eg(n.outputs);const b=c.hostBindings;b&&ng(n,b);const T=c.viewQuery,L=c.contentQueries;if(T&&tg(n,T),L&&hy(n,L),zt(n.inputs,c.inputs),zt(n.declaredInputs,c.declaredInputs),zt(n.outputs,c.outputs),Kr(c)&&c.data.animation){const H=n.data;H.animation=(H.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const b=h[m];b&&b.ngInherit&&b(n),b===Mf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function dy(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=En(c.hostAttrs,s=En(s,c.hostAttrs))}}(a)}function eg(n){return n===$t?{}:n===te?[]:n}function tg(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function hy(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function ng(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Rf=null;function Jc(){if(!Rf){const n=je.Symbol;if(n&&n.iterator)Rf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Rf=a)}}}return Rf}function hc(n){return!!kf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Jc()in n)}function kf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function kn(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function fc(n,r,s,a){const c=ot();return kn(c,Ls(),r)&&(Un(),oa(Cr(),c,n,r,s,a)),fc}function pi(n,r,s,a){return kn(n,Ls(),s)?r+Ce(s)+a:Gn}function Of(n,r,s,a,c,h,m,b){const T=ot(),L=Un(),H=n+20,J=L.firstCreatePass?function ym(n,r,s,a,c,h,m,b,T){const L=r.consts,H=Uo(r,n,4,m||null,R(L,b));$d(r,s,H,R(L,T)),Wo(r,H);const J=H.tViews=Pa(2,H,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,L);return null!==r.queries&&(r.queries.template(r,H),J.queries=r.queries.embeddedTView(H)),H}(H,L,T,r,s,a,c,h,m):L.data[H];As(J,!1);const me=T[11].createComment("");Oc(L,T,me,J),is(me,T),oc(T,T[H]=pf(me,T,me,J)),Gs(J)&&Hc(L,T,J),null!=m&&jd(T,J,b)}function Vf(n,r=Re.Default){const s=ot();return null===s?ns(n,r):Bt(qr(),s,Ne(n),r)}function Uf(){throw new Error("invalid")}function uh(n,r,s){const a=ot();return kn(a,Ls(),r)&&_o(Un(),Cr(),a,n,r,a[11],s,!1),uh}function pg(n,r,s,a,c){const m=c?"class":"style";Wp(n,s,r.inputs[m],m,a)}function Bf(n,r,s,a){const c=ot(),h=Un(),m=20+n,b=c[11],T=c[m]=nu(b,r,function Xn(){return De.lFrame.currentNamespace}()),L=h.firstCreatePass?function Ty(n,r,s,a,c,h,m){const b=r.consts,L=Uo(r,n,2,c,R(b,h));return $d(r,s,L,R(b,m)),null!==L.attrs&&lc(L,L.attrs,!1),null!==L.mergedAttrs&&lc(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(m,h,c,0,r,s,a):h.data[m];As(L,!0);const H=L.mergedAttrs;null!==H&&Hu(b,T,H);const J=L.classes;null!==J&&Ra(b,T,J);const me=L.styles;null!==me&&Kl(b,T,me),64!=(64&L.flags)&&Oc(h,c,T,L),0===function ar(){return De.lFrame.elementDepthCount}()&&is(T,c),function hi(){De.lFrame.elementDepthCount++}(),Gs(L)&&(Hc(h,c,L),function rc(n,r,s){if(Qn(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}(h,L,c)),null!==a&&jd(c,L)}function jf(){let n=qr();so()?function wo(){De.lFrame.isParent=!1}():(n=n.parent,As(n,!1));const r=n;!function si(){De.lFrame.elementDepthCount--}();const s=Un();s.firstCreatePass&&(Wo(s,n),Qn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function vc(n){return 0!=(16&n.flags)}(r)&&pg(s,r,ot(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Do(n){return 0!=(32&n.flags)}(r)&&pg(s,r,ot(),r.stylesWithoutHost,!1)}function lh(n,r,s,a){Bf(n,r,s,a),jf()}function Gf(){return ot()}function gg(n){return!!n&&"function"==typeof n.then}function Am(n){return!!n&&"function"==typeof n.subscribe}const Sm=Am;function Hf(n,r,s,a){const c=ot(),h=Un(),m=qr();return function bl(n,r,s,a,c,h,m,b){const T=Gs(a),H=n.firstCreatePass&&Ef(n),J=r[8],me=ml(r);let Me=!0;if(3&a.type||b){const jt=dn(a,r),rn=b?b(jt):jt,lt=me.length,Dn=b?Sr=>b(Mt(Sr[a.index])):a.index;if(Se(s)){let Sr=null;if(!b&&T&&(Sr=function xm(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===a){const b=r[7],T=c[h+2];return b.length>T?b[T]:null}"string"==typeof m&&(h+=2)}return null}(n,r,c,a.index)),null!==Sr)(Sr.__ngLastListenerFn__||Sr).__ngNextListenerFn__=h,Sr.__ngLastListenerFn__=h,Me=!1;else{h=zf(a,r,J,h,!1);const ei=s.listen(rn,c,h);me.push(h,ei),H&&H.push(c,Dn,lt,lt+1)}}else h=zf(a,r,J,h,!0),rn.addEventListener(c,h,m),me.push(h),H&&H.push(c,Dn,lt,m)}else h=zf(a,r,J,h,!1);const et=a.outputs;let Tt;if(Me&&null!==et&&(Tt=et[c])){const jt=Tt.length;if(jt)for(let rn=0;rn<jt;rn+=2){const Ba=r[Tt[rn]][Tt[rn+1]].subscribe(h),yh=me.length;me.push(h,Ba),H&&H.push(c,a.index,yh,-(yh+1))}}}(h,c,c[11],m,n,r,!!s,a),Hf}function yg(n,r,s,a){try{return!1!==s(a)}catch(c){return qp(n,c),!1}}function zf(n,r,s,a,c){return function h(m){if(m===Function)return a;const b=2&n.flags?or(n.index,r):r;0==(32&r[2])&&yf(b);let T=yg(r,0,a,m),L=h.__ngNextListenerFn__;for(;L;)T=yg(r,0,L,m)&&T,L=L.__ngNextListenerFn__;return c&&!1===T&&(m.preventDefault(),m.returnValue=!1),T}}function qf(n=1){return function ha(n){return(De.lFrame.contextLView=function Al(n,r){for(;n>0;)r=r[15],n--;return r}(n,De.lFrame.contextLView))[8]}(n)}function sd(n,r,s){return Kf(n,"",r,"",s),sd}function Kf(n,r,s,a,c){const h=ot(),m=pi(h,r,s,a);return m!==Gn&&_o(Un(),Cr(),h,n,m,h[11],c,!1),Kf}function My(n,r,s,a,c){const h=n[s+1],m=null===r;let b=a?Lo(h):Vo(h),T=!1;for(;0!==b&&(!1===T||m);){const H=n[b+1];Y_(n[b],r)&&(T=!0,n[b+1]=a?Vc(H):cl(H)),b=a?Lo(H):Vo(H)}T&&(n[s+1]=a?cl(h):Vc(h))}function Y_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&fo(n,r)>=0}function Dl(n,r){return function pu(n,r,s,a){const c=ot(),h=Un(),m=function Pi(n){const r=De.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);h.firstUpdatePass&&function Py(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[Ri()],m=function Ny(n,r){return r>=n.expandoStartIndex}(n,s);(function ph(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!m&&(r=!1),r=function nv(n,r,s,a){const c=function Hi(n){const r=De.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=fh(s=bg(null,n,r,s,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=bg(c,n,r,s,a),null===h){let T=function rv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Vo(a))return n[Lo(a)]}(n,r,a);void 0!==T&&Array.isArray(T)&&(T=bg(null,n,r,T[1],a),T=fh(T,r.attrs,a),function Fy(n,r,s,a){n[Lo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,T))}else h=function Ly(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=fh(a,n[h].hostAttrs,s);return fh(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function Z_(n,r,s,a,c,h){let m=h?r.classBindings:r.styleBindings,b=Lo(m),T=Vo(m);n[a]=s;let H,L=!1;if(Array.isArray(s)){const J=s;H=J[1],(null===H||fo(J,H)>0)&&(L=!0)}else H=s;if(c)if(0!==T){const me=Lo(n[b+1]);n[a+1]=Ru(me,b),0!==me&&(n[me+1]=ia(n[me+1],a)),n[b+1]=function Yh(n,r){return 131071&n|r<<17}(n[b+1],a)}else n[a+1]=Ru(b,0),0!==b&&(n[b+1]=ia(n[b+1],a)),b=a;else n[a+1]=Ru(T,0),0===b?b=a:n[T+1]=ia(n[T+1],a),T=a;L&&(n[a+1]=cl(n[a+1])),My(n,H,a,!0),My(n,H,a,!1),function km(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&fo(h,r)>=0&&(s[a+1]=Vc(s[a+1]))}(r,H,n,a,h),m=Ru(b,T),h?r.classBindings=m:r.styleBindings=m}(c,h,r,s,m,a)}}(h,n,m,a),r!==Gn&&kn(c,m,r)&&function Vy(n,r,s,a,c,h,m,b){if(!(3&r.type))return;const T=n.data,L=T[b+1];Qf(function cu(n){return 1==(1&n)}(L)?Uy(T,r,s,c,Vo(L),m):void 0)||(Qf(h)||function Zh(n){return 2==(2&n)}(L)&&(h=Uy(T,null,s,c,b,m)),function Sp(n,r,s,a,c){const h=Se(n);if(r)c?h?n.addClass(s,a):s.classList.add(a):h?n.removeClass(s,a):s.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:Aa.DashCase;if(null==c)h?n.removeStyle(s,a,m):s.style.removeProperty(a);else{const b="string"==typeof c&&c.endsWith("!important");b&&(c=c.slice(0,-10),m|=Aa.Important),h?n.setStyle(s,a,c,m):s.style.setProperty(a,c,b?"important":"")}}}(a,m,un(Ri(),s),c,h))}(h,h.data[Ri()],c,c[11],n,c[m+1]=function By(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=gt(Ia(n)))),n}(r,s),a,m)}(n,r,null,!0),Dl}function bg(n,r,s,a,c){let h=null;const m=s.directiveEnd;let b=s.directiveStylingLast;for(-1===b?b=s.directiveStart:b++;b<m&&(h=r[b],a=fh(a,h.hostAttrs,c),h!==n);)b++;return null!==n&&(s.directiveStylingLast=b),a}function fh(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xs(n,m,!!s||r[++h]))}return void 0===n?null:n}function Uy(n,r,s,a,c,h){const m=null===r;let b;for(;c>0;){const T=n[c],L=Array.isArray(T),H=L?T[1]:T,J=null===H;let me=s[c+1];me===Gn&&(me=J?te:void 0);let Me=J?ho(me,a):H===a?me:void 0;if(L&&!Qf(Me)&&(Me=ho(T,a)),Qf(Me)&&(b=Me,m))return b;const et=n[c+1];c=m?Lo(et):Vo(et)}if(null!==r){let T=h?r.residualClasses:r.residualStyles;null!=T&&(b=ho(T,a))}return b}function Qf(n){return void 0!==n}function Pm(n,r=""){const s=ot(),a=Un(),c=n+20,h=a.firstCreatePass?Uo(a,c,1,r,null):a.data[c],m=s[c]=function xd(n,r){return Se(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Oc(a,s,m,h),As(h,!1)}function Fm(n){return Dg("",n,""),Fm}function Dg(n,r,s){const a=ot(),c=pi(a,n,r,s);return c!==Gn&&aa(a,Ri(),c),Dg}const gh=void 0;var cE=["en",[["a","p"],["AM","PM"],gh],[["AM","PM"],gh,gh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gh,"{1} 'at' {0}",gh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lE(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Jf={};function Wy(n){const r=function dE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=dv(r);if(s)return s;const a=r.split("-")[0];if(s=dv(a),s)return s;if("en"===a)return cE;throw new Error(`Missing locale data for the locale "${n}".`)}function cv(n){return Wy(n)[On.PluralCase]}function dv(n){return n in Jf||(Jf[n]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[n]),Jf[n]}var On=(()=>((On=On||{})[On.LocaleId=0]="LocaleId",On[On.DayPeriodsFormat=1]="DayPeriodsFormat",On[On.DayPeriodsStandalone=2]="DayPeriodsStandalone",On[On.DaysFormat=3]="DaysFormat",On[On.DaysStandalone=4]="DaysStandalone",On[On.MonthsFormat=5]="MonthsFormat",On[On.MonthsStandalone=6]="MonthsStandalone",On[On.Eras=7]="Eras",On[On.FirstDayOfWeek=8]="FirstDayOfWeek",On[On.WeekendRange=9]="WeekendRange",On[On.DateFormat=10]="DateFormat",On[On.TimeFormat=11]="TimeFormat",On[On.DateTimeFormat=12]="DateTimeFormat",On[On.NumberSymbols=13]="NumberSymbols",On[On.NumberFormats=14]="NumberFormats",On[On.CurrencyCode=15]="CurrencyCode",On[On.CurrencySymbol=16]="CurrencySymbol",On[On.CurrencyName=17]="CurrencyName",On[On.Currencies=18]="Currencies",On[On.Directionality=19]="Directionality",On[On.PluralCase=20]="PluralCase",On[On.ExtraData=21]="ExtraData",On))();const Lm="en-US";let hv=Lm;function Yy(n,r,s,a,c){if(n=Ne(n),Array.isArray(n))for(let h=0;h<n.length;h++)Yy(n[h],r,s,a,c);else{const h=Un(),m=ot();let b=La(n)?n:Ne(n.provide),T=Ti(n);const L=qr(),H=1048575&L.providerIndexes,J=L.directiveStart,me=L.providerIndexes>>20;if(La(n)||!n.multi){const Me=new Ur(T,c,Vf),et=Jy(b,r,c?H:H+me,J);-1===et?(q(v(L,m),h,b),Qy(h,n,r.length),r.push(b),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),s.push(Me),m.push(Me)):(s[et]=Me,m[et]=Me)}else{const Me=Jy(b,r,H+me,J),et=Jy(b,r,H,H+me),Tt=Me>=0&&s[Me],jt=et>=0&&s[et];if(c&&!jt||!c&&!Tt){q(v(L,m),h,b);const rn=function lw(n,r,s,a,c){const h=new Ur(n,s,Vf);return h.multi=[],h.index=r,h.componentProviders=0,Fv(h,c,a&&!s),h}(c?uw:aw,s.length,c,a,T);!c&&jt&&(s[et].providerFactory=rn),Qy(h,n,r.length,0),r.push(b),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),s.push(rn),m.push(rn)}else Qy(h,n,Me>-1?Me:et,Fv(s[c?et:Me],T,!c&&a));!c&&a&&jt&&s[et].componentProviders++}}}function Qy(n,r,s,a){const c=La(r),h=function Yd(n){return!!n.useClass}(r);if(c||h){const T=(h?Ne(r.useClass):r).prototype.ngOnDestroy;if(T){const L=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const H=L.indexOf(s);-1===H?L.push(s,[a,T]):L[H+1].push(a,T)}else L.push(s,T)}}}function Fv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Jy(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function aw(n,r,s,a){return Xy(this.multi,[])}function uw(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=Ji(s,s[1],this.providerFactory.index,a);h=b.slice(0,m),Xy(c,h);for(let T=m;T<b.length;T++)h.push(b[T])}else h=[],Xy(c,h);return h}function Xy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Lv(n,r=[]){return s=>{s.providersResolver=(a,c)=>function ow(n,r,s){const a=Un();if(a.firstCreatePass){const c=Kr(n);Yy(s,a.data,a.blueprint,c,!0),Yy(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Vv{}class hw{resolveComponentFactory(r){throw function dw(n){const r=Error(`No component factory found for ${gt(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Mg=(()=>{class n{}return n.NULL=new hw,n})();function fw(){return ep(qr(),ot())}function ep(n,r){return new Rg(dn(n,r))}let Rg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=fw,n})();function pw(n){return n instanceof Rg?n.nativeElement:n}class Bv{}let gw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function yw(){const n=ot(),s=or(qr().index,n);return function mw(n){return n[11]}(St(s)?s:n)}(),n})(),_w=(()=>{class n{}return n.\u0275prov=pn({token:n,providedIn:"root",factory:()=>null}),n})();class jv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const $v=new jv("13.1.3"),e_={};function $m(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Mt(h)),vn(h))for(let b=10;b<h.length;b++){const T=h[b],L=T[1].firstChild;null!==L&&$m(T[1],T,L,a)}const m=s.type;if(8&m)$m(n,r,s.child,a);else if(32&m){const b=Fh(s,r);let T;for(;T=b();)a.push(T)}else if(16&m){const b=ol(r,s);if(Array.isArray(b))a.push(...b);else{const T=Rc(r[16]);$m(T[1],T,b,a,!0)}}s=c?s.projectionNext:s.next}return a}class kg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return $m(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(vn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Sa(r,a),Yo(s,a))}this._attachedToViewContainer=!1}iu(this._lView[1],this._lView)}onDestroy(r){of(this._lView[1],this._lView,null,r)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function vf(n,r,s){ao(!0);try{Yc(n,r,s)}finally{ao(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new it(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ru(n,r){ul(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new it(902,"");this._appRef=r}}class vw extends kg{constructor(r){super(r),this._view=r}detectChanges(){Zd(this._view)}checkNoChanges(){!function ac(n){ao(!0);try{Zd(n)}finally{ao(!1)}}(this._view)}get context(){return null}}class Gv extends Mg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=tr(r);return new t_(s,this.ngModule)}}function Hv(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const ww=new Xr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>na});class t_ extends Vv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ka(n){return n.map(Mu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Hv(this.componentDef.inputs)}get outputs(){return Hv(this.componentDef.outputs)}create(r,s,a,c){const h=(c=c||this.ngModule)?function bw(n,r){return{get:(s,a,c)=>{const h=n.get(s,e_,c);return h!==e_||a===e_?h:r.get(s,a,c)}}}(r,c.injector):r,m=h.get(Bv,Xe),b=h.get(_w,null),T=m.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",H=a?function sf(n,r,s){if(Se(n))return n.selectRootElement(r,s===bt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(T,a,this.componentDef.encapsulation):nu(m.createRenderer(null,this.componentDef),L,function Ew(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(L)),J=this.componentDef.onPush?576:528,me=function cm(n,r){return{components:[],scheduler:n||na,clean:uc,playerHandler:r||null,flags:0}}(),Me=Pa(0,null,null,1,0,null,null,null,null,null),et=sa(null,Me,me,J,null,null,m,T,b,h);let Tt,jt;lo(et);try{const rn=function lm(n,r,s,a,c,h){const m=s[1];s[20]=n;const T=Uo(m,20,2,"#host",null),L=T.mergedAttrs=r.hostAttrs;null!==L&&(lc(T,L,!0),null!==n&&(Hu(c,n,L),null!==T.classes&&Ra(c,n,T.classes),null!==T.styles&&Kl(c,n,T.styles)));const H=a.createRenderer(n,r),J=sa(s,rf(r),null,r.onPush?64:16,s[20],T,a,H,h||null,null);return m.firstCreatePass&&(q(v(T,s),m,r.type),Gp(m,T),qd(T,s.length,1)),oc(s,J),s[20]=J}(H,this.componentDef,et,m,T);if(H)if(a)Hu(T,H,["ng-version",$v.full]);else{const{attrs:lt,classes:Dn}=function zh(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!Ys(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);lt&&Hu(T,H,lt),Dn&&Dn.length>0&&Ra(T,H,Dn.join(" "))}if(jt=zn(Me,20),void 0!==s){const lt=jt.projection=[];for(let Dn=0;Dn<this.ngContentSelectors.length;Dn++){const Sr=s[Dn];lt.push(null!=Sr?Array.from(Sr):null)}}Tt=function Sf(n,r,s,a,c){const h=s[1],m=function lf(n,r,s){const a=qr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Zc(n,a,r,Na(n,r,1,null),s));const c=Ji(r,n,a.directiveStart,a);is(c,r);const h=dn(a,r);return h&&is(h,r),c}(h,s,r);if(a.components.push(m),n[8]=m,c&&c.forEach(T=>T(m,r)),r.contentQueries){const T=qr();r.contentQueries(1,m,T.directiveStart)}const b=qr();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Or(b.index),Gd(s[1],b,0,b.directiveStart,b.directiveEnd,r),cf(r,m)),m}(rn,this.componentDef,et,me,[Xp]),Fu(Me,et,null)}finally{da()}return new Dw(this.componentType,Tt,ep(jt,et),et,jt)}}class Dw extends class cw{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new vw(c),this.componentType=r}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class tp{}class zv{}const np=new Map;class Kv extends tp{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gv(this);const a=hr(r);this._bootstrapComponents=Ca(a.bootstrap),this._r3Injector=ht(r,s,[{provide:tp,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver}],gt(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Qs.THROW_IF_NOT_FOUND,a=Re.Default){return r===Qs||r===tp||r===p?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class n_ extends zv{constructor(r){super(),this.moduleType=r,null!==hr(r)&&function Cw(n){const r=new Set;!function s(a){const c=hr(a,!0),h=c.id;null!==h&&(function qv(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${gt(r)} vs ${gt(r.name)}`)}(h,np.get(h),a),np.set(h,a));const m=Ca(c.imports);for(const b of m)r.has(b)||(r.add(b),s(b))}(n)}(r)}create(r){return new Kv(this.moduleType,r)}}function Zv(n,r,s){const a=function Mi(){const n=De.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}()+n,c=ot();return c[a]===Gn?function Va(n,r,s){return n[r]=s}(c,a,s?r.call(s):r()):function El(n,r){return n[r]}(c,a)}function r_(n){return r=>{setTimeout(n,void 0,r)}}const Tl=class Gw extends We.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var c,h,m;let b=r,T=s||(()=>null),L=a;if(r&&"object"==typeof r){const J=r;b=null===(c=J.next)||void 0===c?void 0:c.bind(J),T=null===(h=J.error)||void 0===h?void 0:h.bind(J),L=null===(m=J.complete)||void 0===m?void 0:m.bind(J)}this.__isAsync&&(T=r_(T),b&&(b=r_(b)),L&&(L=r_(L)));const H=super.subscribe({next:b,error:T,complete:L});return r instanceof ke.w0&&r.add(H),H}};function Hw(){return this._results[Jc()]()}class i_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Jc(),a=i_.prototype;a[s]||(a[s]=Hw)}get changes(){return this._changes||(this._changes=new Tl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=ts(r);(this._changesDetected=!function Wa(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();const zw=Pg,qw=class extends zw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=sa(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[W];return null!==h&&(a[W]=h.createEmbeddedView(s)),Fu(s,a,r),new kg(a)}};function Ww(){return Gm(qr(),ot())}function Gm(n,r){return 4&n.type?new qw(r,n,ep(n,r)):null}let Hm=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kw,n})();function Kw(){return r0(qr(),ot())}const Zw=Hm,t0=class extends Zw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ep(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const r=F(this._hostTNode,this._hostLView);if(ga(r)){const s=Ss(r,this._hostLView),a=Lr(r);return new ki(s[1].data[a+8],s)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=n0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const c=r.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(r,s,a,c,h){const m=r&&!function Zo(n){return"function"==typeof n}(r);let b;if(m)b=s;else{const J=s||{};b=J.index,a=J.injector,c=J.projectableNodes,h=J.ngModuleRef}const T=m?r:new t_(tr(r)),L=a||this.parentInjector;if(!h&&null==T.ngModule&&L){const J=L.get(tp,null);J&&(h=J)}const H=T.create(L,c,void 0,h);return this.insert(H.hostView,b),H}insert(r,s){const a=r._lView,c=a[1];if(function O(n){return vn(n[3])}(a)){const H=this.indexOf(r);if(-1!==H)this.detach(H);else{const J=a[3],me=new t0(J,J[6],J[3]);me.detach(me.indexOf(r))}}const h=this._adjustIndex(s),m=this._lContainer;!function Bh(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],Ka(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function jh(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const b=r[W];null!==b&&b.insertView(n),r[2]|=128}(c,a,m,h);const b=xa(h,m),T=a[11],L=ql(T,m[7]);return null!==L&&function Md(n,r,s,a,c,h){a[0]=c,a[6]=r,ul(n,a,s,1,c,h)}(c,m[6],T,a,L,b),r.attachToViewContainerRef(),Ka(s_(m),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=n0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Sa(this._lContainer,s);a&&(Yo(s_(this._lContainer),s),iu(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Sa(this._lContainer,s);return a&&null!=Yo(s_(this._lContainer),s)?new kg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function n0(n){return n[8]}function s_(n){return n[8]||(n[8]=[])}function r0(n,r){let s;const a=r[n.index];if(vn(a))s=a;else{let c;if(8&n.type)c=Mt(a);else{const h=r[11];c=h.createComment("");const m=dn(n,r);ra(h,ql(h,m),c,function kc(n,r){return Se(n)?n.nextSibling(r):r.nextSibling}(h,m),!1)}r[n.index]=s=pf(a,r,c,n),oc(r,s)}return new t0(s,n,r)}class o_{constructor(r){this.queryList=r,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class a_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new a_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==h0(r,s).matches&&this.queries[s].setDirty()}}class s0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class u_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new u_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class l_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new l_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,Jw(s,h)),this.matchTNodeWithReadOption(r,s,we(s,r,h,!1,!1))}else a===Pg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,we(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Rg||c===Hm||c===Pg&&4&s.type)this.addMatch(s.index,-2);else{const h=we(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Jw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function eb(n,r,s,a){return-1===s?function Xw(n,r){return 11&n.type?ep(n,r):4&n.type?Gm(n,r):null}(r,n):-2===s?function tb(n,r,s){return s===Rg?ep(r,n):s===Pg?Gm(r,n):s===Hm?r0(r,n):void 0}(n,r,a):Ji(n,n[1],s,r)}function o0(n,r,s,a){const c=r[W].queries[a];if(null===c.matches){const h=n.data,m=s.matches,b=[];for(let T=0;T<m.length;T+=2){const L=m[T];b.push(L<0?null:eb(r,h[L],m[T+1],s.metadata.read))}c.matches=b}return c.matches}function c_(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const m=o0(n,r,c,s);for(let b=0;b<h.length;b+=2){const T=h[b];if(T>0)a.push(m[b/2]);else{const L=h[b+1],H=r[-T];for(let J=10;J<H.length;J++){const me=H[J];me[17]===me[3]&&c_(me[1],me,L,a)}if(null!==H[9]){const J=H[9];for(let me=0;me<J.length;me++){const Me=J[me];c_(Me[1],Me,L,a)}}}}}return a}function a0(n){const r=ot(),s=Un(),a=zo();ca(a+1);const c=h0(s,a);if(n.dirty&&Jn(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?c_(s,r,a,[]):o0(s,r,c,a);n.reset(h,pw),n.notifyOnChanges()}return!0}return!1}function u0(n,r,s,a){const c=Un();if(c.firstCreatePass){const h=qr();(function d0(n,r,s){null===n.queries&&(n.queries=new u_),n.queries.track(new l_(r,s))})(c,new s0(r,s,a),h.index),function ib(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function c0(n,r,s){const a=new i_(4==(4&s));of(n,r,a,a.destroy),null===r[W]&&(r[W]=new a_),r[W].queries.push(new o_(a))}(c,ot(),s)}function l0(){return function rb(n,r){return n[W].queries[r].queryList}(ot(),zo())}function h0(n,r){return n.queries.getByIndex(r)}function Wm(...n){}const m_=new Xr("Application Initializer");let ip=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Wm,this.reject=Wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(gg(h))s.push(h);else if(Sm(h)){const m=new Promise((b,T)=>{h.subscribe({complete:b,error:T})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ns(m_,8))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();const x0=new Xr("AppId"),Ib={provide:x0,useFactory:function bb(){return`${y_()}${y_()}${y_()}`},deps:[]};function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M0=new Xr("Platform Initializer"),R0=new Xr("Platform ID"),k0=new Xr("appBootstrapListener");let O0=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();const Km=new Xr("LocaleId"),N0=new Xr("DefaultCurrencyCode");class Db{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let __=(()=>{class n{compileModuleSync(s){return new n_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Ca(hr(s).declarations).reduce((m,b)=>{const T=tr(b);return T&&m.push(new t_(T)),m},[]);return new Db(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();const Cb=(()=>Promise.resolve(0))();function v_(n){"undefined"==typeof Zone?Cb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ua{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Ab(){let n=je.requestAnimationFrame,r=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Mb(n){const r=()=>{!function xb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,w_(n),n.isCheckStableRunning=!0,E_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),w_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,m,b)=>{try{return P0(n),s.invokeTask(c,h,m,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),F0(n)}},onInvoke:(s,a,c,h,m,b,T)=>{try{return P0(n),s.invoke(c,h,m,b,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),F0(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,w_(n),E_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,Sb,Wm,Wm);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Sb={};function E_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function w_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function P0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function F0(n){n._nesting--,E_(n)}class Rb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}let L0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ns(Ua))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})(),V0=(()=>{class n{constructor(){this._applications=new Map,b_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return b_.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();class kb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Ob(n){b_=n}let Uu,b_=new kb;const U0=new Xr("AllowMultipleToken");class Fb{constructor(r,s){this.name=r,this.token=s}}function B0(n,r,s=[]){const a=`Platform: ${r}`,c=new Xr(a);return(h=[])=>{let m=j0();if(!m||m.injector.get(U0,!1))if(n)n(s.concat(h).concat({provide:c,useValue:!0}));else{const b=s.concat(h).concat({provide:c,useValue:!0},{provide:f,useValue:"platform"});!function Lb(n){if(Uu&&!Uu.destroyed&&!Uu.injector.get(U0,!1))throw new it(400,"");Uu=n.get($0);const r=n.get(M0,null);r&&r.forEach(s=>s())}(Qs.create({providers:b,name:a}))}return function Vb(n){const r=j0();if(!r)throw new it(401,"");return r}()}}function j0(){return Uu&&!Uu.destroyed?Uu:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const b=function Ub(n,r){let s;return s="noop"===n?new Rb:("zone.js"===n?void 0:n)||new Ua({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),T=[{provide:Ua,useValue:b}];return b.run(()=>{const L=Qs.create({providers:T,parent:this.injector,name:s.moduleType.name}),H=s.create(L),J=H.injector.get(Mc,null);if(!J)throw new it(402,"");return b.runOutsideAngular(()=>{const me=b.onError.subscribe({next:Me=>{J.handleError(Me)}});H.onDestroy(()=>{I_(this._modules,H),me.unsubscribe()})}),function Bb(n,r,s){try{const a=s();return gg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(J,b,()=>{const me=H.injector.get(ip);return me.runInitializers(),me.donePromise.then(()=>(function gE(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(hv=n.toLowerCase().replace(/_/g,"-"))}(H.injector.get(Km,Lm)||Lm),this._moduleDoBootstrap(H),H))})})}bootstrapModule(s,a=[]){const c=G0({},a);return function Nb(n,r,s){const a=new n_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Lg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new it(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ns(Qs))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();function G0(n,r){return Array.isArray(r)?r.reduce(G0,n):Object.assign(Object.assign({},n),r)}let Lg=(()=>{class n{constructor(s,a,c,h,m){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new Ye.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),T=new Ye.y(L=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{H.unsubscribe(),J.unsubscribe()}});this.isStable=function Ve(...n){const r=(0,Te.yG)(n),s=(0,Te._6)(n,1/0),a=n;return a.length?1===a.length?(0,E.Xf)(a[0]):(0,w.J)(s)((0,ge.D)(a,r)):ve.E}(b,T.pipe(function Dt(n={}){const{connector:r=(()=>new We.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m=null,b=null,T=null,L=0,H=!1,J=!1;const me=()=>{null==b||b.unsubscribe(),b=null},Me=()=>{me(),m=T=null,H=J=!1},et=()=>{const Tt=m;Me(),null==Tt||Tt.unsubscribe()};return(0,Ze.e)((Tt,jt)=>{L++,!J&&!H&&me();const rn=T=null!=T?T:r();jt.add(()=>{L--,0===L&&!J&&!H&&(b=nt(et,c))}),rn.subscribe(jt),m||(m=new fe.Hp({next:lt=>rn.next(lt),error:lt=>{J=!0,me(),b=nt(Me,s,lt),rn.error(lt)},complete:()=>{H=!0,me(),b=nt(Me,a),rn.complete()}}),(0,ge.D)(Tt).subscribe(m))})(h)}}()))}bootstrap(s,a){if(!this._initStatus.done)throw new it(405,"");let c;c=s instanceof Vv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function Pb(n){return n.isBoundToModule}(c)?void 0:this._injector.get(tp),b=c.create(Qs.NULL,[],a||c.selector,h),T=b.location.nativeElement,L=b.injector.get(L0,null),H=L&&b.injector.get(V0);return L&&H&&H.registerApplication(T,L),b.onDestroy(()=>{this.detachView(b.hostView),I_(this.components,b),H&&H.unregisterApplication(T)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new it(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;I_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(k0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(ns(Ua),ns(Qs),ns(Mc),ns(Mg),ns(ip))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();function I_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let z0=!0;function $b(){z0=!1}let Gb=(()=>{class n{}return n.__NG_ELEMENT_ID__=Hb,n})();function Hb(n){return function zb(n,r,s){if(us(n)&&!s){const a=or(n.index,r);return new kg(a,a)}return 47&n.type?new kg(r[16],r):null}(qr(),ot(),16==(16&n))}class J0{constructor(){}supports(r){return hc(r)}create(r){return new Qb(r)}}const Yb=(n,r)=>r;class Qb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Yb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<eE(a,c,h)?s:a,b=eE(m,c,h),T=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const L=b-c,H=T-c;if(L!=H){for(let me=0;me<L;me++){const Me=me<h.length?h[me]:h[me]=0,et=Me+me;H<=et&&et<L&&(h[me]=Me+1)}h[m.previousIndex]=H-L}}b!==T&&r(m,b,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!hc(r))throw new it(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let b=0;b<this.length;b++)h=r[b],m=this._trackByFn(b,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,b)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,b),a=!0),s=s._next}else c=0,function gy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Jc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,b=>{m=this._trackByFn(c,b),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,b,m,c)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new Jb(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new X0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Jb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class X0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Xb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eE(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class tE{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new eI}}class eI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new it(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new tI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class tI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nE(){return new Ym([new J0])}let Ym=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||nE()),deps:[[n,new bn,new ln]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new it(901,"")}}return n.\u0275prov=pn({token:n,providedIn:"root",factory:nE}),n})();function rE(){return new Qm([new tE])}let Qm=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||rE()),deps:[[n,new bn,new ln]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new it(901,"")}}return n.\u0275prov=pn({token:n,providedIn:"root",factory:rE}),n})();const nI=[new tE],iI=new Ym([new J0]),sI=new Qm(nI),oI=B0(null,"core",[{provide:R0,useValue:"unknown"},{provide:$0,deps:[Qs]},{provide:V0,deps:[]},{provide:O0,deps:[]}]),dI=[{provide:Lg,useClass:Lg,deps:[Ua,Qs,Mc,Mg,ip]},{provide:ww,deps:[Ua],useFactory:function hI(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:ip,useClass:ip,deps:[[new ln,m_]]},{provide:__,useClass:__,deps:[]},Ib,{provide:Ym,useFactory:function aI(){return iI},deps:[]},{provide:Qm,useFactory:function uI(){return sI},deps:[]},{provide:Km,useFactory:function lI(n){return n||function cI(){return"undefined"!=typeof $localize&&$localize.locale||Lm}()},deps:[[new Lt(Km),new ln,new bn]]},{provide:N0,useValue:"USD"}];let fI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ns(Lg))},n.\u0275mod=yr({type:n}),n.\u0275inj=yi({providers:dI}),n})()},2382:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Wl:()=>gt,Fj:()=>Ne,qu:()=>Jn,u:()=>lr,sg:()=>ks,u5:()=>zn,JJ:()=>ye,JL:()=>st,UX:()=>Tr,kI:()=>oe,_Y:()=>St});var w=Z(1223),E=Z(9808),ve=Z(8306),Te=Z(4742),ge=Z(8421),Ve=Z(7669),We=Z(5403),ke=Z(3268),Ye=Z(1810),fe=Z(8996),Ze=Z(4004);let Dt=(()=>{class O{constructor(C,K){this._renderer=C,this._elementRef=K,this.onChange=De=>{},this.onTouched=()=>{}}setProperty(C,K){this._renderer.setProperty(this._elementRef.nativeElement,C,K)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return O.\u0275fac=function(C){return new(C||O)(w.Y36(w.Qsj),w.Y36(w.SBq))},O.\u0275dir=w.lG2({type:O}),O})(),nt=(()=>{class O extends Dt{}return O.\u0275fac=function(){let R;return function(K){return(R||(R=w.n5z(O)))(K||O)}}(),O.\u0275dir=w.lG2({type:O,features:[w.qOj]}),O})();const pt=new w.OlP("NgValueAccessor"),zt={provide:pt,useExisting:(0,w.Gpc)(()=>gt),multi:!0};let gt=(()=>{class O extends nt{writeValue(C){this.setProperty("checked",C)}}return O.\u0275fac=function(){let R;return function(K){return(R||(R=w.n5z(O)))(K||O)}}(),O.\u0275dir=w.lG2({type:O,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(C,K){1&C&&w.NdJ("change",function(Zt){return K.onChange(Zt.target.checked)})("blur",function(){return K.onTouched()})},features:[w._Bn([zt]),w.qOj]}),O})();const Ot={provide:pt,useExisting:(0,w.Gpc)(()=>Ne),multi:!0},Wt=new w.OlP("CompositionEventMode");let Ne=(()=>{class O extends Dt{constructor(C,K,De){super(C,K),this._compositionMode=De,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Et(){const O=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return O.\u0275fac=function(C){return new(C||O)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Wt,8))},O.\u0275dir=w.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,K){1&C&&w.NdJ("input",function(Zt){return K._handleInput(Zt.target.value)})("blur",function(){return K.onTouched()})("compositionstart",function(){return K._compositionStart()})("compositionend",function(Zt){return K._compositionEnd(Zt.target.value)})},features:[w._Bn([Ot]),w.qOj]}),O})();function Rt(O){return null==O||0===O.length}function It(O){return null!=O&&"number"==typeof O.length}const it=new w.OlP("NgValidators"),on=new w.OlP("NgAsyncValidators"),Ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(R){return function be(O){return R=>{if(Rt(R.value)||Rt(O))return null;const C=parseFloat(R.value);return!isNaN(C)&&C<O?{min:{min:O,actual:R.value}}:null}}(R)}static max(R){return function Fe(O){return R=>{if(Rt(R.value)||Rt(O))return null;const C=parseFloat(R.value);return!isNaN(C)&&C>O?{max:{max:O,actual:R.value}}:null}}(R)}static required(R){return function He(O){return Rt(O.value)?{required:!0}:null}(R)}static requiredTrue(R){return function Ke(O){return!0===O.value?null:{required:!0}}(R)}static email(R){return function Ae(O){return Rt(O.value)||Ce.test(O.value)?null:{email:!0}}(R)}static minLength(R){return function Yt(O){return R=>Rt(R.value)||!It(R.value)?null:R.value.length<O?{minlength:{requiredLength:O,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function tn(O){return R=>It(R.value)&&R.value.length>O?{maxlength:{requiredLength:O,actualLength:R.value.length}}:null}(R)}static pattern(R){return function ur(O){if(!O)return Vt;let R,C;return"string"==typeof O?(C="","^"!==O.charAt(0)&&(C+="^"),C+=O,"$"!==O.charAt(O.length-1)&&(C+="$"),R=new RegExp(C)):(C=O.toString(),R=O),K=>{if(Rt(K.value))return null;const De=K.value;return R.test(De)?null:{pattern:{requiredPattern:C,actualValue:De}}}}(R)}static nullValidator(R){return null}static compose(R){return Sn(R)}static composeAsync(R){return xn(R)}}function Vt(O){return null}function Pr(O){return null!=O}function Hn(O){const R=(0,w.QGY)(O)?(0,fe.D)(O):O;return(0,w.CqO)(R),R}function $n(O){let R={};return O.forEach(C=>{R=null!=C?Object.assign(Object.assign({},R),C):R}),0===Object.keys(R).length?null:R}function pr(O,R){return R.map(C=>C(O))}function gr(O){return O.map(R=>function br(O){return!O.validate}(R)?R:C=>R.validate(C))}function Sn(O){if(!O)return null;const R=O.filter(Pr);return 0==R.length?null:function(C){return $n(pr(C,R))}}function Nn(O){return null!=O?Sn(gr(O)):null}function xn(O){if(!O)return null;const R=O.filter(Pr);return 0==R.length?null:function(C){return function Q(...O){const R=(0,Ve.jO)(O),{args:C,keys:K}=(0,Te.D)(O),De=new ve.y(Zt=>{const{length:ar}=C;if(!ar)return void Zt.complete();const hi=new Array(ar);let si=ar,Ts=ar;for(let Ps=0;Ps<ar;Ps++){let Cs=!1;(0,ge.Xf)(C[Ps]).subscribe(new We.Q(Zt,ot=>{Cs||(Cs=!0,Ts--),hi[Ps]=ot},()=>si--,void 0,()=>{(!si||!Cs)&&(Ts||Zt.next(K?(0,Ye.n)(K,hi):hi),Zt.complete())}))}});return R?De.pipe((0,ke.Z)(R)):De}(pr(C,R).map(Hn)).pipe((0,Ze.U)($n))}}function en(O){return null!=O?xn(gr(O)):null}function nr(O,R){return null===O?[R]:Array.isArray(O)?[...O,R]:[O,R]}function zr(O){return O._rawValidators}function mi(O){return O._rawAsyncValidators}function pn(O){return O?Array.isArray(O)?O:[O]:[]}function rr(O,R){return Array.isArray(O)?O.includes(R):O===R}function yi(O,R){const C=pn(R);return pn(O).forEach(De=>{rr(C,De)||C.push(De)}),C}function xr(O,R){return pn(R).filter(C=>!rr(O,C))}class Wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=Nn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,C){return!!this.control&&this.control.hasError(R,C)}getError(R,C){return this.control?this.control.getError(R,C):null}}class tt extends Wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gn extends Wr{get formDirective(){return null}get path(){return null}}class $r{constructor(R){this._cd=R}is(R){var C,K,De;return"submitted"===R?!!(null===(C=this._cd)||void 0===C?void 0:C.submitted):!!(null===(De=null===(K=this._cd)||void 0===K?void 0:K.control)||void 0===De?void 0:De[R])}}let ye=(()=>{class O extends $r{constructor(C){super(C)}}return O.\u0275fac=function(C){return new(C||O)(w.Y36(tt,2))},O.\u0275dir=w.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,K){2&C&&w.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))},features:[w.qOj]}),O})(),st=(()=>{class O extends $r{constructor(C){super(C)}}return O.\u0275fac=function(C){return new(C||O)(w.Y36(gn,10))},O.\u0275dir=w.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,K){2&C&&w.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))("ng-submitted",K.is("submitted"))},features:[w.qOj]}),O})();function Pt(O,R){_e(O,R),R.valueAccessor.writeValue(O.value),function xe(O,R){R.valueAccessor.registerOnChange(C=>{O._pendingValue=C,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&Jt(O,R)})}(O,R),function Yn(O,R){const C=(K,De)=>{R.valueAccessor.writeValue(K),De&&R.viewToModelUpdate(K)};O.registerOnChange(C),R._registerOnDestroy(()=>{O._unregisterOnChange(C)})}(O,R),function xt(O,R){R.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&Jt(O,R),"submit"!==O.updateOn&&O.markAsTouched()})}(O,R),function ae(O,R){if(R.valueAccessor.setDisabledState){const C=K=>{R.valueAccessor.setDisabledState(K)};O.registerOnDisabledChange(C),R._registerOnDestroy(()=>{O._unregisterOnDisabledChange(C)})}}(O,R)}function $t(O,R,C=!0){const K=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(K),R.valueAccessor.registerOnTouched(K)),Je(O,R),O&&(R._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function te(O,R){O.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(R)})}function _e(O,R){const C=zr(O);null!==R.validator?O.setValidators(nr(C,R.validator)):"function"==typeof C&&O.setValidators([C]);const K=mi(O);null!==R.asyncValidator?O.setAsyncValidators(nr(K,R.asyncValidator)):"function"==typeof K&&O.setAsyncValidators([K]);const De=()=>O.updateValueAndValidity();te(R._rawValidators,De),te(R._rawAsyncValidators,De)}function Je(O,R){let C=!1;if(null!==O){if(null!==R.validator){const De=zr(O);if(Array.isArray(De)&&De.length>0){const Zt=De.filter(ar=>ar!==R.validator);Zt.length!==De.length&&(C=!0,O.setValidators(Zt))}}if(null!==R.asyncValidator){const De=mi(O);if(Array.isArray(De)&&De.length>0){const Zt=De.filter(ar=>ar!==R.asyncValidator);Zt.length!==De.length&&(C=!0,O.setAsyncValidators(Zt))}}}const K=()=>{};return te(R._rawValidators,K),te(R._rawAsyncValidators,K),C}function Jt(O,R){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function $i(O,R){const C=O.indexOf(R);C>-1&&O.splice(C,1)}const sr="VALID",Vr="INVALID",hr="PENDING",ni="DISABLED";function _i(O){return(_r(O)?O.validators:O)||null}function ri(O){return Array.isArray(O)?Nn(O):O||null}function ci(O,R){return(_r(R)?R.asyncValidators:O)||null}function Rn(O){return Array.isArray(O)?en(O):O||null}function _r(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}const vr=O=>O instanceof Fr,dt=O=>O instanceof Kn,In=O=>O instanceof Ni;function Wn(O){return vr(O)?O.value:O.getRawValue()}function Mr(O,R){const C=dt(O),K=O.controls;if(!(C?Object.keys(K):K).length)throw new w.vHH(1e3,"");if(!K[R])throw new w.vHH(1001,"")}function Ln(O,R){dt(O),O._forEachChild((K,De)=>{if(void 0===R[De])throw new w.vHH(1002,"")})}class Er{constructor(R,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=C,this._composedValidatorFn=ri(this._rawValidators),this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===sr}get invalid(){return this.status===Vr}get pending(){return this.status==hr}get disabled(){return this.status===ni}get enabled(){return this.status!==ni}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=ri(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Rn(R)}addValidators(R){this.setValidators(yi(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(yi(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(xr(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(xr(R,this._rawAsyncValidators))}hasValidator(R){return rr(this._rawValidators,R)}hasAsyncValidator(R){return rr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=hr,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const C=this._parentMarkedDirty(R.onlySelf);this.status=ni,this.errors=null,this._forEachChild(K=>{K.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:C})),this._onDisabledChange.forEach(K=>K(!0))}enable(R={}){const C=this._parentMarkedDirty(R.onlySelf);this.status=sr,this._forEachChild(K=>{K.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:C})),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sr||this.status===hr)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ni:sr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=hr,this._hasOwnPendingAsyncValidator=!0;const C=Hn(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(K=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(K,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,C={}){this.errors=R,this._updateControlsErrors(!1!==C.emitEvent)}get(R){return function Ki(O,R,C){if(null==R||(Array.isArray(R)||(R=R.split(C)),Array.isArray(R)&&0===R.length))return null;let K=O;return R.forEach(De=>{K=dt(K)?K.controls.hasOwnProperty(De)?K.controls[De]:null:In(K)&&K.at(De)||null}),K}(this,R,".")}getError(R,C){const K=C?this.get(C):this;return K&&K.errors?K.errors[R]:null}hasError(R,C){return!!this.getError(R,C)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?ni:this.errors?Vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hr)?hr:this._anyControlsHaveStatus(Vr)?Vr:sr}_anyControlsHaveStatus(R){return this._anyControls(C=>C.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){_r(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fr extends Er{constructor(R=null,C,K){super(_i(C),ci(K,C)),this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(R,C={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(R,C={}){this.setValue(R,C)}reset(R=null,C={}){this._applyFormState(R),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){$i(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){$i(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class Kn extends Er{constructor(R,C,K){super(_i(C),ci(K,C)),this.controls=R,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,C){return this.controls[R]?this.controls[R]:(this.controls[R]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(R,C,K={}){this.registerControl(R,C),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(R,C={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(R,C,K={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],C&&this.registerControl(R,C),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,C={}){Ln(this,R),Object.keys(R).forEach(K=>{Mr(this,K),this.controls[K].setValue(R[K],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(R,C={}){null!=R&&(Object.keys(R).forEach(K=>{this.controls[K]&&this.controls[K].patchValue(R[K],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(R={},C={}){this._forEachChild((K,De)=>{K.reset(R[De],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(R,C,K)=>(R[K]=Wn(C),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(C,K)=>!!K._syncPendingControls()||C);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(C=>{const K=this.controls[C];K&&R(K,C)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const C of Object.keys(this.controls)){const K=this.controls[C];if(this.contains(C)&&R(K))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,C,K)=>((C.enabled||this.disabled)&&(R[K]=C.value),R))}_reduceChildren(R,C){let K=R;return this._forEachChild((De,Zt)=>{K=C(K,De,Zt)}),K}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ni extends Er{constructor(R,C,K){super(_i(C),ci(K,C)),this.controls=R,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,C={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(R,C,K={}){this.controls.splice(R,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(R,C={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(R,C,K={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),C&&(this.controls.splice(R,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,C={}){Ln(this,R),R.forEach((K,De)=>{Mr(this,De),this.at(De).setValue(K,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(R,C={}){null!=R&&(R.forEach((K,De)=>{this.at(De)&&this.at(De).patchValue(K,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(R=[],C={}){this._forEachChild((K,De)=>{K.reset(R[De],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(R=>Wn(R))}clear(R={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((C,K)=>!!K._syncPendingControls()||C,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((C,K)=>{R(C,K)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(C=>C.enabled&&R(C))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}let St=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275dir=w.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})(),Kr=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=w.oAB({type:O}),O.\u0275inj=w.cJS({}),O})();const ls=new w.OlP("NgModelWithFormControlWarning"),Go={provide:gn,useExisting:(0,w.Gpc)(()=>ks)};let ks=(()=>{class O extends gn{constructor(C,K){super(),this.validators=C,this.asyncValidators=K,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(C),this._setAsyncValidators(K)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Je(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const K=this.form.get(C.path);return Pt(K,C),K.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),K}getControl(C){return this.form.get(C.path)}removeControl(C){$t(C.control||null,C,!1),$i(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,K){this.form.get(C.path).setValue(K)}onSubmit(C){return this.submitted=!0,function ti(O,R){O._syncPendingControls(),R.forEach(C=>{const K=C.control;"submit"===K.updateOn&&K._pendingChange&&(C.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),!1}onReset(){this.resetForm()}resetForm(C){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const K=C.control,De=this.form.get(C.path);K!==De&&($t(K||null,C),vr(De)&&(Pt(De,C),C.control=De))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const K=this.form.get(C.path);(function dr(O,R){_e(O,R)})(K,C),K.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const K=this.form.get(C.path);K&&function Ut(O,R){return Je(O,R)}(K,C)&&K.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_e(this.form,this),this._oldForm&&Je(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(C){return new(C||O)(w.Y36(it,10),w.Y36(on,10))},O.\u0275dir=w.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(C,K){1&C&&w.NdJ("submit",function(Zt){return K.onSubmit(Zt)})("reset",function(){return K.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Go]),w.qOj,w.TTD]}),O})();const ro={provide:tt,useExisting:(0,w.Gpc)(()=>lr)};let lr=(()=>{class O extends tt{constructor(C,K,De,Zt,ar){super(),this._ngModelWarningConfig=ar,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(K),this._setAsyncValidators(De),this.valueAccessor=function Yr(O,R){if(!R)return null;let C,K,De;return Array.isArray(R),R.forEach(Zt=>{Zt.constructor===Ne?C=Zt:function yr(O){return Object.getPrototypeOf(O.constructor)===nt}(Zt)?K=Zt:De=Zt}),De||K||C||null}(0,Zt)}set isDisabled(C){}ngOnChanges(C){this._added||this._setUpControl(),function mr(O,R){if(!O.hasOwnProperty("model"))return!1;const C=O.model;return!!C.isFirstChange()||!Object.is(R,C.currentValue)}(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return function vt(O,R){return[...R.path,O]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(C){return new(C||O)(w.Y36(gn,13),w.Y36(it,10),w.Y36(on,10),w.Y36(pt,10),w.Y36(ls,8))},O.\u0275dir=w.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([ro]),w.qOj,w.TTD]}),O})(),Zn=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=w.oAB({type:O}),O.\u0275inj=w.cJS({imports:[[Kr]]}),O})(),zn=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=w.oAB({type:O}),O.\u0275inj=w.cJS({imports:[Zn]}),O})(),Tr=(()=>{class O{static withConfig(C){return{ngModule:O,providers:[{provide:ls,useValue:C.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=w.oAB({type:O}),O.\u0275inj=w.cJS({imports:[Zn]}),O})(),Jn=(()=>{class O{group(C,K=null){const De=this._reduceControls(C);let hi,Zt=null,ar=null;return null!=K&&(function or(O){return void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn}(K)?(Zt=null!=K.validators?K.validators:null,ar=null!=K.asyncValidators?K.asyncValidators:null,hi=null!=K.updateOn?K.updateOn:void 0):(Zt=null!=K.validator?K.validator:null,ar=null!=K.asyncValidator?K.asyncValidator:null)),new Kn(De,{asyncValidators:ar,updateOn:hi,validators:Zt})}control(C,K,De){return new Fr(C,K,De)}array(C,K,De){const Zt=C.map(ar=>this._createControl(ar));return new Ni(Zt,K,De)}_reduceControls(C){const K={};return Object.keys(C).forEach(De=>{K[De]=this._createControl(C[De])}),K}_createControl(C){return vr(C)||dt(C)||In(C)?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}}return O.\u0275fac=function(C){return new(C||O)},O.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:Tr}),O})()},1022:(Qt,ze,Z)=>{"use strict";Z.d(ze,{F0:()=>Jr,yS:()=>Xs,Bz:()=>Ha,lC:()=>Ie});var w=Z(1223),E=Z(7579);class ve extends E.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const _=super._subscribe(v);return!_.closed&&v.next(this._value),_}getValue(){const{hasError:v,thrownError:_,_value:x}=this;if(v)throw _;return this._throwIfClosed(),x}next(v){super.next(this._value=v)}}var Te=Z(8306),ge=Z(4742),Ve=Z(8996),We=Z(4671),ke=Z(3268),Ye=Z(7669),Q=Z(1810),fe=Z(5403),Ze=Z(9672);function pt(D,v,_){D?(0,Ze.f)(_,D,v):v()}const gt=(0,Z(3888).d)(D=>function(){D(this),this.name="EmptyError",this.message="no elements in sequence"});var Ot=Z(8189);function Wt(...D){return function Et(){return(0,Ot.J)(1)}()((0,Ve.D)(D,(0,Ye.yG)(D)))}var Ne=Z(8421);function Rt(D){return new Te.y(v=>{(0,Ne.Xf)(D()).subscribe(v)})}var It=Z(727),it=Z(4482);function on(){return(0,it.e)((D,v)=>{let _=null;D._refCount++;const x=new fe.Q(v,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(_=null);const F=D._connection,q=_;_=null,F&&(!q||F===q)&&F.unsubscribe(),v.unsubscribe()});D.subscribe(x),x.closed||(_=D.connect())})}class Ce extends Te.y{constructor(v,_){super(),this.source=v,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,it.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new It.w0;const _=this.getSubject();v.add(this.source.subscribe(new fe.Q(_,void 0,()=>{this._teardown(),_.complete()},x=>{this._teardown(),_.error(x)},()=>this._teardown()))),v.closed&&(this._connection=null,v=It.w0.EMPTY)}return v}refCount(){return on()(this)}}var oe=Z(9646),be=Z(515);function Fe(D,v){return(0,it.e)((_,x)=>{let F=null,q=0,ne=!1;const ce=()=>ne&&!F&&x.complete();_.subscribe(new fe.Q(x,Ge=>{null==F||F.unsubscribe();let Bt=0;const Fn=q++;(0,Ne.Xf)(D(Ge,Fn)).subscribe(F=new fe.Q(x,qt=>x.next(v?v(Ge,qt,Fn,Bt++):qt),()=>{F=null,ce()}))},()=>{ne=!0,ce()}))})}function Ke(D,v,_,x,F){return(q,ne)=>{let ce=_,Ge=v,Bt=0;q.subscribe(new fe.Q(ne,Fn=>{const qt=Bt++;Ge=ce?D(Ge,Fn,qt):(ce=!0,Fn),x&&ne.next(Ge)},F&&(()=>{ce&&ne.next(Ge),ne.complete()})))}}function Ae(D,v){return(0,it.e)(Ke(D,v,arguments.length>=2,!0))}function Yt(D){return(0,it.e)((v,_)=>{let q,x=null,F=!1;x=v.subscribe(new fe.Q(_,void 0,void 0,ne=>{q=(0,Ne.Xf)(D(ne,Yt(D)(v))),x?(x.unsubscribe(),x=null,q.subscribe(_)):F=!0})),F&&(x.unsubscribe(),x=null,q.subscribe(_))})}var tn=Z(9300);function ur(D){return D<=0?()=>be.E:(0,it.e)((v,_)=>{let x=[];v.subscribe(new fe.Q(_,F=>{x.push(F),D<x.length&&x.shift()},()=>{for(const F of x)_.next(F);_.complete()},void 0,()=>{x=null}))})}function Vt(D=Pr){return(0,it.e)((v,_)=>{let x=!1;v.subscribe(new fe.Q(_,F=>{x=!0,_.next(F)},()=>x?_.complete():_.error(D())))})}function Pr(){return new gt}function Hn(D){return(0,it.e)((v,_)=>{let x=!1;v.subscribe(new fe.Q(_,F=>{x=!0,_.next(F)},()=>{x||_.next(D),_.complete()}))})}var pr=Z(5698);function br(D,v){const _=arguments.length>=2;return x=>x.pipe(D?(0,tn.h)((F,q)=>D(F,q,x)):We.y,(0,pr.q)(1),_?Hn(v):Vt(()=>new gt))}var Sn=Z(4004),Nn=Z(4351),xn=Z(5577),en=Z(8505),nr=Z(9808);class zr{constructor(v,_){this.id=v,this.url=_}}class mi extends zr{constructor(v,_,x="imperative",F=null){super(v,_),this.navigationTrigger=x,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends zr{constructor(v,_,x){super(v,_),this.urlAfterRedirects=x}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rr extends zr{constructor(v,_,x){super(v,_),this.reason=x}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yi extends zr{constructor(v,_,x){super(v,_),this.error=x}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xr extends zr{constructor(v,_,x,F){super(v,_),this.urlAfterRedirects=x,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends zr{constructor(v,_,x,F){super(v,_),this.urlAfterRedirects=x,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends zr{constructor(v,_,x,F,q){super(v,_),this.urlAfterRedirects=x,this.state=F,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends zr{constructor(v,_,x,F){super(v,_),this.urlAfterRedirects=x,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends zr{constructor(v,_,x,F){super(v,_),this.urlAfterRedirects=x,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pe{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ye{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ct{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(v,_,x){this.routerEvent=v,this.position=_,this.anchor=x}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class sn{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const _=this.params[v];return Array.isArray(_)?_[0]:_}return null}getAll(v){if(this.has(v)){const _=this.params[v];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Mn(D){return new sn(D)}const qn="ngNavigationCancelingError";function ir(D){const v=Error("NavigationCancelingError: "+D);return v[qn]=!0,v}function Pn(D,v,_){const x=_.path.split("/");if(x.length>D.length||"full"===_.pathMatch&&(v.hasChildren()||x.length<D.length))return null;const F={};for(let q=0;q<x.length;q++){const ne=x[q],ce=D[q];if(ne.startsWith(":"))F[ne.substring(1)]=ce;else if(ne!==ce.path)return null}return{consumed:D.slice(0,x.length),posParams:F}}function mn(D,v){const _=D?Object.keys(D):void 0,x=v?Object.keys(v):void 0;if(!_||!x||_.length!=x.length)return!1;let F;for(let q=0;q<_.length;q++)if(F=_[q],!yn(D[F],v[F]))return!1;return!0}function yn(D,v){if(Array.isArray(D)&&Array.isArray(v)){if(D.length!==v.length)return!1;const _=[...D].sort(),x=[...v].sort();return _.every((F,q)=>x[q]===F)}return D===v}function er(D){return Array.prototype.concat.apply([],D)}function kt(D){return D.length>0?D[D.length-1]:null}function vt(D,v){for(const _ in D)D.hasOwnProperty(_)&&v(D[_],_)}function Pt(D){return(0,w.CqO)(D)?D:(0,w.QGY)(D)?(0,Ve.D)(Promise.resolve(D)):(0,oe.of)(D)}const te={exact:function xe(D,v,_){if(!yr(D.segments,v.segments)||!dr(D.segments,v.segments,_)||D.numberOfChildren!==v.numberOfChildren)return!1;for(const x in v.children)if(!D.children[x]||!xe(D.children[x],v.children[x],_))return!1;return!0},subset:Jt},ae={exact:function Je(D,v){return mn(D,v)},subset:function xt(D,v){return Object.keys(v).length<=Object.keys(D).length&&Object.keys(v).every(_=>yn(D[_],v[_]))},ignored:()=>!0};function _e(D,v,_){return te[_.paths](D.root,v.root,_.matrixParams)&&ae[_.queryParams](D.queryParams,v.queryParams)&&!("exact"===_.fragment&&D.fragment!==v.fragment)}function Jt(D,v,_){return Yn(D,v,v.segments,_)}function Yn(D,v,_,x){if(D.segments.length>_.length){const F=D.segments.slice(0,_.length);return!(!yr(F,_)||v.hasChildren()||!dr(F,_,x))}if(D.segments.length===_.length){if(!yr(D.segments,_)||!dr(D.segments,_,x))return!1;for(const F in v.children)if(!D.children[F]||!Jt(D.children[F],v.children[F],x))return!1;return!0}{const F=_.slice(0,D.segments.length),q=_.slice(D.segments.length);return!!(yr(D.segments,F)&&dr(D.segments,F,x)&&D.children[Qe])&&Yn(D.children[Qe],v,q,x)}}function dr(D,v,_){return v.every((x,F)=>ae[_](D[F].parameters,x.parameters))}class Ut{constructor(v,_,x){this.root=v,this.queryParams=_,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Js.serialize(this)}}class nn{constructor(v,_){this.segments=v,this.children=_,this.parent=null,vt(_,(x,F)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tr(this)}}class _n{constructor(v,_){this.path=v,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return ci(this)}}function yr(D,v){return D.length===v.length&&D.every((_,x)=>_.path===v[x].path)}class Yr{}class $i{parse(v){const _=new Er(v);return new Ut(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(v){const _=`/${sr(v.root,!0)}`,x=function _r(D){const v=Object.keys(D).map(_=>{const x=D[_];return Array.isArray(x)?x.map(F=>`${hr(_)}=${hr(F)}`).join("&"):`${hr(_)}=${hr(x)}`}).filter(_=>!!_);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${_}${x}${"string"==typeof v.fragment?`#${function ni(D){return encodeURI(D)}(v.fragment)}`:""}`}}const Js=new $i;function tr(D){return D.segments.map(v=>ci(v)).join("/")}function sr(D,v){if(!D.hasChildren())return tr(D);if(v){const _=D.children[Qe]?sr(D.children[Qe],!1):"",x=[];return vt(D.children,(F,q)=>{q!==Qe&&x.push(`${q}:${sr(F,!1)}`)}),x.length>0?`${_}(${x.join("//")})`:_}{const _=function ti(D,v){let _=[];return vt(D.children,(x,F)=>{F===Qe&&(_=_.concat(v(x,F)))}),vt(D.children,(x,F)=>{F!==Qe&&(_=_.concat(v(x,F)))}),_}(D,(x,F)=>F===Qe?[sr(D.children[Qe],!1)]:[`${F}:${sr(x,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Qe]?`${tr(D)}/${_[0]}`:`${tr(D)}/(${_.join("//")})`}}function Vr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hr(D){return Vr(D).replace(/%3B/gi,";")}function Ki(D){return Vr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _i(D){return decodeURIComponent(D)}function ri(D){return _i(D.replace(/\+/g,"%20"))}function ci(D){return`${Ki(D.path)}${function Rn(D){return Object.keys(D).map(v=>`;${Ki(v)}=${Ki(D[v])}`).join("")}(D.parameters)}`}const vr=/^[^\/()?;=#]+/;function dt(D){const v=D.match(vr);return v?v[0]:""}const In=/^[^=?&#]+/,Mr=/^[^&#]+/;class Er{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(v.length>0||Object.keys(_).length>0)&&(x[Qe]=new nn(v,_)),x}parseSegment(){const v=dt(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new _n(_i(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const _=dt(this.remaining);if(!_)return;this.capture(_);let x="";if(this.consumeOptional("=")){const F=dt(this.remaining);F&&(x=F,this.capture(x))}v[_i(_)]=_i(x)}parseQueryParam(v){const _=function Wn(D){const v=D.match(In);return v?v[0]:""}(this.remaining);if(!_)return;this.capture(_);let x="";if(this.consumeOptional("=")){const ne=function Ln(D){const v=D.match(Mr);return v?v[0]:""}(this.remaining);ne&&(x=ne,this.capture(x))}const F=ri(_),q=ri(x);if(v.hasOwnProperty(F)){let ne=v[F];Array.isArray(ne)||(ne=[ne],v[F]=ne),ne.push(q)}else v[F]=q}parseParens(v){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=dt(this.remaining),F=this.remaining[x.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let q;x.indexOf(":")>-1?(q=x.substr(0,x.indexOf(":")),this.capture(q),this.capture(":")):v&&(q=Qe);const ne=this.parseChildren();_[q]=1===Object.keys(ne).length?ne[Qe]:new nn([],ne),this.consumeOptional("//")}return _}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class Fr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const _=this.pathFromRoot(v);return _.length>1?_[_.length-2]:null}children(v){const _=Kn(v,this._root);return _?_.children.map(x=>x.value):[]}firstChild(v){const _=Kn(v,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(v){const _=Ni(v,this._root);return _.length<2?[]:_[_.length-2].children.map(F=>F.value).filter(F=>F!==v)}pathFromRoot(v){return Ni(v,this._root).map(_=>_.value)}}function Kn(D,v){if(D===v.value)return v;for(const _ of v.children){const x=Kn(D,_);if(x)return x}return null}function Ni(D,v){if(D===v.value)return[v];for(const _ of v.children){const x=Ni(D,_);if(x.length)return x.unshift(v),x}return[]}class Rr{constructor(v,_){this.value=v,this.children=_}toString(){return`TreeNode(${this.value})`}}function Xt(D){const v={};return D&&D.children.forEach(_=>v[_.value.outlet]=_),v}class Ci extends Fr{constructor(v,_){super(v),this.snapshot=_,ie(this,v)}toString(){return this.snapshot.toString()}}function kr(D,v){const _=function as(D,v){const ne=new re([],{},{},"",{},Qe,v,null,D.root,-1,{});return new W("",new Rr(ne,[]))}(D,v),x=new ve([new _n("",{})]),F=new ve({}),q=new ve({}),ne=new ve({}),ce=new ve(""),Ge=new di(x,F,ne,ce,q,Qe,v,_.root);return Ge.snapshot=_.root,new Ci(new Rr(Ge,[]),_)}class di{constructor(v,_,x,F,q,ne,ce,Ge){this.url=v,this.params=_,this.queryParams=x,this.fragment=F,this.data=q,this.outlet=ne,this.component=ce,this._futureSnapshot=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Sn.U)(v=>Mn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Sn.U)(v=>Mn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(D,v="emptyOnly"){const _=D.pathFromRoot;let x=0;if("always"!==v)for(x=_.length-1;x>=1;){const F=_[x],q=_[x-1];if(F.routeConfig&&""===F.routeConfig.path)x--;else{if(q.component)break;x--}}return function se(D){return D.reduce((v,_)=>({params:Object.assign(Object.assign({},v.params),_.params),data:Object.assign(Object.assign({},v.data),_.data),resolve:Object.assign(Object.assign({},v.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(x))}class re{constructor(v,_,x,F,q,ne,ce,Ge,Bt,Fn,qt){this.url=v,this.params=_,this.queryParams=x,this.fragment=F,this.data=q,this.outlet=ne,this.component=ce,this.routeConfig=Ge,this._urlSegment=Bt,this._lastPathIndex=Fn,this._resolve=qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W extends Fr{constructor(v,_){super(_),this.url=v,ie(this,_)}toString(){return Oe(this._root)}}function ie(D,v){v.value._routerState=D,v.children.forEach(_=>ie(D,_))}function Oe(D){const v=D.children.length>0?` { ${D.children.map(Oe).join(", ")} } `:"";return`${D.value}${v}`}function ut(D){if(D.snapshot){const v=D.snapshot,_=D._futureSnapshot;D.snapshot=_,mn(v.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),v.fragment!==_.fragment&&D.fragment.next(_.fragment),mn(v.params,_.params)||D.params.next(_.params),function bt(D,v){if(D.length!==v.length)return!1;for(let _=0;_<D.length;++_)if(!mn(D[_],v[_]))return!1;return!0}(v.url,_.url)||D.url.next(_.url),mn(v.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function St(D,v){const _=mn(D.params,v.params)&&function mr(D,v){return yr(D,v)&&D.every((_,x)=>mn(_.parameters,v[x].parameters))}(D.url,v.url);return _&&!(!D.parent!=!v.parent)&&(!D.parent||St(D.parent,v.parent))}function Qn(D,v,_){if(_&&D.shouldReuseRoute(v.value,_.value.snapshot)){const x=_.value;x._futureSnapshot=v.value;const F=function us(D,v,_){return v.children.map(x=>{for(const F of _.children)if(D.shouldReuseRoute(x.value,F.value.snapshot))return Qn(D,x,F);return Qn(D,x)})}(D,v,_);return new Rr(x,F)}{if(D.shouldAttach(v.value)){const q=D.retrieve(v.value);if(null!==q){const ne=q.route;return ne.value._futureSnapshot=v.value,ne.children=v.children.map(ce=>Qn(D,ce)),ne}}const x=function Gs(D){return new di(new ve(D.url),new ve(D.params),new ve(D.queryParams),new ve(D.fragment),new ve(D.data),D.outlet,D.component,D)}(v.value),F=v.children.map(q=>Qn(D,q));return new Rr(x,F)}}function Hs(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function vi(D){return"object"==typeof D&&null!=D&&D.outlets}function ii(D,v,_,x,F){let q={};return x&&vt(x,(ne,ce)=>{q[ce]=Array.isArray(ne)?ne.map(Ge=>`${Ge}`):`${ne}`}),new Ut(_.root===D?v:Ai(_.root,D,v),q,F)}function Ai(D,v,_){const x={};return vt(D.children,(F,q)=>{x[q]=F===v?_:Ai(F,v,_)}),new nn(D.segments,x)}class ls{constructor(v,_,x){if(this.isAbsolute=v,this.numberOfDoubleDots=_,this.commands=x,v&&x.length>0&&Hs(x[0]))throw new Error("Root segment cannot have matrix parameters");const F=x.find(vi);if(F&&F!==kt(x))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Is{constructor(v,_,x){this.segmentGroup=v,this.processChildren=_,this.index=x}}function Si(D,v,_){if(D||(D=new nn([],{})),0===D.segments.length&&D.hasChildren())return Gi(D,v,_);const x=function Zi(D,v,_){let x=0,F=v;const q={match:!1,pathIndex:0,commandIndex:0};for(;F<D.segments.length;){if(x>=_.length)return q;const ne=D.segments[F],ce=_[x];if(vi(ce))break;const Ge=`${ce}`,Bt=x<_.length-1?_[x+1]:null;if(F>0&&void 0===Ge)break;if(Ge&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!ms(Ge,Bt,ne))return q;x+=2}else{if(!ms(Ge,{},ne))return q;x++}F++}return{match:!0,pathIndex:F,commandIndex:x}}(D,v,_),F=_.slice(x.commandIndex);if(x.match&&x.pathIndex<D.segments.length){const q=new nn(D.segments.slice(0,x.pathIndex),{});return q.children[Qe]=new nn(D.segments.slice(x.pathIndex),D.children),Gi(q,0,F)}return x.match&&0===F.length?new nn(D.segments,{}):x.match&&!D.hasChildren()?Os(D,v,_):x.match?Gi(D,0,F):Os(D,v,_)}function Gi(D,v,_){if(0===_.length)return new nn(D.segments,{});{const x=function Eo(D){return vi(D[0])?D[0].outlets:{[Qe]:D}}(_),F={};return vt(x,(q,ne)=>{"string"==typeof q&&(q=[q]),null!==q&&(F[ne]=Si(D.children[ne],v,q))}),vt(D.children,(q,ne)=>{void 0===x[ne]&&(F[ne]=q)}),new nn(D.segments,F)}}function Os(D,v,_){const x=D.segments.slice(0,v);let F=0;for(;F<_.length;){const q=_[F];if(vi(q)){const Ge=ro(q.outlets);return new nn(x,Ge)}if(0===F&&Hs(_[0])){x.push(new _n(D.segments[v].path,lr(_[0]))),F++;continue}const ne=vi(q)?q.outlets[Qe]:`${q}`,ce=F<_.length-1?_[F+1]:null;ne&&ce&&Hs(ce)?(x.push(new _n(ne,lr(ce))),F+=2):(x.push(new _n(ne,{})),F++)}return new nn(x,{})}function ro(D){const v={};return vt(D,(_,x)=>{"string"==typeof _&&(_=[_]),null!==_&&(v[x]=Os(new nn([],{}),0,_))}),v}function lr(D){const v={};return vt(D,(_,x)=>v[x]=`${_}`),v}function ms(D,v,_){return D==_.path&&mn(v,_.parameters)}class _s{constructor(v,_,x,F){this.routeReuseStrategy=v,this.futureState=_,this.currState=x,this.forwardEvent=F}activate(v){const _=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,x,v),ut(this.futureState.root),this.activateChildRoutes(_,x,v)}deactivateChildRoutes(v,_,x){const F=Xt(_);v.children.forEach(q=>{const ne=q.value.outlet;this.deactivateRoutes(q,F[ne],x),delete F[ne]}),vt(F,(q,ne)=>{this.deactivateRouteAndItsChildren(q,x)})}deactivateRoutes(v,_,x){const F=v.value,q=_?_.value:null;if(F===q)if(F.component){const ne=x.getContext(F.outlet);ne&&this.deactivateChildRoutes(v,_,ne.children)}else this.deactivateChildRoutes(v,_,x);else q&&this.deactivateRouteAndItsChildren(_,x)}deactivateRouteAndItsChildren(v,_){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,_):this.deactivateRouteAndOutlet(v,_)}detachAndStoreRouteSubtree(v,_){const x=_.getContext(v.value.outlet),F=x&&v.value.component?x.children:_,q=Xt(v);for(const ne of Object.keys(q))this.deactivateRouteAndItsChildren(q[ne],F);if(x&&x.outlet){const ne=x.outlet.detach(),ce=x.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:ne,route:v,contexts:ce})}}deactivateRouteAndOutlet(v,_){const x=_.getContext(v.value.outlet),F=x&&v.value.component?x.children:_,q=Xt(v);for(const ne of Object.keys(q))this.deactivateRouteAndItsChildren(q[ne],F);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(v,_,x){const F=Xt(_);v.children.forEach(q=>{this.activateRoutes(q,F[q.value.outlet],x),this.forwardEvent(new Ct(q.value.snapshot))}),v.children.length&&this.forwardEvent(new st(v.value.snapshot))}activateRoutes(v,_,x){const F=v.value,q=_?_.value:null;if(ut(F),F===q)if(F.component){const ne=x.getOrCreateContext(F.outlet);this.activateChildRoutes(v,_,ne.children)}else this.activateChildRoutes(v,_,x);else if(F.component){const ne=x.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ce=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ne.children.onOutletReAttached(ce.contexts),ne.attachRef=ce.componentRef,ne.route=ce.route.value,ne.outlet&&ne.outlet.attach(ce.componentRef,ce.route.value),ut(ce.route.value),this.activateChildRoutes(v,null,ne.children)}else{const ce=function zs(D){for(let v=D.parent;v;v=v.parent){const _=v.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(F.snapshot),Ge=ce?ce.module.componentFactoryResolver:null;ne.attachRef=null,ne.route=F,ne.resolver=Ge,ne.outlet&&ne.outlet.activateWith(F,Ge),this.activateChildRoutes(v,null,ne.children)}}else this.activateChildRoutes(v,null,x)}}class Ns{constructor(v,_){this.routes=v,this.module=_}}function Ds(D){return"function"==typeof D}function Dr(D){return D instanceof Ut}const G=Symbol("INITIAL_VALUE");function V(){return Fe(D=>function Dt(...D){const v=(0,Ye.yG)(D),_=(0,Ye.jO)(D),{args:x,keys:F}=(0,ge.D)(D);if(0===x.length)return(0,Ve.D)([],v);const q=new Te.y(function nt(D,v,_=We.y){return x=>{pt(v,()=>{const{length:F}=D,q=new Array(F);let ne=F,ce=F;for(let Ge=0;Ge<F;Ge++)pt(v,()=>{const Bt=(0,Ve.D)(D[Ge],v);let Fn=!1;Bt.subscribe(new fe.Q(x,qt=>{q[Ge]=qt,Fn||(Fn=!0,ce--),ce||x.next(_(q.slice()))},()=>{--ne||x.complete()}))},x)},x)}}(x,v,F?ne=>(0,Q.n)(F,ne):We.y));return _?q.pipe((0,ke.Z)(_)):q}(D.map(v=>v.pipe((0,pr.q)(1),function He(...D){const v=(0,Ye.yG)(D);return(0,it.e)((_,x)=>{(v?Wt(D,_,v):Wt(D,_)).subscribe(x)})}(G)))).pipe(Ae((v,_)=>{let x=!1;return _.reduce((F,q,ne)=>F!==G?F:(q===G&&(x=!0),x||!1!==q&&ne!==_.length-1&&!Dr(q)?F:q),v)},G),(0,tn.h)(v=>v!==G),(0,Sn.U)(v=>Dr(v)?v:!0===v),(0,pr.q)(1)))}class ee{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new le,this.attachRef=null}}class le{constructor(){this.contexts=new Map}onChildOutletCreated(v,_){const x=this.getOrCreateContext(v);x.outlet=_,this.contexts.set(v,x)}onChildOutletDestroyed(v){const _=this.getContext(v);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let _=this.getContext(v);return _||(_=new ee,this.contexts.set(v,_)),_}getContext(v){return this.contexts.get(v)||null}}let Ie=(()=>{class D{constructor(_,x,F,q,ne){this.parentContexts=_,this.location=x,this.resolver=F,this.changeDetector=ne,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=q||Qe,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,x){this.activated=_,this._activatedRoute=x,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,x){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const ne=(x=x||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),ce=this.parentContexts.getOrCreateContext(this.name).children,Ge=new Be(_,ce,this.location.injector);this.activated=this.location.createComponent(ne,this.location.length,Ge),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)(w.Y36(le),w.Y36(w.s_b),w.Y36(w._Vd),w.$8M("name"),w.Y36(w.sBO))},D.\u0275dir=w.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class Be{constructor(v,_,x){this.route=v,this.childContexts=_,this.parent=x}get(v,_){return v===di?this.route:v===le?this.childContexts:this.parent.get(v,_)}}let _t=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=w.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,x){1&_&&w._UZ(0,"router-outlet")},directives:[Ie],encapsulation:2}),D})();function Kt(D,v=""){for(let _=0;_<D.length;_++){const x=D[_];S(x,j(v,x))}}function S(D,v){D.children&&Kt(D.children,v)}function j(D,v){return v?D||v.path?D&&!v.path?`${D}/`:!D&&v.path?v.path:`${D}/${v.path}`:"":D}function k(D){const v=D.children&&D.children.map(k),_=v?Object.assign(Object.assign({},D),{children:v}):Object.assign({},D);return!_.component&&(v||_.loadChildren)&&_.outlet&&_.outlet!==Qe&&(_.component=_t),_}function z(D){return D.outlet||Qe}function ue(D,v){const _=D.filter(x=>z(x)===v);return _.push(...D.filter(x=>z(x)!==v)),_}const Se={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xe(D,v,_){var x;if(""===v.path)return"full"===v.pathMatch&&(D.hasChildren()||_.length>0)?Object.assign({},Se):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const q=(v.matcher||Pn)(_,D,v);if(!q)return Object.assign({},Se);const ne={};vt(q.posParams,(Ge,Bt)=>{ne[Bt]=Ge.path});const ce=q.consumed.length>0?Object.assign(Object.assign({},ne),q.consumed[q.consumed.length-1].parameters):ne;return{matched:!0,consumedSegments:q.consumed,lastChild:q.consumed.length,parameters:ce,positionalParamSegments:null!==(x=q.posParams)&&void 0!==x?x:{}}}function At(D,v,_,x,F="corrected"){if(_.length>0&&function Vn(D,v,_){return _.some(x=>dn(D,v,x)&&z(x)!==Qe)}(D,_,x)){const ne=new nn(v,function Cn(D,v,_,x){const F={};F[Qe]=x,x._sourceSegment=D,x._segmentIndexShift=v.length;for(const q of _)if(""===q.path&&z(q)!==Qe){const ne=new nn([],{});ne._sourceSegment=D,ne._segmentIndexShift=v.length,F[z(q)]=ne}return F}(D,v,x,new nn(_,D.children)));return ne._sourceSegment=D,ne._segmentIndexShift=v.length,{segmentGroup:ne,slicedSegments:[]}}if(0===_.length&&function un(D,v,_){return _.some(x=>dn(D,v,x))}(D,_,x)){const ne=new nn(D.segments,function Mt(D,v,_,x,F,q){const ne={};for(const ce of x)if(dn(D,_,ce)&&!F[z(ce)]){const Ge=new nn([],{});Ge._sourceSegment=D,Ge._segmentIndexShift="legacy"===q?D.segments.length:v.length,ne[z(ce)]=Ge}return Object.assign(Object.assign({},F),ne)}(D,v,_,x,D.children,F));return ne._sourceSegment=D,ne._segmentIndexShift=v.length,{segmentGroup:ne,slicedSegments:_}}const q=new nn(D.segments,D.children);return q._sourceSegment=D,q._segmentIndexShift=v.length,{segmentGroup:q,slicedSegments:_}}function dn(D,v,_){return(!(D.hasChildren()||v.length>0)||"full"!==_.pathMatch)&&""===_.path}function Zn(D,v,_,x){return!!(z(D)===x||x!==Qe&&dn(v,_,D))&&("**"===D.path||Xe(v,D,_).matched)}function zn(D,v,_){return 0===v.length&&!D.children[_]}class Tr{constructor(v){this.segmentGroup=v||null}}class or{constructor(v){this.urlTree=v}}function Jn(D){return new Te.y(v=>v.error(new Tr(D)))}function Qi(D){return new Te.y(v=>v.error(new or(D)))}function O(D){return new Te.y(v=>v.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class K{constructor(v,_,x,F,q){this.configLoader=_,this.urlSerializer=x,this.urlTree=F,this.config=q,this.allowRedirects=!0,this.ngModule=v.get(w.h0i)}apply(){const v=At(this.urlTree.root,[],[],this.config).segmentGroup,_=new nn(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,_,Qe).pipe((0,Sn.U)(q=>this.createUrlTree(Zt(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yt(q=>{if(q instanceof or)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Tr?this.noMatchError(q):q}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,Qe).pipe((0,Sn.U)(F=>this.createUrlTree(Zt(F),v.queryParams,v.fragment))).pipe(Yt(F=>{throw F instanceof Tr?this.noMatchError(F):F}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,_,x){const F=v.segments.length>0?new nn([],{[Qe]:v}):v;return new Ut(F,_,x)}expandSegmentGroup(v,_,x,F){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(v,_,x).pipe((0,Sn.U)(q=>new nn([],q))):this.expandSegment(v,x,_,x.segments,F,!0)}expandChildren(v,_,x){const F=[];for(const q of Object.keys(x.children))"primary"===q?F.unshift(q):F.push(q);return(0,Ve.D)(F).pipe((0,Nn.b)(q=>{const ne=x.children[q],ce=ue(_,q);return this.expandSegmentGroup(v,ce,ne,q).pipe((0,Sn.U)(Ge=>({segment:Ge,outlet:q})))}),Ae((q,ne)=>(q[ne.outlet]=ne.segment,q),{}),function $n(D,v){const _=arguments.length>=2;return x=>x.pipe(D?(0,tn.h)((F,q)=>D(F,q,x)):We.y,ur(1),_?Hn(v):Vt(()=>new gt))}())}expandSegment(v,_,x,F,q,ne){return(0,Ve.D)(x).pipe((0,Nn.b)(ce=>this.expandSegmentAgainstRoute(v,_,x,ce,F,q,ne).pipe(Yt(Bt=>{if(Bt instanceof Tr)return(0,oe.of)(null);throw Bt}))),br(ce=>!!ce),Yt((ce,Ge)=>{if(ce instanceof gt||"EmptyError"===ce.name){if(zn(_,F,q))return(0,oe.of)(new nn([],{}));throw new Tr(_)}throw ce}))}expandSegmentAgainstRoute(v,_,x,F,q,ne,ce){return Zn(F,_,q,ne)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(v,_,F,q,ne):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,_,x,F,q,ne):Jn(_):Jn(_)}expandSegmentAgainstRouteUsingRedirect(v,_,x,F,q,ne){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,x,F,ne):this.expandRegularSegmentAgainstRouteUsingRedirect(v,_,x,F,q,ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,_,x,F){const q=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?Qi(q):this.lineralizeSegments(x,q).pipe((0,xn.z)(ne=>{const ce=new nn(ne,{});return this.expandSegment(v,ce,_,ne,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,_,x,F,q,ne){const{matched:ce,consumedSegments:Ge,lastChild:Bt,positionalParamSegments:Fn}=Xe(_,F,q);if(!ce)return Jn(_);const qt=this.applyRedirectCommands(Ge,F.redirectTo,Fn);return F.redirectTo.startsWith("/")?Qi(qt):this.lineralizeSegments(F,qt).pipe((0,xn.z)(wr=>this.expandSegment(v,_,x,wr.concat(q.slice(Bt)),ne,!1)))}matchSegmentAgainstRoute(v,_,x,F,q){if("**"===x.path)return x.loadChildren?(x._loadedConfig?(0,oe.of)(x._loadedConfig):this.configLoader.load(v.injector,x)).pipe((0,Sn.U)(wr=>(x._loadedConfig=wr,new nn(F,{})))):(0,oe.of)(new nn(F,{}));const{matched:ne,consumedSegments:ce,lastChild:Ge}=Xe(_,x,F);if(!ne)return Jn(_);const Bt=F.slice(Ge);return this.getChildConfig(v,x,F).pipe((0,xn.z)(qt=>{const wr=qt.module,we=qt.routes,{segmentGroup:Ji,slicedSegments:Ei}=At(_,ce,Bt,we),fr=new nn(Ji.segments,Ji.children);if(0===Ei.length&&fr.hasChildren())return this.expandChildren(wr,we,fr).pipe((0,Sn.U)(Oi=>new nn(ce,Oi)));if(0===we.length&&0===Ei.length)return(0,oe.of)(new nn(ce,{}));const hs=z(x)===q;return this.expandSegment(wr,fr,we,Ei,hs?Qe:q,!0).pipe((0,Sn.U)(Li=>new nn(ce.concat(Li.segments),Li.children)))}))}getChildConfig(v,_,x){return _.children?(0,oe.of)(new Ns(_.children,v)):_.loadChildren?void 0!==_._loadedConfig?(0,oe.of)(_._loadedConfig):this.runCanLoadGuards(v.injector,_,x).pipe((0,xn.z)(F=>F?this.configLoader.load(v.injector,_).pipe((0,Sn.U)(q=>(_._loadedConfig=q,q))):function R(D){return new Te.y(v=>v.error(ir(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`)))}(_))):(0,oe.of)(new Ns([],v))}runCanLoadGuards(v,_,x){const F=_.canLoad;if(!F||0===F.length)return(0,oe.of)(!0);const q=F.map(ne=>{const ce=v.get(ne);let Ge;if(function cs(D){return D&&Ds(D.canLoad)}(ce))Ge=ce.canLoad(_,x);else{if(!Ds(ce))throw new Error("Invalid CanLoad guard");Ge=ce(_,x)}return Pt(Ge)});return(0,oe.of)(q).pipe(V(),(0,en.b)(ne=>{if(!Dr(ne))return;const ce=ir(`Redirecting to "${this.urlSerializer.serialize(ne)}"`);throw ce.url=ne,ce}),(0,Sn.U)(ne=>!0===ne))}lineralizeSegments(v,_){let x=[],F=_.root;for(;;){if(x=x.concat(F.segments),0===F.numberOfChildren)return(0,oe.of)(x);if(F.numberOfChildren>1||!F.children[Qe])return O(v.redirectTo);F=F.children[Qe]}}applyRedirectCommands(v,_,x){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),v,x)}applyRedirectCreatreUrlTree(v,_,x,F){const q=this.createSegmentGroup(v,_.root,x,F);return new Ut(q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(v,_){const x={};return vt(v,(F,q)=>{if("string"==typeof F&&F.startsWith(":")){const ce=F.substring(1);x[q]=_[ce]}else x[q]=F}),x}createSegmentGroup(v,_,x,F){const q=this.createSegments(v,_.segments,x,F);let ne={};return vt(_.children,(ce,Ge)=>{ne[Ge]=this.createSegmentGroup(v,ce,x,F)}),new nn(q,ne)}createSegments(v,_,x,F){return _.map(q=>q.path.startsWith(":")?this.findPosParam(v,q,F):this.findOrReturn(q,x))}findPosParam(v,_,x){const F=x[_.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${v}'. Cannot find '${_.path}'.`);return F}findOrReturn(v,_){let x=0;for(const F of _){if(F.path===v.path)return _.splice(x),F;x++}return v}}function Zt(D){const v={};for(const x of Object.keys(D.children)){const q=Zt(D.children[x]);(q.segments.length>0||q.hasChildren())&&(v[x]=q)}return function De(D){if(1===D.numberOfChildren&&D.children[Qe]){const v=D.children[Qe];return new nn(D.segments.concat(v.segments),v.children)}return D}(new nn(D.segments,v))}class hi{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class si{constructor(v,_){this.component=v,this.route=_}}function Ts(D,v,_){const x=D._root;return Un(x,v?v._root:null,_,[x.value])}function Cs(D,v,_){const x=function ot(D){if(!D)return null;for(let v=D.parent;v;v=v.parent){const _=v.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(v);return(x?x.module.injector:_).get(D)}function Un(D,v,_,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=Xt(v);return D.children.forEach(ne=>{(function ua(D,v,_,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=D.value,ne=v?v.value:null,ce=_?_.getContext(D.value.outlet):null;if(ne&&q.routeConfig===ne.routeConfig){const Ge=function qr(D,v,_){if("function"==typeof _)return _(D,v);switch(_){case"pathParamsChange":return!yr(D.url,v.url);case"pathParamsOrQueryParamsChange":return!yr(D.url,v.url)||!mn(D.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!St(D,v)||!mn(D.queryParams,v.queryParams);default:return!St(D,v)}}(ne,q,q.routeConfig.runGuardsAndResolvers);Ge?F.canActivateChecks.push(new hi(x)):(q.data=ne.data,q._resolvedData=ne._resolvedData),Un(D,v,q.component?ce?ce.children:null:_,x,F),Ge&&ce&&ce.outlet&&ce.outlet.isActivated&&F.canDeactivateChecks.push(new si(ce.outlet.component,ne))}else ne&&io(v,ce,F),F.canActivateChecks.push(new hi(x)),Un(D,null,q.component?ce?ce.children:null:_,x,F)})(ne,q[ne.value.outlet],_,x.concat([ne.value]),F),delete q[ne.value.outlet]}),vt(q,(ne,ce)=>io(ne,_.getContext(ce),F)),F}function io(D,v,_){const x=Xt(D),F=D.value;vt(x,(q,ne)=>{io(q,F.component?v?v.children.getContext(ne):null:v,_)}),_.canDeactivateChecks.push(new si(F.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,F))}class Mi{}function ds(D){return new Te.y(v=>v.error(D))}class Ls{constructor(v,_,x,F,q,ne){this.rootComponentType=v,this.config=_,this.urlTree=x,this.url=F,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=ne}recognize(){const v=At(this.urlTree.root,[],[],this.config.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,v,Qe);if(null===_)return null;const x=new re([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new Rr(x,_),q=new W(this.url,F);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(v){const _=v.value,x=Qr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(x.params),_.data=Object.freeze(x.data),v.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(v,_,x){return 0===_.segments.length&&_.hasChildren()?this.processChildren(v,_):this.processSegment(v,_,_.segments,x)}processChildren(v,_){const x=[];for(const q of Object.keys(_.children)){const ne=_.children[q],ce=ue(v,q),Ge=this.processSegmentGroup(ce,ne,q);if(null===Ge)return null;x.push(...Ge)}const F=la(x);return function Pi(D){D.sort((v,_)=>v.value.outlet===Qe?-1:_.value.outlet===Qe?1:v.value.outlet.localeCompare(_.value.outlet))}(F),F}processSegment(v,_,x,F){for(const q of v){const ne=this.processSegmentAgainstRoute(q,_,x,F);if(null!==ne)return ne}return zn(_,x,F)?[]:null}processSegmentAgainstRoute(v,_,x,F){if(v.redirectTo||!Zn(v,_,x,F))return null;let q,ne=[],ce=[];if("**"===v.path){const we=x.length>0?kt(x).parameters:{};q=new re(x,we,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zo(v),z(v),v.component,v,qs(_),Hi(_)+x.length,ca(v))}else{const we=Xe(_,v,x);if(!we.matched)return null;ne=we.consumedSegments,ce=x.slice(we.lastChild),q=new re(ne,we.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zo(v),z(v),v.component,v,qs(_),Hi(_)+ne.length,ca(v))}const Ge=function bo(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(v),{segmentGroup:Bt,slicedSegments:Fn}=At(_,ne,ce,Ge.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution);if(0===Fn.length&&Bt.hasChildren()){const we=this.processChildren(Ge,Bt);return null===we?null:[new Rr(q,we)]}if(0===Ge.length&&0===Fn.length)return[new Rr(q,[])];const qt=z(v)===F,wr=this.processSegment(Ge,Bt,Fn,qt?Qe:F);return null===wr?null:[new Rr(q,wr)]}}function Bu(D){const v=D.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function la(D){const v=[],_=new Set;for(const x of D){if(!Bu(x)){v.push(x);continue}const F=v.find(q=>x.value.routeConfig===q.value.routeConfig);void 0!==F?(F.children.push(...x.children),_.add(F)):v.push(x)}for(const x of _){const F=la(x.children);v.push(new Rr(x.value,F))}return v.filter(x=>!_.has(x))}function qs(D){let v=D;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Hi(D){let v=D,_=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,_+=v._segmentIndexShift?v._segmentIndexShift:0;return _-1}function zo(D){return D.data||{}}function ca(D){return D.resolve||{}}function yu(D){return Fe(v=>{const _=D(v);return _?(0,Ve.D)(_).pipe((0,Sn.U)(()=>v)):(0,oe.of)(v)})}class ha extends class da{shouldDetach(v){return!1}store(v,_){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,_){return v.routeConfig===_.routeConfig}}{}const Al=new w.OlP("ROUTES");class Ri{constructor(v,_,x,F){this.injector=v,this.compiler=_,this.onLoadStartListener=x,this.onLoadEndListener=F}load(v,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const F=this.loadModuleFactory(_.loadChildren).pipe((0,Sn.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(_);const ne=q.create(v);return new Ns(er(ne.injector.get(Al,void 0,w.XFs.Self|w.XFs.Optional)).map(k),ne)}),Yt(q=>{throw _._loader$=void 0,q}));return _._loader$=new Ce(F,()=>new E.x).pipe(on()),_._loader$}loadModuleFactory(v){return Pt(v()).pipe((0,xn.z)(_=>_ instanceof w.YKP?(0,oe.of)(_):(0,Ve.D)(this.compiler.compileModuleAsync(_))))}}class Cr{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,_){return v}}function Io(D){throw D}function fa(D,v,_){return v.parse("/")}function _c(D,v){return(0,oe.of)(null)}const mt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class D{constructor(_,x,F,q,ne,ce,Ge){this.rootComponentType=_,this.urlSerializer=x,this.rootContexts=F,this.location=q,this.config=Ge,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new E.x,this.errorHandler=Io,this.malformedUriErrorHandler=fa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_c,afterPreactivation:_c},this.urlHandlingStrategy=new Cr,this.routeReuseStrategy=new ha,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ne.get(w.h0i),this.console=ne.get(w.c2e);const qt=ne.get(w.R0b);this.isNgZoneEnabled=qt instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(Ge),this.currentUrlTree=function $t(){return new Ut(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ri(ne,ce,wr=>this.triggerEvent(new qe(wr)),wr=>this.triggerEvent(new pe(wr))),this.routerState=kr(this.currentUrlTree,this.rootComponentType),this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const x=this.events;return _.pipe((0,tn.h)(F=>0!==F.id),(0,Sn.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),Fe(F=>{let q=!1,ne=!1;return(0,oe.of)(F).pipe((0,en.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.currentRawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fe(ce=>{const Ge=this.browserUrlTree.toString(),Bt=!this.navigated||ce.extractedUrl.toString()!==Ge||Ge!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return Gt(ce.source)&&(this.browserUrlTree=ce.extractedUrl),(0,oe.of)(ce).pipe(Fe(qt=>{const wr=this.transitions.getValue();return x.next(new mi(qt.id,this.serializeUrl(qt.extractedUrl),qt.source,qt.restoredState)),wr!==this.transitions.getValue()?be.E:Promise.resolve(qt)}),function ar(D,v,_,x){return Fe(F=>function C(D,v,_,x,F){return new K(D,v,_,x,F).apply()}(D,v,_,F.extractedUrl,x).pipe((0,Sn.U)(q=>Object.assign(Object.assign({},F),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,en.b)(qt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:qt.urlAfterRedirects})}),function uo(D,v,_,x,F){return(0,xn.z)(q=>function Ho(D,v,_,x,F="emptyOnly",q="legacy"){try{const ne=new Ls(D,v,_,x,F,q).recognize();return null===ne?ds(new Mi):(0,oe.of)(ne)}catch(ne){return ds(ne)}}(D,v,q.urlAfterRedirects,_(q.urlAfterRedirects),x,F).pipe((0,Sn.U)(ne=>Object.assign(Object.assign({},q),{targetSnapshot:ne}))))}(this.rootComponentType,this.config,qt=>this.serializeUrl(qt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,en.b)(qt=>{if("eager"===this.urlUpdateStrategy){if(!qt.extras.skipLocationChange){const we=this.urlHandlingStrategy.merge(qt.urlAfterRedirects,qt.rawUrl);this.setBrowserUrl(we,qt)}this.browserUrlTree=qt.urlAfterRedirects}const wr=new xr(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);x.next(wr)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:wr,extractedUrl:we,source:Ji,restoredState:Ei,extras:fr}=ce,hs=new mi(wr,this.serializeUrl(we),Ji,Ei);x.next(hs);const ki=kr(we,this.rootComponentType).snapshot;return(0,oe.of)(Object.assign(Object.assign({},ce),{targetSnapshot:ki,urlAfterRedirects:we,extras:Object.assign(Object.assign({},fr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ce.rawUrl,ce.resolve(null),be.E}),yu(ce=>{const{targetSnapshot:Ge,id:Bt,extractedUrl:Fn,rawUrl:qt,extras:{skipLocationChange:wr,replaceUrl:we}}=ce;return this.hooks.beforePreactivation(Ge,{navigationId:Bt,appliedUrlTree:Fn,rawUrlTree:qt,skipLocationChange:!!wr,replaceUrl:!!we})}),(0,en.b)(ce=>{const Ge=new Wr(ce.id,this.serializeUrl(ce.extractedUrl),this.serializeUrl(ce.urlAfterRedirects),ce.targetSnapshot);this.triggerEvent(Ge)}),(0,Sn.U)(ce=>Object.assign(Object.assign({},ce),{guards:Ts(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)})),function Fs(D,v){return(0,xn.z)(_=>{const{targetSnapshot:x,currentSnapshot:F,guards:{canActivateChecks:q,canDeactivateChecks:ne}}=_;return 0===ne.length&&0===q.length?(0,oe.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function As(D,v,_,x){return(0,Ve.D)(D).pipe((0,xn.z)(F=>function ao(D,v,_,x,F){const q=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,oe.of)(!0);const ne=q.map(ce=>{const Ge=Cs(ce,v,F);let Bt;if(function Es(D){return D&&Ds(D.canDeactivate)}(Ge))Bt=Pt(Ge.canDeactivate(D,v,_,x));else{if(!Ds(Ge))throw new Error("Invalid CanDeactivate guard");Bt=Pt(Ge(D,v,_,x))}return Bt.pipe(br())});return(0,oe.of)(ne).pipe(V())}(F.component,F.route,_,v,x)),br(F=>!0!==F,!0))}(ne,x,F,D).pipe((0,xn.z)(ce=>ce&&function vs(D){return"boolean"==typeof D}(ce)?function so(D,v,_,x){return(0,Ve.D)(v).pipe((0,Nn.b)(F=>Wt(function ja(D,v){return null!==D&&v&&v(new ye(D)),(0,oe.of)(!0)}(F.route.parent,x),function wo(D,v){return null!==D&&v&&v(new Re(D)),(0,oe.of)(!0)}(F.route,x),function oo(D,v,_){const x=v[v.length-1],q=v.slice(0,v.length-1).reverse().map(ne=>function Ps(D){const v=D.routeConfig?D.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:D,guards:v}:null}(ne)).filter(ne=>null!==ne).map(ne=>Rt(()=>{const ce=ne.guards.map(Ge=>{const Bt=Cs(Ge,ne.node,_);let Fn;if(function Yi(D){return D&&Ds(D.canActivateChild)}(Bt))Fn=Pt(Bt.canActivateChild(x,D));else{if(!Ds(Bt))throw new Error("Invalid CanActivateChild guard");Fn=Pt(Bt(x,D))}return Fn.pipe(br())});return(0,oe.of)(ce).pipe(V())}));return(0,oe.of)(q).pipe(V())}(D,F.path,_),function $a(D,v,_){const x=v.routeConfig?v.routeConfig.canActivate:null;if(!x||0===x.length)return(0,oe.of)(!0);const F=x.map(q=>Rt(()=>{const ne=Cs(q,v,_);let ce;if(function xi(D){return D&&Ds(D.canActivate)}(ne))ce=Pt(ne.canActivate(v,D));else{if(!Ds(ne))throw new Error("Invalid CanActivate guard");ce=Pt(ne(v,D))}return ce.pipe(br())}));return(0,oe.of)(F).pipe(V())}(D,F.route,_))),br(F=>!0!==F,!0))}(x,q,D,v):(0,oe.of)(ce)),(0,Sn.U)(ce=>Object.assign(Object.assign({},_),{guardsResult:ce})))})}(this.ngModule.injector,ce=>this.triggerEvent(ce)),(0,en.b)(ce=>{if(Dr(ce.guardsResult)){const Bt=ir(`Redirecting to "${this.serializeUrl(ce.guardsResult)}"`);throw Bt.url=ce.guardsResult,Bt}const Ge=new tt(ce.id,this.serializeUrl(ce.extractedUrl),this.serializeUrl(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.triggerEvent(Ge)}),(0,tn.h)(ce=>!!ce.guardsResult||(this.restoreHistory(ce),this.cancelNavigationTransition(ce,""),!1)),yu(ce=>{if(ce.guards.canActivateChecks.length)return(0,oe.of)(ce).pipe((0,en.b)(Ge=>{const Bt=new gn(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(Bt)}),Fe(Ge=>{let Bt=!1;return(0,oe.of)(Ge).pipe(function $u(D,v){return(0,xn.z)(_=>{const{targetSnapshot:x,guards:{canActivateChecks:F}}=_;if(!F.length)return(0,oe.of)(_);let q=0;return(0,Ve.D)(F).pipe((0,Nn.b)(ne=>function lo(D,v,_,x){return function mu(D,v,_,x){const F=Object.keys(D);if(0===F.length)return(0,oe.of)({});const q={};return(0,Ve.D)(F).pipe((0,xn.z)(ne=>function qo(D,v,_,x){const F=Cs(D,v,x);return Pt(F.resolve?F.resolve(v,_):F(v,_))}(D[ne],v,_,x).pipe((0,en.b)(ce=>{q[ne]=ce}))),ur(1),(0,xn.z)(()=>Object.keys(q).length===F.length?(0,oe.of)(q):be.E))}(D._resolve,D,v,x).pipe((0,Sn.U)(q=>(D._resolvedData=q,D.data=Object.assign(Object.assign({},D.data),Qr(D,_).resolve),null)))}(ne.route,x,D,v)),(0,en.b)(()=>q++),ur(1),(0,xn.z)(ne=>q===F.length?(0,oe.of)(_):be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,en.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,"At least one route resolver didn't emit any value."))}}))}),(0,en.b)(Ge=>{const Bt=new $r(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(Bt)}))}),yu(ce=>{const{targetSnapshot:Ge,id:Bt,extractedUrl:Fn,rawUrl:qt,extras:{skipLocationChange:wr,replaceUrl:we}}=ce;return this.hooks.afterPreactivation(Ge,{navigationId:Bt,appliedUrlTree:Fn,rawUrlTree:qt,skipLocationChange:!!wr,replaceUrl:!!we})}),(0,Sn.U)(ce=>{const Ge=function vn(D,v,_){const x=Qn(D,v._root,_?_._root:void 0);return new Ci(x,v)}(this.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return Object.assign(Object.assign({},ce),{targetRouterState:Ge})}),(0,en.b)(ce=>{this.currentUrlTree=ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),this.routerState=ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ce),this.browserUrlTree=ce.urlAfterRedirects)}),((D,v,_)=>(0,Sn.U)(x=>(new _s(v,x.targetRouterState,x.currentRouterState,_).activate(D),x)))(this.rootContexts,this.routeReuseStrategy,ce=>this.triggerEvent(ce)),(0,en.b)({next(){q=!0},complete(){q=!0}}),function gr(D){return(0,it.e)((v,_)=>{try{v.subscribe(_)}finally{_.add(D)}})}(()=>{var ce;q||ne||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id)===F.id&&(this.currentNavigation=null)}),Yt(ce=>{if(ne=!0,function Ir(D){return D&&D[qn]}(ce)){const Ge=Dr(ce.url);Ge||(this.navigated=!0,this.restoreHistory(F,!0));const Bt=new rr(F.id,this.serializeUrl(F.extractedUrl),ce.message);x.next(Bt),Ge?setTimeout(()=>{const Fn=this.urlHandlingStrategy.merge(ce.url,this.rawUrlTree),qt={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gt(F.source)};this.scheduleNavigation(Fn,"imperative",null,qt,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const Ge=new yi(F.id,this.serializeUrl(F.extractedUrl),ce);x.next(Ge);try{F.resolve(this.errorHandler(ce))}catch(Bt){F.reject(Bt)}}return be.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const x="popstate"===_.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{var F;const q={replaceUrl:!0},ne=(null===(F=_.state)||void 0===F?void 0:F.navigationId)?_.state:null;if(ne){const Ge=Object.assign({},ne);delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(q.state=Ge)}const ce=this.parseUrl(_.url);this.scheduleNavigation(ce,x,ne,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Kt(_),this.config=_.map(k),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,x={}){const{relativeTo:F,queryParams:q,fragment:ne,queryParamsHandling:ce,preserveFragment:Ge}=x,Bt=F||this.routerState.root,Fn=Ge?this.currentUrlTree.fragment:ne;let qt=null;switch(ce){case"merge":qt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":qt=this.currentUrlTree.queryParams;break;default:qt=q||null}return null!==qt&&(qt=this.removeEmptyProps(qt)),function Kr(D,v,_,x,F){if(0===_.length)return ii(v.root,v.root,v,x,F);const q=function vo(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ls(!0,0,D);let v=0,_=!1;const x=D.reduce((F,q,ne)=>{if("object"==typeof q&&null!=q){if(q.outlets){const ce={};return vt(q.outlets,(Ge,Bt)=>{ce[Bt]="string"==typeof Ge?Ge.split("/"):Ge}),[...F,{outlets:ce}]}if(q.segmentPath)return[...F,q.segmentPath]}return"string"!=typeof q?[...F,q]:0===ne?(q.split("/").forEach((ce,Ge)=>{0==Ge&&"."===ce||(0==Ge&&""===ce?_=!0:".."===ce?v++:""!=ce&&F.push(ce))}),F):[...F,q]},[]);return new ls(_,v,x)}(_);if(q.toRoot())return ii(v.root,new nn([],{}),v,x,F);const ne=function Go(D,v,_){if(D.isAbsolute)return new Is(v.root,!0,0);if(-1===_.snapshot._lastPathIndex){const q=_.snapshot._urlSegment;return new Is(q,q===v.root,0)}const x=Hs(D.commands[0])?0:1;return function ks(D,v,_){let x=D,F=v,q=_;for(;q>F;){if(q-=F,x=x.parent,!x)throw new Error("Invalid number of '../'");F=x.segments.length}return new Is(x,!1,F-q)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+x,D.numberOfDoubleDots)}(q,v,D),ce=ne.processChildren?Gi(ne.segmentGroup,ne.index,q.commands):Si(ne.segmentGroup,ne.index,q.commands);return ii(ne.segmentGroup,ce,v,x,F)}(Bt,this.currentUrlTree,_,qt,null!=Fn?Fn:null)}navigateByUrl(_,x={skipLocationChange:!1}){const F=Dr(_)?_:this.parseUrl(_),q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,x)}navigate(_,x={skipLocationChange:!1}){return function Wo(D){for(let v=0;v<D.length;v++){const _=D[v];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${v}`)}}(_),this.navigateByUrl(this.createUrlTree(_,x),x)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let x;try{x=this.urlSerializer.parse(_)}catch(F){x=this.malformedUriErrorHandler(F,this.urlSerializer,_)}return x}isActive(_,x){let F;if(F=!0===x?Object.assign({},mt):!1===x?Object.assign({},Xn):x,Dr(_))return _e(this.currentUrlTree,_,F);const q=this.parseUrl(_);return _e(this.currentUrlTree,q,F)}removeEmptyProps(_){return Object.keys(_).reduce((x,F)=>{const q=_[F];return null!=q&&(x[F]=q),x},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new pn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,x,F,q,ne){var ce,Ge,Bt;if(this.disposed)return Promise.resolve(!1);const Fn=this.transitions.value,qt=Gt(x)&&Fn&&!Gt(Fn.source),wr=Fn.rawUrl.toString()===_.toString(),we=Fn.id===(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id);if(qt&&wr&&we)return Promise.resolve(!0);let Ei,fr,hs;ne?(Ei=ne.resolve,fr=ne.reject,hs=ne.promise):hs=new Promise((Oi,qu)=>{Ei=Oi,fr=qu});const ki=++this.navigationId;let Li;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),Li=F&&F.\u0275routerPageId?F.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(Ge=this.browserPageId)&&void 0!==Ge?Ge:0:(null!==(Bt=this.browserPageId)&&void 0!==Bt?Bt:0)+1):Li=0,this.setTransition({id:ki,targetPageId:Li,source:x,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:q,resolve:Ei,reject:fr,promise:hs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),hs.catch(Oi=>Promise.reject(Oi))}setBrowserUrl(_,x){const F=this.urlSerializer.serialize(_),q=Object.assign(Object.assign({},x.extras.state),this.generateNgRouterState(x.id,x.targetPageId));this.location.isCurrentPathEqualTo(F)||x.extras.replaceUrl?this.location.replaceState(F,"",q):this.location.go(F,"",q)}restoreHistory(_,x=!1){var F,q;if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===ne?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===ne&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ne)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,x){const F=new rr(_.id,this.serializeUrl(_.extractedUrl),x);this.triggerEvent(F),_.resolve(!1)}generateNgRouterState(_,x){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:x}:{navigationId:_}}}return D.\u0275fac=function(_){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();function Gt(D){return"imperative"!==D}let Xs=(()=>{class D{constructor(_,x,F){this.router=_,this.route=x,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new E.x,this.subscription=_.events.subscribe(q=>{q instanceof pn&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,x,F,q,ne){if(0!==_||x||F||q||ne||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ce={skipLocationChange:Nt(this.skipLocationChange),replaceUrl:Nt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ce),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nt(this.preserveFragment)})}}return D.\u0275fac=function(_){return new(_||D)(w.Y36(Jr),w.Y36(di),w.Y36(nr.S$))},D.\u0275dir=w.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,x){1&_&&w.NdJ("click",function(q){return x.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&_&&w.uIk("target",x.target)("href",x.href,w.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[w.TTD]}),D})();function Nt(D){return""===D||!!D}class Ur{}class Ga{preload(v,_){return(0,oe.of)(null)}}let Fi=(()=>{class D{constructor(_,x,F,q){this.router=_,this.injector=F,this.preloadingStrategy=q,this.loader=new Ri(F,x,Ge=>_.triggerEvent(new qe(Ge)),Ge=>_.triggerEvent(new pe(Ge)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,tn.h)(_=>_ instanceof pn),(0,Nn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(w.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,x){const F=[];for(const q of x)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const ne=q._loadedConfig;F.push(this.processRoutes(ne.module,ne.routes))}else q.loadChildren&&!q.canLoad?F.push(this.preloadConfig(_,q)):q.children&&F.push(this.processRoutes(_,q.children));return(0,Ve.D)(F).pipe((0,Ot.J)(),(0,Sn.U)(q=>{}))}preloadConfig(_,x){return this.preloadingStrategy.preload(x,()=>(x._loadedConfig?(0,oe.of)(x._loadedConfig):this.loader.load(_.injector,x)).pipe((0,xn.z)(q=>(x._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return D.\u0275fac=function(_){return new(_||D)(w.LFG(Jr),w.LFG(w.Sil),w.LFG(w.zs3),w.LFG(Ur))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})(),pa=(()=>{class D{constructor(_,x,F={}){this.router=_,this.viewportScroller=x,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof pn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof wt&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,x){this.router.triggerEvent(new wt(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(_){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();const Do=new w.OlP("ROUTER_CONFIGURATION"),_u=new w.OlP("ROUTER_FORROOT_GUARD"),ud=[nr.Ye,{provide:Yr,useClass:$i},{provide:Jr,useFactory:function Lr(D,v,_,x,F,q,ne={},ce,Ge){const Bt=new Jr(null,D,v,_,x,F,er(q));return ce&&(Bt.urlHandlingStrategy=ce),Ge&&(Bt.routeReuseStrategy=Ge),function wn(D,v){D.errorHandler&&(v.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(v.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(v.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(v.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(v.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(v.canceledNavigationResolution=D.canceledNavigationResolution)}(ne,Bt),ne.enableTracing&&Bt.events.subscribe(Fn=>{var qt,wr;null===(qt=console.group)||void 0===qt||qt.call(console,`Router Event: ${Fn.constructor.name}`),console.log(Fn.toString()),console.log(Fn),null===(wr=console.groupEnd)||void 0===wr||wr.call(console)}),Bt},deps:[Yr,le,nr.Ye,w.zs3,w.Sil,Al,Do,[class Or{},new w.FiY],[class Cl{},new w.FiY]]},le,{provide:di,useFactory:function Ss(D){return D.routerState.root},deps:[Jr]},Fi,Ga,class Gu{preload(v,_){return _().pipe(Yt(()=>(0,oe.of)(null)))}},{provide:Do,useValue:{enableTracing:!1}}];function Hu(){return new w.PXZ("Router",Jr)}let Ha=(()=>{class D{constructor(_,x){}static forRoot(_,x){return{ngModule:D,providers:[ud,ga(_),{provide:_u,useFactory:To,deps:[[Jr,new w.FiY,new w.tp0]]},{provide:Do,useValue:x||{}},{provide:nr.S$,useFactory:En,deps:[nr.lw,[new w.tBr(nr.mr),new w.FiY],Do]},{provide:pa,useFactory:za,deps:[Jr,nr.EM,Do]},{provide:Ur,useExisting:x&&x.preloadingStrategy?x.preloadingStrategy:Ga},{provide:w.PXZ,multi:!0,useFactory:Hu},[Tn,{provide:w.ip1,multi:!0,useFactory:Ko,deps:[Tn]},{provide:Ft,useFactory:oi,deps:[Tn]},{provide:w.tb,multi:!0,useExisting:Ft}]]}}static forChild(_){return{ngModule:D,providers:[ga(_)]}}}return D.\u0275fac=function(_){return new(_||D)(w.LFG(_u,8),w.LFG(Jr,8))},D.\u0275mod=w.oAB({type:D}),D.\u0275inj=w.cJS({}),D})();function za(D,v,_){return _.scrollOffset&&v.setOffset(_.scrollOffset),new pa(D,v,_)}function En(D,v,_={}){return _.useHash?new nr.Do(D,v):new nr.b0(D,v)}function To(D){return"guarded"}function ga(D){return[{provide:w.deG,multi:!0,useValue:D},{provide:Al,multi:!0,useValue:D}]}let Tn=(()=>{class D{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new E.x}appInitializer(){return this.injector.get(nr.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let x=null;const F=new Promise(ce=>x=ce),q=this.injector.get(Jr),ne=this.injector.get(Do);return"disabled"===ne.initialNavigation?(q.setUpLocationChangeListener(),x(!0)):"enabled"===ne.initialNavigation||"enabledBlocking"===ne.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,oe.of)(null):(this.initNavigation=!0,x(!0),this.resultOfPreactivationDone),q.initialNavigation()):x(!0),F})}bootstrapListener(_){const x=this.injector.get(Do),F=this.injector.get(Fi),q=this.injector.get(pa),ne=this.injector.get(Jr),ce=this.injector.get(w.z2F);_===ce.components[0]&&(("enabledNonBlocking"===x.initialNavigation||void 0===x.initialNavigation)&&ne.initialNavigation(),F.setUpPreloading(),q.init(),ne.resetRootComponentType(ce.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(_){return new(_||D)(w.LFG(w.zs3))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();function Ko(D){return D.appInitializer.bind(D)}function oi(D){return D.bootstrapListener.bind(D)}const Ft=new w.OlP("Router Initializer")},9681:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Jn:()=>mi,qX:()=>Sn,Xd:()=>gr,Mq:()=>rr,C6:()=>yi,ZF:()=>pn,KN:()=>tt});var w=Z(5861),E=Z(4859),ve=Z(1877),Te=Z(2090),ge=Z(8766);class Ve{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function We(kt){const je=kt.getComponent();return"VERSION"===(null==je?void 0:je.type)}(vt)){const Pt=vt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(vt=>vt).join(" ")}}const ke="@firebase/app",Q=new ve.Yd("@firebase/app"),Vt="[DEFAULT]",Pr={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hn=new Map,$n=new Map;function pr(kt,je){try{kt.container.addComponent(je)}catch(vt){Q.debug(`Component ${je.name} failed to register with FirebaseApp ${kt.name}`,vt)}}function gr(kt){const je=kt.name;if($n.has(je))return Q.debug(`There were multiple attempts to register component ${je}.`),!1;$n.set(je,kt);for(const vt of Hn.values())pr(vt,kt);return!0}function Sn(kt,je){const vt=kt.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),kt.container.getProvider(je)}const nr=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zr{constructor(je,vt,Pt){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const mi="9.11.0";function pn(kt,je={}){let vt=kt;"object"!=typeof je&&(je={name:je});const Pt=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},je),$t=Pt.name;if("string"!=typeof $t||!$t)throw nr.create("bad-app-name",{appName:String($t)});if(vt||(vt=(0,Te.aH)()),!vt)throw nr.create("no-options");const te=Hn.get($t);if(te){if((0,Te.vZ)(vt,te.options)&&(0,Te.vZ)(Pt,te.config))return te;throw nr.create("duplicate-app",{appName:$t})}const ae=new E.H0($t);for(const Je of $n.values())ae.addComponent(Je);const _e=new zr(vt,Pt,ae);return Hn.set($t,_e),_e}function rr(kt=Vt){const je=Hn.get(kt);if(!je&&kt===Vt)return pn();if(!je)throw nr.create("no-app",{appName:kt});return je}function yi(){return Array.from(Hn.values())}function tt(kt,je,vt){var Pt;let $t=null!==(Pt=Pr[kt])&&void 0!==Pt?Pt:kt;vt&&($t+=`-${vt}`);const te=$t.match(/\s|\//),ae=je.match(/\s|\//);if(te||ae){const _e=[`Unable to register library "${$t}" with version "${je}":`];return te&&_e.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),te&&ae&&_e.push("and"),ae&&_e.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void Q.warn(_e.join(" "))}gr(new E.wA(`${$t}-version`,()=>({library:$t,version:je}),"VERSION"))}const ye="firebase-heartbeat-store";let st=null;function Re(){return st||(st=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(kt,je)=>{0===je&&kt.createObjectStore(ye)}}).catch(kt=>{throw nr.create("idb-open",{originalErrorMessage:kt.message})})),st}function wt(){return(wt=(0,w.Z)(function*(kt){var je;try{return(yield Re()).transaction(ye).objectStore(ye).get(Mn(kt))}catch(vt){if(vt instanceof Te.ZR)Q.warn(vt.message);else{const Pt=nr.create("idb-get",{originalErrorMessage:null===(je=vt)||void 0===je?void 0:je.message});Q.warn(Pt.message)}}})).apply(this,arguments)}function Qe(kt,je){return sn.apply(this,arguments)}function sn(){return(sn=(0,w.Z)(function*(kt,je){var vt;try{const $t=(yield Re()).transaction(ye,"readwrite");return yield $t.objectStore(ye).put(je,Mn(kt)),$t.done}catch(Pt){if(Pt instanceof Te.ZR)Q.warn(Pt.message);else{const $t=nr.create("idb-set",{originalErrorMessage:null===(vt=Pt)||void 0===vt?void 0:vt.message});Q.warn($t.message)}}})).apply(this,arguments)}function Mn(kt){return`${kt.name}!${kt.options.appId}`}class Ir{constructor(je){this.container=je,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new mn(vt),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var je=this;return(0,w.Z)(function*(){const Pt=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Pn();if(null===je._heartbeatsCache&&(je._heartbeatsCache=yield je._heartbeatsCachePromise),je._heartbeatsCache.lastSentHeartbeatDate!==$t&&!je._heartbeatsCache.heartbeats.some(te=>te.date===$t))return je._heartbeatsCache.heartbeats.push({date:$t,agent:Pt}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(te=>{const ae=new Date(te.date).valueOf();return Date.now()-ae<=2592e6}),je._storage.overwrite(je._heartbeatsCache)})()}getHeartbeatsHeader(){var je=this;return(0,w.Z)(function*(){if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null===je._heartbeatsCache||0===je._heartbeatsCache.heartbeats.length)return"";const vt=Pn(),{heartbeatsToSend:Pt,unsentEntries:$t}=function bt(kt,je=1024){const vt=[];let Pt=kt.slice();for(const $t of kt){const te=vt.find(ae=>ae.agent===$t.agent);if(te){if(te.dates.push($t.date),yn(vt)>je){te.dates.pop();break}}else if(vt.push({agent:$t.agent,dates:[$t.date]}),yn(vt)>je){vt.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:Pt}}(je._heartbeatsCache.heartbeats),te=(0,Te.L)(JSON.stringify({version:2,heartbeats:Pt}));return je._heartbeatsCache.lastSentHeartbeatDate=vt,$t.length>0?(je._heartbeatsCache.heartbeats=$t,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),te})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class mn{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,w.Z)(function*(){return(yield je._canUseIndexedDBPromise)&&(yield function Ct(kt){return wt.apply(this,arguments)}(je.app))||{heartbeats:[]}})()}overwrite(je){var vt=this;return(0,w.Z)(function*(){var Pt;if(yield vt._canUseIndexedDBPromise){const te=yield vt.read();return Qe(vt.app,{lastSentHeartbeatDate:null!==(Pt=je.lastSentHeartbeatDate)&&void 0!==Pt?Pt:te.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var vt=this;return(0,w.Z)(function*(){var Pt;if(yield vt._canUseIndexedDBPromise){const te=yield vt.read();return Qe(vt.app,{lastSentHeartbeatDate:null!==(Pt=je.lastSentHeartbeatDate)&&void 0!==Pt?Pt:te.lastSentHeartbeatDate,heartbeats:[...te.heartbeats,...je.heartbeats]})}})()}}function yn(kt){return(0,Te.L)(JSON.stringify({version:2,heartbeats:kt})).length}!function er(kt){gr(new E.wA("platform-logger",je=>new Ve(je),"PRIVATE")),gr(new E.wA("heartbeat",je=>new Ir(je),"PRIVATE")),tt(ke,"0.8.0",kt),tt(ke,"0.8.0","esm2017"),tt("fire-js","")}("")},4859:(Qt,ze,Z)=>{"use strict";Z.d(ze,{wA:()=>ve,H0:()=>ke});var w=Z(5861),E=Z(2090);class ve{constructor(Q,fe,Ze){this.name=Q,this.instanceFactory=fe,this.type=Ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Te="[DEFAULT]";class ge{constructor(Q,fe){this.name=Q,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const fe=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(fe)){const Ze=new E.BH;if(this.instancesDeferred.set(fe,Ze),this.isInitialized(fe)||this.shouldAutoInitialize())try{const Dt=this.getOrInitializeService({instanceIdentifier:fe});Dt&&Ze.resolve(Dt)}catch(Dt){}}return this.instancesDeferred.get(fe).promise}getImmediate(Q){var fe;const Ze=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Dt=null!==(fe=null==Q?void 0:Q.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ze)&&!this.shouldAutoInitialize()){if(Dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ze})}catch(nt){if(Dt)return null;throw nt}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function We(Ye){return"EAGER"===Ye.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(fe){}for(const[fe,Ze]of this.instancesDeferred.entries()){const Dt=this.normalizeInstanceIdentifier(fe);try{const nt=this.getOrInitializeService({instanceIdentifier:Dt});Ze.resolve(nt)}catch(nt){}}}}clearInstance(Q=Te){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,w.Z)(function*(){const fe=Array.from(Q.instances.values());yield Promise.all([...fe.filter(Ze=>"INTERNAL"in Ze).map(Ze=>Ze.INTERNAL.delete()),...fe.filter(Ze=>"_delete"in Ze).map(Ze=>Ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Te){return this.instances.has(Q)}getOptions(Q=Te){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:fe={}}=Q,Ze=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Ze))throw Error(`${this.name}(${Ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Dt=this.getOrInitializeService({instanceIdentifier:Ze,options:fe});for(const[nt,pt]of this.instancesDeferred.entries())Ze===this.normalizeInstanceIdentifier(nt)&&pt.resolve(Dt);return Dt}onInit(Q,fe){var Ze;const Dt=this.normalizeInstanceIdentifier(fe),nt=null!==(Ze=this.onInitCallbacks.get(Dt))&&void 0!==Ze?Ze:new Set;nt.add(Q),this.onInitCallbacks.set(Dt,nt);const pt=this.instances.get(Dt);return pt&&Q(pt,Dt),()=>{nt.delete(Q)}}invokeOnInitCallbacks(Q,fe){const Ze=this.onInitCallbacks.get(fe);if(Ze)for(const Dt of Ze)try{Dt(Q,fe)}catch(nt){}}getOrInitializeService({instanceIdentifier:Q,options:fe={}}){let Ze=this.instances.get(Q);if(!Ze&&this.component&&(Ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=Q,Ye===Te?void 0:Ye),options:fe}),this.instances.set(Q,Ze),this.instancesOptions.set(Q,fe),this.invokeOnInitCallbacks(Ze,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Ze)}catch(Dt){}var Ye;return Ze||null}normalizeInstanceIdentifier(Q=Te){return this.component?this.component.multipleInstances?Q:Te:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const fe=this.getProvider(Q.name);if(fe.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);fe.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const fe=new ge(Q,this);return this.providers.set(Q,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,ze,Z)=>{"use strict";Z.d(ze,{in:()=>E,Yd:()=>We});const w=[];var E=(()=>{return(Q=E||(E={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",E;var Q})();const ve={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Te=E.INFO,ge={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Ve=(Q,fe,...Ze)=>{if(fe<Q.logLevel)return;const Dt=(new Date).toISOString(),nt=ge[fe];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[nt](`[${Dt}]  ${Q.name}:`,...Ze)};class We{constructor(fe){this.name=fe,this._logLevel=Te,this._logHandler=Ve,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in E))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?ve[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...fe),this._logHandler(this,E.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...fe),this._logHandler(this,E.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,E.INFO,...fe),this._logHandler(this,E.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,E.WARN,...fe),this._logHandler(this,E.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...fe),this._logHandler(this,E.ERROR,...fe)}}},8766:(Qt,ze,Z)=>{"use strict";Z.d(ze,{Lj:()=>Ne,X3:()=>Wt});var w=Z(5861);let ve,Te;const We=new WeakMap,ke=new WeakMap,Ye=new WeakMap,Q=new WeakMap,fe=new WeakMap;let nt={get(Ce,oe,be){if(Ce instanceof IDBTransaction){if("done"===oe)return ke.get(Ce);if("objectStoreNames"===oe)return Ce.objectStoreNames||Ye.get(Ce);if("store"===oe)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Ot(Ce[oe])},set:(Ce,oe,be)=>(Ce[oe]=be,!0),has:(Ce,oe)=>Ce instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in Ce};function gt(Ce){return"function"==typeof Ce?function zt(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...oe){return Ce.apply(Et(this),oe),Ot(We.get(this))}:function(...oe){return Ot(Ce.apply(Et(this),oe))}:function(oe,...be){const Fe=Ce.call(Et(this),oe,...be);return Ye.set(Fe,oe.sort?oe.sort():[oe]),Ot(Fe)}}(Ce):(Ce instanceof IDBTransaction&&function Dt(Ce){if(ke.has(Ce))return;const oe=new Promise((be,Fe)=>{const He=()=>{Ce.removeEventListener("complete",Ke),Ce.removeEventListener("error",Ae),Ce.removeEventListener("abort",Ae)},Ke=()=>{be(),He()},Ae=()=>{Fe(Ce.error||new DOMException("AbortError","AbortError")),He()};Ce.addEventListener("complete",Ke),Ce.addEventListener("error",Ae),Ce.addEventListener("abort",Ae)});ke.set(Ce,oe)}(Ce),((Ce,oe)=>oe.some(be=>Ce instanceof be))(Ce,function ge(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,nt):Ce)}function Ot(Ce){if(Ce instanceof IDBRequest)return function Ze(Ce){const oe=new Promise((be,Fe)=>{const He=()=>{Ce.removeEventListener("success",Ke),Ce.removeEventListener("error",Ae)},Ke=()=>{be(Ot(Ce.result)),He()},Ae=()=>{Fe(Ce.error),He()};Ce.addEventListener("success",Ke),Ce.addEventListener("error",Ae)});return oe.then(be=>{be instanceof IDBCursor&&We.set(be,Ce)}).catch(()=>{}),fe.set(oe,Ce),oe}(Ce);if(Q.has(Ce))return Q.get(Ce);const oe=gt(Ce);return oe!==Ce&&(Q.set(Ce,oe),fe.set(oe,Ce)),oe}const Et=Ce=>fe.get(Ce);function Wt(Ce,oe,{blocked:be,upgrade:Fe,blocking:He,terminated:Ke}={}){const Ae=indexedDB.open(Ce,oe),Yt=Ot(Ae);return Fe&&Ae.addEventListener("upgradeneeded",tn=>{Fe(Ot(Ae.result),tn.oldVersion,tn.newVersion,Ot(Ae.transaction))}),be&&Ae.addEventListener("blocked",()=>be()),Yt.then(tn=>{Ke&&tn.addEventListener("close",()=>Ke()),He&&tn.addEventListener("versionchange",()=>He())}).catch(()=>{}),Yt}function Ne(Ce,{blocked:oe}={}){const be=indexedDB.deleteDatabase(Ce);return oe&&be.addEventListener("blocked",()=>oe()),Ot(be).then(()=>{})}const Rt=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],it=new Map;function on(Ce,oe){if(!(Ce instanceof IDBDatabase)||oe in Ce||"string"!=typeof oe)return;if(it.get(oe))return it.get(oe);const be=oe.replace(/FromIndex$/,""),Fe=oe!==be,He=It.includes(be);if(!(be in(Fe?IDBIndex:IDBObjectStore).prototype)||!He&&!Rt.includes(be))return;const Ke=function(){var Ae=(0,w.Z)(function*(Yt,...tn){const ur=this.transaction(Yt,He?"readwrite":"readonly");let Vt=ur.store;return Fe&&(Vt=Vt.index(tn.shift())),(yield Promise.all([Vt[be](...tn),He&&ur.done]))[0]});return function(tn){return Ae.apply(this,arguments)}}();return it.set(oe,Ke),Ke}!function pt(Ce){nt=Ce(nt)}(Ce=>aE(oE({},Ce),{get:(oe,be,Fe)=>on(oe,be)||Ce.get(oe,be,Fe),has:(oe,be)=>!!on(oe,be)||Ce.has(oe,be)}))},5861:(Qt,ze,Z)=>{"use strict";function w(ve,Te,ge,Ve,We,ke,Ye){try{var Q=ve[ke](Ye),fe=Q.value}catch(Ze){return void ge(Ze)}Q.done?Te(fe):Promise.resolve(fe).then(Ve,We)}function E(ve){return function(){var Te=this,ge=arguments;return new Promise(function(Ve,We){var ke=ve.apply(Te,ge);function Ye(fe){w(ke,Ve,We,Ye,Q,"next",fe)}function Q(fe){w(ke,Ve,We,Ye,Q,"throw",fe)}Ye(void 0)})}}Z.d(ze,{Z:()=>E})}},Qt=>{Qt(Qt.s=5972)}]);